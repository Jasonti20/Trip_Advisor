{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar _excluded = [\"prefixCls\", \"height\", \"itemHeight\", \"fullHeight\", \"data\", \"itemKey\", \"virtual\", \"component\", \"onScroll\", \"children\", \"style\", \"class\"];\nimport { resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\nimport { shallowRef, toRaw, onMounted, onUpdated, ref, defineComponent, watchEffect, computed, nextTick, onBeforeUnmount, reactive, watch } from 'vue';\nimport Filler from './Filler';\nimport Item from './Item';\nimport ScrollBar from './ScrollBar';\nimport useHeights from './hooks/useHeights';\nimport useScrollTo from './hooks/useScrollTo';\nimport useFrameWheel from './hooks/useFrameWheel';\nimport useMobileTouchMove from './hooks/useMobileTouchMove';\nimport useOriginScroll from './hooks/useOriginScroll';\nimport PropTypes from '../_util/vue-types';\nimport classNames from '../_util/classNames';\nimport supportsPassive from '../_util/supportsPassive';\nvar EMPTY_DATA = [];\nvar ScrollStyle = {\n  overflowY: 'auto',\n  overflowAnchor: 'none'\n};\n\nfunction renderChildren(list, startIndex, endIndex, setNodeRef, renderFunc, _ref) {\n  var getKey = _ref.getKey;\n  return list.slice(startIndex, endIndex + 1).map(function (item, index) {\n    var eleIndex = startIndex + index;\n    var node = renderFunc(item, eleIndex, {// style: status === 'MEASURE_START' ? { visibility: 'hidden' } : {},\n    });\n    var key = getKey(item);\n    return _createVNode(Item, {\n      \"key\": key,\n      \"setRef\": function setRef(ele) {\n        return setNodeRef(item, ele);\n      }\n    }, {\n      default: function _default() {\n        return [node];\n      }\n    });\n  });\n}\n\nvar List = defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'List',\n  inheritAttrs: false,\n  props: {\n    prefixCls: String,\n    data: PropTypes.array,\n    height: Number,\n    itemHeight: Number,\n\n    /** If not match virtual scroll condition, Set List still use height of container. */\n    fullHeight: {\n      type: Boolean,\n      default: undefined\n    },\n    itemKey: {\n      type: [String, Number, Function],\n      required: true\n    },\n    component: {\n      type: [String, Object]\n    },\n\n    /** Set `false` will always use real scroll instead of virtual one */\n    virtual: {\n      type: Boolean,\n      default: undefined\n    },\n    children: Function,\n    onScroll: Function,\n    onMousedown: Function,\n    onMouseenter: Function,\n    onVisibleChange: Function\n  },\n  setup: function setup(props, _ref2) {\n    var expose = _ref2.expose; // ================================= MISC =================================\n\n    var useVirtual = computed(function () {\n      var height = props.height,\n          itemHeight = props.itemHeight,\n          virtual = props.virtual;\n      return !!(virtual !== false && height && itemHeight);\n    });\n    var inVirtual = computed(function () {\n      var height = props.height,\n          itemHeight = props.itemHeight,\n          data = props.data;\n      return useVirtual.value && data && itemHeight * data.length > height;\n    });\n    var state = reactive({\n      scrollTop: 0,\n      scrollMoving: false\n    });\n    var data = computed(function () {\n      return props.data || EMPTY_DATA;\n    });\n    var mergedData = shallowRef([]);\n    watch(data, function () {\n      mergedData.value = toRaw(data.value).slice();\n    }, {\n      immediate: true\n    }); // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n    var itemKey = shallowRef(function (_item) {\n      return undefined;\n    });\n    watch(function () {\n      return props.itemKey;\n    }, function (val) {\n      if (typeof val === 'function') {\n        itemKey.value = val;\n      } else {\n        itemKey.value = function (item) {\n          return item === null || item === void 0 ? void 0 : item[val];\n        };\n      }\n    }, {\n      immediate: true\n    });\n    var componentRef = ref();\n    var fillerInnerRef = ref();\n    var scrollBarRef = ref(); // Hack on scrollbar to enable flash call\n    // =============================== Item Key ===============================\n\n    var getKey = function getKey(item) {\n      return itemKey.value(item);\n    };\n\n    var sharedConfig = {\n      getKey: getKey\n    }; // ================================ Scroll ================================\n\n    function syncScrollTop(newTop) {\n      var value;\n\n      if (typeof newTop === 'function') {\n        value = newTop(state.scrollTop);\n      } else {\n        value = newTop;\n      }\n\n      var alignedTop = keepInRange(value);\n\n      if (componentRef.value) {\n        componentRef.value.scrollTop = alignedTop;\n      }\n\n      state.scrollTop = alignedTop;\n    } // ================================ Height ================================\n\n\n    var _useHeights = useHeights(mergedData, getKey, null, null),\n        _useHeights2 = _slicedToArray(_useHeights, 4),\n        setInstance = _useHeights2[0],\n        collectHeight = _useHeights2[1],\n        heights = _useHeights2[2],\n        updatedMark = _useHeights2[3];\n\n    var calRes = reactive({\n      scrollHeight: undefined,\n      start: 0,\n      end: 0,\n      offset: undefined\n    });\n    var offsetHeight = ref(0);\n    onMounted(function () {\n      nextTick(function () {\n        var _fillerInnerRef$value;\n\n        offsetHeight.value = ((_fillerInnerRef$value = fillerInnerRef.value) === null || _fillerInnerRef$value === void 0 ? void 0 : _fillerInnerRef$value.offsetHeight) || 0;\n      });\n    });\n    onUpdated(function () {\n      nextTick(function () {\n        var _fillerInnerRef$value2;\n\n        offsetHeight.value = ((_fillerInnerRef$value2 = fillerInnerRef.value) === null || _fillerInnerRef$value2 === void 0 ? void 0 : _fillerInnerRef$value2.offsetHeight) || 0;\n      });\n    });\n    watch([useVirtual, mergedData], function () {\n      if (!useVirtual.value) {\n        _extends(calRes, {\n          scrollHeight: undefined,\n          start: 0,\n          end: mergedData.value.length - 1,\n          offset: undefined\n        });\n      }\n    }, {\n      immediate: true\n    });\n    watch([useVirtual, mergedData, offsetHeight, inVirtual], function () {\n      // Always use virtual scroll bar in avoid shaking\n      if (useVirtual.value && !inVirtual.value) {\n        _extends(calRes, {\n          scrollHeight: offsetHeight.value,\n          start: 0,\n          end: mergedData.value.length - 1,\n          offset: undefined\n        });\n      }\n    }, {\n      immediate: true\n    });\n    watch([inVirtual, useVirtual, function () {\n      return state.scrollTop;\n    }, mergedData, updatedMark, function () {\n      return props.height;\n    }, offsetHeight], function () {\n      if (!useVirtual.value || !inVirtual.value) {\n        return;\n      }\n\n      var itemTop = 0;\n      var startIndex;\n      var startOffset;\n      var endIndex;\n      var dataLen = mergedData.value.length;\n      var data = mergedData.value;\n      var scrollTop = state.scrollTop;\n      var itemHeight = props.itemHeight,\n          height = props.height;\n      var scrollTopHeight = scrollTop + height;\n\n      for (var i = 0; i < dataLen; i += 1) {\n        var item = data[i];\n        var key = getKey(item);\n        var cacheHeight = heights.get(key);\n\n        if (cacheHeight === undefined) {\n          cacheHeight = itemHeight;\n        }\n\n        var currentItemBottom = itemTop + cacheHeight;\n\n        if (startIndex === undefined && currentItemBottom >= scrollTop) {\n          startIndex = i;\n          startOffset = itemTop;\n        } // Check item bottom in the range. We will render additional one item for motion usage\n\n\n        if (endIndex === undefined && currentItemBottom > scrollTopHeight) {\n          endIndex = i;\n        }\n\n        itemTop = currentItemBottom;\n      } // Fallback to normal if not match. This code should never reach\n\n      /* istanbul ignore next */\n\n\n      if (startIndex === undefined) {\n        startIndex = 0;\n        startOffset = 0;\n      }\n\n      if (endIndex === undefined) {\n        endIndex = dataLen - 1;\n      } // Give cache to improve scroll experience\n\n\n      endIndex = Math.min(endIndex + 1, dataLen);\n\n      _extends(calRes, {\n        scrollHeight: itemTop,\n        start: startIndex,\n        end: endIndex,\n        offset: startOffset\n      });\n    }, {\n      immediate: true\n    }); // =============================== In Range ===============================\n\n    var maxScrollHeight = computed(function () {\n      return calRes.scrollHeight - props.height;\n    });\n\n    function keepInRange(newScrollTop) {\n      var newTop = newScrollTop;\n\n      if (!Number.isNaN(maxScrollHeight.value)) {\n        newTop = Math.min(newTop, maxScrollHeight.value);\n      }\n\n      newTop = Math.max(newTop, 0);\n      return newTop;\n    }\n\n    var isScrollAtTop = computed(function () {\n      return state.scrollTop <= 0;\n    });\n    var isScrollAtBottom = computed(function () {\n      return state.scrollTop >= maxScrollHeight.value;\n    });\n    var originScroll = useOriginScroll(isScrollAtTop, isScrollAtBottom); // ================================ Scroll ================================\n\n    function onScrollBar(newScrollTop) {\n      var newTop = newScrollTop;\n      syncScrollTop(newTop);\n    } // When data size reduce. It may trigger native scroll event back to fit scroll position\n\n\n    function onFallbackScroll(e) {\n      var _props$onScroll;\n\n      var newScrollTop = e.currentTarget.scrollTop;\n\n      if (Math.abs(newScrollTop - state.scrollTop) >= 1) {\n        syncScrollTop(newScrollTop);\n      } // Trigger origin onScroll\n\n\n      (_props$onScroll = props.onScroll) === null || _props$onScroll === void 0 ? void 0 : _props$onScroll.call(props, e);\n    } // Since this added in global,should use ref to keep update\n\n\n    var _useFrameWheel = useFrameWheel(useVirtual, isScrollAtTop, isScrollAtBottom, function (offsetY) {\n      syncScrollTop(function (top) {\n        var newTop = top + offsetY;\n        return newTop;\n      });\n    }),\n        _useFrameWheel2 = _slicedToArray(_useFrameWheel, 2),\n        onRawWheel = _useFrameWheel2[0],\n        onFireFoxScroll = _useFrameWheel2[1]; // Mobile touch move\n\n\n    useMobileTouchMove(useVirtual, componentRef, function (deltaY, smoothOffset) {\n      if (originScroll(deltaY, smoothOffset)) {\n        return false;\n      }\n\n      onRawWheel({\n        preventDefault: function preventDefault() {},\n        deltaY: deltaY\n      });\n      return true;\n    }); // Firefox only\n\n    function onMozMousePixelScroll(e) {\n      if (useVirtual.value) {\n        e.preventDefault();\n      }\n    }\n\n    var removeEventListener = function removeEventListener() {\n      if (componentRef.value) {\n        componentRef.value.removeEventListener('wheel', onRawWheel, supportsPassive ? {\n          passive: false\n        } : false);\n        componentRef.value.removeEventListener('DOMMouseScroll', onFireFoxScroll);\n        componentRef.value.removeEventListener('MozMousePixelScroll', onMozMousePixelScroll);\n      }\n    };\n\n    watchEffect(function () {\n      nextTick(function () {\n        if (componentRef.value) {\n          removeEventListener();\n          componentRef.value.addEventListener('wheel', onRawWheel, supportsPassive ? {\n            passive: false\n          } : false);\n          componentRef.value.addEventListener('DOMMouseScroll', onFireFoxScroll);\n          componentRef.value.addEventListener('MozMousePixelScroll', onMozMousePixelScroll);\n        }\n      });\n    });\n    onBeforeUnmount(function () {\n      removeEventListener();\n    }); // ================================= Ref ==================================\n\n    var scrollTo = useScrollTo(componentRef, mergedData, heights, props, getKey, collectHeight, syncScrollTop, function () {\n      var _scrollBarRef$value;\n\n      (_scrollBarRef$value = scrollBarRef.value) === null || _scrollBarRef$value === void 0 ? void 0 : _scrollBarRef$value.delayHidden();\n    });\n    expose({\n      scrollTo: scrollTo\n    });\n    var componentStyle = computed(function () {\n      var cs = null;\n\n      if (props.height) {\n        cs = _objectSpread(_defineProperty({}, props.fullHeight ? 'height' : 'maxHeight', props.height + 'px'), ScrollStyle);\n\n        if (useVirtual.value) {\n          cs.overflowY = 'hidden';\n\n          if (state.scrollMoving) {\n            cs.pointerEvents = 'none';\n          }\n        }\n      }\n\n      return cs;\n    }); // ================================ Effect ================================\n\n    /** We need told outside that some list not rendered */\n\n    watch([function () {\n      return calRes.start;\n    }, function () {\n      return calRes.end;\n    }, mergedData], function () {\n      if (props.onVisibleChange) {\n        var renderList = mergedData.value.slice(calRes.start, calRes.end + 1);\n        props.onVisibleChange(renderList, mergedData.value);\n      }\n    }, {\n      flush: 'post'\n    });\n    return {\n      state: state,\n      mergedData: mergedData,\n      componentStyle: componentStyle,\n      onFallbackScroll: onFallbackScroll,\n      onScrollBar: onScrollBar,\n      componentRef: componentRef,\n      useVirtual: useVirtual,\n      calRes: calRes,\n      collectHeight: collectHeight,\n      setInstance: setInstance,\n      sharedConfig: sharedConfig,\n      scrollBarRef: scrollBarRef,\n      fillerInnerRef: fillerInnerRef\n    };\n  },\n  render: function render() {\n    var _this = this;\n\n    var _this$$props$this$$at = _objectSpread(_objectSpread({}, this.$props), this.$attrs),\n        _this$$props$this$$at2 = _this$$props$this$$at.prefixCls,\n        prefixCls = _this$$props$this$$at2 === void 0 ? 'rc-virtual-list' : _this$$props$this$$at2,\n        height = _this$$props$this$$at.height,\n        itemHeight = _this$$props$this$$at.itemHeight,\n        fullHeight = _this$$props$this$$at.fullHeight,\n        data = _this$$props$this$$at.data,\n        itemKey = _this$$props$this$$at.itemKey,\n        virtual = _this$$props$this$$at.virtual,\n        _this$$props$this$$at3 = _this$$props$this$$at.component,\n        Component = _this$$props$this$$at3 === void 0 ? 'div' : _this$$props$this$$at3,\n        onScroll = _this$$props$this$$at.onScroll,\n        _this$$props$this$$at4 = _this$$props$this$$at.children,\n        children = _this$$props$this$$at4 === void 0 ? this.$slots.default : _this$$props$this$$at4,\n        style = _this$$props$this$$at.style,\n        className = _this$$props$this$$at.class,\n        restProps = _objectWithoutProperties(_this$$props$this$$at, _excluded);\n\n    var mergedClassName = classNames(prefixCls, className);\n    var scrollTop = this.state.scrollTop;\n    var _this$calRes = this.calRes,\n        scrollHeight = _this$calRes.scrollHeight,\n        offset = _this$calRes.offset,\n        start = _this$calRes.start,\n        end = _this$calRes.end;\n    var componentStyle = this.componentStyle,\n        onFallbackScroll = this.onFallbackScroll,\n        onScrollBar = this.onScrollBar,\n        useVirtual = this.useVirtual,\n        collectHeight = this.collectHeight,\n        sharedConfig = this.sharedConfig,\n        setInstance = this.setInstance,\n        mergedData = this.mergedData;\n    return _createVNode(\"div\", _objectSpread({\n      \"style\": _objectSpread(_objectSpread({}, style), {}, {\n        position: 'relative'\n      }),\n      \"class\": mergedClassName\n    }, restProps), [_createVNode(Component, {\n      \"class\": \"\".concat(prefixCls, \"-holder\"),\n      \"style\": componentStyle,\n      \"ref\": \"componentRef\",\n      \"onScroll\": onFallbackScroll\n    }, {\n      default: function _default() {\n        return [_createVNode(Filler, {\n          \"prefixCls\": prefixCls,\n          \"height\": scrollHeight,\n          \"offset\": offset,\n          \"onInnerResize\": collectHeight,\n          \"ref\": \"fillerInnerRef\"\n        }, {\n          default: function _default() {\n            return renderChildren(mergedData, start, end, setInstance, children, sharedConfig);\n          }\n        })];\n      }\n    }), useVirtual && _createVNode(ScrollBar, {\n      \"ref\": \"scrollBarRef\",\n      \"prefixCls\": prefixCls,\n      \"scrollTop\": scrollTop,\n      \"height\": height,\n      \"scrollHeight\": scrollHeight,\n      \"count\": mergedData.length,\n      \"onScroll\": onScrollBar,\n      \"onStartMove\": function onStartMove() {\n        _this.state.scrollMoving = true;\n      },\n      \"onStopMove\": function onStopMove() {\n        _this.state.scrollMoving = false;\n      }\n    }, null)]);\n  }\n});\nexport default List;","map":{"version":3,"names":["_objectWithoutProperties","_defineProperty","_objectSpread","_extends","_slicedToArray","_excluded","resolveDirective","_resolveDirective","createVNode","_createVNode","shallowRef","toRaw","onMounted","onUpdated","ref","defineComponent","watchEffect","computed","nextTick","onBeforeUnmount","reactive","watch","Filler","Item","ScrollBar","useHeights","useScrollTo","useFrameWheel","useMobileTouchMove","useOriginScroll","PropTypes","classNames","supportsPassive","EMPTY_DATA","ScrollStyle","overflowY","overflowAnchor","renderChildren","list","startIndex","endIndex","setNodeRef","renderFunc","_ref","getKey","slice","map","item","index","eleIndex","node","key","setRef","ele","default","_default","List","compatConfig","MODE","name","inheritAttrs","props","prefixCls","String","data","array","height","Number","itemHeight","fullHeight","type","Boolean","undefined","itemKey","Function","required","component","Object","virtual","children","onScroll","onMousedown","onMouseenter","onVisibleChange","setup","_ref2","expose","useVirtual","inVirtual","value","length","state","scrollTop","scrollMoving","mergedData","immediate","_item","val","componentRef","fillerInnerRef","scrollBarRef","sharedConfig","syncScrollTop","newTop","alignedTop","keepInRange","_useHeights","_useHeights2","setInstance","collectHeight","heights","updatedMark","calRes","scrollHeight","start","end","offset","offsetHeight","_fillerInnerRef$value","_fillerInnerRef$value2","itemTop","startOffset","dataLen","scrollTopHeight","i","cacheHeight","get","currentItemBottom","Math","min","maxScrollHeight","newScrollTop","isNaN","max","isScrollAtTop","isScrollAtBottom","originScroll","onScrollBar","onFallbackScroll","e","_props$onScroll","currentTarget","abs","call","_useFrameWheel","offsetY","top","_useFrameWheel2","onRawWheel","onFireFoxScroll","deltaY","smoothOffset","preventDefault","onMozMousePixelScroll","removeEventListener","passive","addEventListener","scrollTo","_scrollBarRef$value","delayHidden","componentStyle","cs","pointerEvents","renderList","flush","render","_this","_this$$props$this$$at","$props","$attrs","_this$$props$this$$at2","_this$$props$this$$at3","Component","_this$$props$this$$at4","$slots","style","className","class","restProps","mergedClassName","_this$calRes","position","concat","onStartMove","onStopMove"],"sources":["/Users/jasonti/Desktop/Tripper/vue/node_modules/ant-design-vue/es/vc-virtual-list/List.js"],"sourcesContent":["import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar _excluded = [\"prefixCls\", \"height\", \"itemHeight\", \"fullHeight\", \"data\", \"itemKey\", \"virtual\", \"component\", \"onScroll\", \"children\", \"style\", \"class\"];\nimport { resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\nimport { shallowRef, toRaw, onMounted, onUpdated, ref, defineComponent, watchEffect, computed, nextTick, onBeforeUnmount, reactive, watch } from 'vue';\nimport Filler from './Filler';\nimport Item from './Item';\nimport ScrollBar from './ScrollBar';\nimport useHeights from './hooks/useHeights';\nimport useScrollTo from './hooks/useScrollTo';\nimport useFrameWheel from './hooks/useFrameWheel';\nimport useMobileTouchMove from './hooks/useMobileTouchMove';\nimport useOriginScroll from './hooks/useOriginScroll';\nimport PropTypes from '../_util/vue-types';\nimport classNames from '../_util/classNames';\nimport supportsPassive from '../_util/supportsPassive';\nvar EMPTY_DATA = [];\nvar ScrollStyle = {\n  overflowY: 'auto',\n  overflowAnchor: 'none'\n};\nfunction renderChildren(list, startIndex, endIndex, setNodeRef, renderFunc, _ref) {\n  var getKey = _ref.getKey;\n  return list.slice(startIndex, endIndex + 1).map(function (item, index) {\n    var eleIndex = startIndex + index;\n    var node = renderFunc(item, eleIndex, {\n      // style: status === 'MEASURE_START' ? { visibility: 'hidden' } : {},\n    });\n    var key = getKey(item);\n    return _createVNode(Item, {\n      \"key\": key,\n      \"setRef\": function setRef(ele) {\n        return setNodeRef(item, ele);\n      }\n    }, {\n      default: function _default() {\n        return [node];\n      }\n    });\n  });\n}\nvar List = defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'List',\n  inheritAttrs: false,\n  props: {\n    prefixCls: String,\n    data: PropTypes.array,\n    height: Number,\n    itemHeight: Number,\n    /** If not match virtual scroll condition, Set List still use height of container. */\n    fullHeight: {\n      type: Boolean,\n      default: undefined\n    },\n    itemKey: {\n      type: [String, Number, Function],\n      required: true\n    },\n    component: {\n      type: [String, Object]\n    },\n    /** Set `false` will always use real scroll instead of virtual one */\n    virtual: {\n      type: Boolean,\n      default: undefined\n    },\n    children: Function,\n    onScroll: Function,\n    onMousedown: Function,\n    onMouseenter: Function,\n    onVisibleChange: Function\n  },\n  setup: function setup(props, _ref2) {\n    var expose = _ref2.expose;\n    // ================================= MISC =================================\n    var useVirtual = computed(function () {\n      var height = props.height,\n        itemHeight = props.itemHeight,\n        virtual = props.virtual;\n      return !!(virtual !== false && height && itemHeight);\n    });\n    var inVirtual = computed(function () {\n      var height = props.height,\n        itemHeight = props.itemHeight,\n        data = props.data;\n      return useVirtual.value && data && itemHeight * data.length > height;\n    });\n    var state = reactive({\n      scrollTop: 0,\n      scrollMoving: false\n    });\n    var data = computed(function () {\n      return props.data || EMPTY_DATA;\n    });\n    var mergedData = shallowRef([]);\n    watch(data, function () {\n      mergedData.value = toRaw(data.value).slice();\n    }, {\n      immediate: true\n    });\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    var itemKey = shallowRef(function (_item) {\n      return undefined;\n    });\n    watch(function () {\n      return props.itemKey;\n    }, function (val) {\n      if (typeof val === 'function') {\n        itemKey.value = val;\n      } else {\n        itemKey.value = function (item) {\n          return item === null || item === void 0 ? void 0 : item[val];\n        };\n      }\n    }, {\n      immediate: true\n    });\n    var componentRef = ref();\n    var fillerInnerRef = ref();\n    var scrollBarRef = ref(); // Hack on scrollbar to enable flash call\n    // =============================== Item Key ===============================\n    var getKey = function getKey(item) {\n      return itemKey.value(item);\n    };\n    var sharedConfig = {\n      getKey: getKey\n    };\n    // ================================ Scroll ================================\n    function syncScrollTop(newTop) {\n      var value;\n      if (typeof newTop === 'function') {\n        value = newTop(state.scrollTop);\n      } else {\n        value = newTop;\n      }\n      var alignedTop = keepInRange(value);\n      if (componentRef.value) {\n        componentRef.value.scrollTop = alignedTop;\n      }\n      state.scrollTop = alignedTop;\n    }\n    // ================================ Height ================================\n    var _useHeights = useHeights(mergedData, getKey, null, null),\n      _useHeights2 = _slicedToArray(_useHeights, 4),\n      setInstance = _useHeights2[0],\n      collectHeight = _useHeights2[1],\n      heights = _useHeights2[2],\n      updatedMark = _useHeights2[3];\n    var calRes = reactive({\n      scrollHeight: undefined,\n      start: 0,\n      end: 0,\n      offset: undefined\n    });\n    var offsetHeight = ref(0);\n    onMounted(function () {\n      nextTick(function () {\n        var _fillerInnerRef$value;\n        offsetHeight.value = ((_fillerInnerRef$value = fillerInnerRef.value) === null || _fillerInnerRef$value === void 0 ? void 0 : _fillerInnerRef$value.offsetHeight) || 0;\n      });\n    });\n    onUpdated(function () {\n      nextTick(function () {\n        var _fillerInnerRef$value2;\n        offsetHeight.value = ((_fillerInnerRef$value2 = fillerInnerRef.value) === null || _fillerInnerRef$value2 === void 0 ? void 0 : _fillerInnerRef$value2.offsetHeight) || 0;\n      });\n    });\n    watch([useVirtual, mergedData], function () {\n      if (!useVirtual.value) {\n        _extends(calRes, {\n          scrollHeight: undefined,\n          start: 0,\n          end: mergedData.value.length - 1,\n          offset: undefined\n        });\n      }\n    }, {\n      immediate: true\n    });\n    watch([useVirtual, mergedData, offsetHeight, inVirtual], function () {\n      // Always use virtual scroll bar in avoid shaking\n      if (useVirtual.value && !inVirtual.value) {\n        _extends(calRes, {\n          scrollHeight: offsetHeight.value,\n          start: 0,\n          end: mergedData.value.length - 1,\n          offset: undefined\n        });\n      }\n    }, {\n      immediate: true\n    });\n    watch([inVirtual, useVirtual, function () {\n      return state.scrollTop;\n    }, mergedData, updatedMark, function () {\n      return props.height;\n    }, offsetHeight], function () {\n      if (!useVirtual.value || !inVirtual.value) {\n        return;\n      }\n      var itemTop = 0;\n      var startIndex;\n      var startOffset;\n      var endIndex;\n      var dataLen = mergedData.value.length;\n      var data = mergedData.value;\n      var scrollTop = state.scrollTop;\n      var itemHeight = props.itemHeight,\n        height = props.height;\n      var scrollTopHeight = scrollTop + height;\n      for (var i = 0; i < dataLen; i += 1) {\n        var item = data[i];\n        var key = getKey(item);\n        var cacheHeight = heights.get(key);\n        if (cacheHeight === undefined) {\n          cacheHeight = itemHeight;\n        }\n        var currentItemBottom = itemTop + cacheHeight;\n        if (startIndex === undefined && currentItemBottom >= scrollTop) {\n          startIndex = i;\n          startOffset = itemTop;\n        }\n        // Check item bottom in the range. We will render additional one item for motion usage\n        if (endIndex === undefined && currentItemBottom > scrollTopHeight) {\n          endIndex = i;\n        }\n        itemTop = currentItemBottom;\n      }\n      // Fallback to normal if not match. This code should never reach\n      /* istanbul ignore next */\n      if (startIndex === undefined) {\n        startIndex = 0;\n        startOffset = 0;\n      }\n      if (endIndex === undefined) {\n        endIndex = dataLen - 1;\n      }\n      // Give cache to improve scroll experience\n      endIndex = Math.min(endIndex + 1, dataLen);\n      _extends(calRes, {\n        scrollHeight: itemTop,\n        start: startIndex,\n        end: endIndex,\n        offset: startOffset\n      });\n    }, {\n      immediate: true\n    });\n    // =============================== In Range ===============================\n    var maxScrollHeight = computed(function () {\n      return calRes.scrollHeight - props.height;\n    });\n    function keepInRange(newScrollTop) {\n      var newTop = newScrollTop;\n      if (!Number.isNaN(maxScrollHeight.value)) {\n        newTop = Math.min(newTop, maxScrollHeight.value);\n      }\n      newTop = Math.max(newTop, 0);\n      return newTop;\n    }\n    var isScrollAtTop = computed(function () {\n      return state.scrollTop <= 0;\n    });\n    var isScrollAtBottom = computed(function () {\n      return state.scrollTop >= maxScrollHeight.value;\n    });\n    var originScroll = useOriginScroll(isScrollAtTop, isScrollAtBottom);\n    // ================================ Scroll ================================\n    function onScrollBar(newScrollTop) {\n      var newTop = newScrollTop;\n      syncScrollTop(newTop);\n    }\n    // When data size reduce. It may trigger native scroll event back to fit scroll position\n    function onFallbackScroll(e) {\n      var _props$onScroll;\n      var newScrollTop = e.currentTarget.scrollTop;\n      if (Math.abs(newScrollTop - state.scrollTop) >= 1) {\n        syncScrollTop(newScrollTop);\n      }\n      // Trigger origin onScroll\n      (_props$onScroll = props.onScroll) === null || _props$onScroll === void 0 ? void 0 : _props$onScroll.call(props, e);\n    }\n    // Since this added in global,should use ref to keep update\n    var _useFrameWheel = useFrameWheel(useVirtual, isScrollAtTop, isScrollAtBottom, function (offsetY) {\n        syncScrollTop(function (top) {\n          var newTop = top + offsetY;\n          return newTop;\n        });\n      }),\n      _useFrameWheel2 = _slicedToArray(_useFrameWheel, 2),\n      onRawWheel = _useFrameWheel2[0],\n      onFireFoxScroll = _useFrameWheel2[1];\n    // Mobile touch move\n    useMobileTouchMove(useVirtual, componentRef, function (deltaY, smoothOffset) {\n      if (originScroll(deltaY, smoothOffset)) {\n        return false;\n      }\n      onRawWheel({\n        preventDefault: function preventDefault() {},\n        deltaY: deltaY\n      });\n      return true;\n    });\n    // Firefox only\n    function onMozMousePixelScroll(e) {\n      if (useVirtual.value) {\n        e.preventDefault();\n      }\n    }\n    var removeEventListener = function removeEventListener() {\n      if (componentRef.value) {\n        componentRef.value.removeEventListener('wheel', onRawWheel, supportsPassive ? {\n          passive: false\n        } : false);\n        componentRef.value.removeEventListener('DOMMouseScroll', onFireFoxScroll);\n        componentRef.value.removeEventListener('MozMousePixelScroll', onMozMousePixelScroll);\n      }\n    };\n    watchEffect(function () {\n      nextTick(function () {\n        if (componentRef.value) {\n          removeEventListener();\n          componentRef.value.addEventListener('wheel', onRawWheel, supportsPassive ? {\n            passive: false\n          } : false);\n          componentRef.value.addEventListener('DOMMouseScroll', onFireFoxScroll);\n          componentRef.value.addEventListener('MozMousePixelScroll', onMozMousePixelScroll);\n        }\n      });\n    });\n    onBeforeUnmount(function () {\n      removeEventListener();\n    });\n    // ================================= Ref ==================================\n    var scrollTo = useScrollTo(componentRef, mergedData, heights, props, getKey, collectHeight, syncScrollTop, function () {\n      var _scrollBarRef$value;\n      (_scrollBarRef$value = scrollBarRef.value) === null || _scrollBarRef$value === void 0 ? void 0 : _scrollBarRef$value.delayHidden();\n    });\n    expose({\n      scrollTo: scrollTo\n    });\n    var componentStyle = computed(function () {\n      var cs = null;\n      if (props.height) {\n        cs = _objectSpread(_defineProperty({}, props.fullHeight ? 'height' : 'maxHeight', props.height + 'px'), ScrollStyle);\n        if (useVirtual.value) {\n          cs.overflowY = 'hidden';\n          if (state.scrollMoving) {\n            cs.pointerEvents = 'none';\n          }\n        }\n      }\n      return cs;\n    });\n    // ================================ Effect ================================\n    /** We need told outside that some list not rendered */\n    watch([function () {\n      return calRes.start;\n    }, function () {\n      return calRes.end;\n    }, mergedData], function () {\n      if (props.onVisibleChange) {\n        var renderList = mergedData.value.slice(calRes.start, calRes.end + 1);\n        props.onVisibleChange(renderList, mergedData.value);\n      }\n    }, {\n      flush: 'post'\n    });\n    return {\n      state: state,\n      mergedData: mergedData,\n      componentStyle: componentStyle,\n      onFallbackScroll: onFallbackScroll,\n      onScrollBar: onScrollBar,\n      componentRef: componentRef,\n      useVirtual: useVirtual,\n      calRes: calRes,\n      collectHeight: collectHeight,\n      setInstance: setInstance,\n      sharedConfig: sharedConfig,\n      scrollBarRef: scrollBarRef,\n      fillerInnerRef: fillerInnerRef\n    };\n  },\n  render: function render() {\n    var _this = this;\n    var _this$$props$this$$at = _objectSpread(_objectSpread({}, this.$props), this.$attrs),\n      _this$$props$this$$at2 = _this$$props$this$$at.prefixCls,\n      prefixCls = _this$$props$this$$at2 === void 0 ? 'rc-virtual-list' : _this$$props$this$$at2,\n      height = _this$$props$this$$at.height,\n      itemHeight = _this$$props$this$$at.itemHeight,\n      fullHeight = _this$$props$this$$at.fullHeight,\n      data = _this$$props$this$$at.data,\n      itemKey = _this$$props$this$$at.itemKey,\n      virtual = _this$$props$this$$at.virtual,\n      _this$$props$this$$at3 = _this$$props$this$$at.component,\n      Component = _this$$props$this$$at3 === void 0 ? 'div' : _this$$props$this$$at3,\n      onScroll = _this$$props$this$$at.onScroll,\n      _this$$props$this$$at4 = _this$$props$this$$at.children,\n      children = _this$$props$this$$at4 === void 0 ? this.$slots.default : _this$$props$this$$at4,\n      style = _this$$props$this$$at.style,\n      className = _this$$props$this$$at.class,\n      restProps = _objectWithoutProperties(_this$$props$this$$at, _excluded);\n    var mergedClassName = classNames(prefixCls, className);\n    var scrollTop = this.state.scrollTop;\n    var _this$calRes = this.calRes,\n      scrollHeight = _this$calRes.scrollHeight,\n      offset = _this$calRes.offset,\n      start = _this$calRes.start,\n      end = _this$calRes.end;\n    var componentStyle = this.componentStyle,\n      onFallbackScroll = this.onFallbackScroll,\n      onScrollBar = this.onScrollBar,\n      useVirtual = this.useVirtual,\n      collectHeight = this.collectHeight,\n      sharedConfig = this.sharedConfig,\n      setInstance = this.setInstance,\n      mergedData = this.mergedData;\n    return _createVNode(\"div\", _objectSpread({\n      \"style\": _objectSpread(_objectSpread({}, style), {}, {\n        position: 'relative'\n      }),\n      \"class\": mergedClassName\n    }, restProps), [_createVNode(Component, {\n      \"class\": \"\".concat(prefixCls, \"-holder\"),\n      \"style\": componentStyle,\n      \"ref\": \"componentRef\",\n      \"onScroll\": onFallbackScroll\n    }, {\n      default: function _default() {\n        return [_createVNode(Filler, {\n          \"prefixCls\": prefixCls,\n          \"height\": scrollHeight,\n          \"offset\": offset,\n          \"onInnerResize\": collectHeight,\n          \"ref\": \"fillerInnerRef\"\n        }, {\n          default: function _default() {\n            return renderChildren(mergedData, start, end, setInstance, children, sharedConfig);\n          }\n        })];\n      }\n    }), useVirtual && _createVNode(ScrollBar, {\n      \"ref\": \"scrollBarRef\",\n      \"prefixCls\": prefixCls,\n      \"scrollTop\": scrollTop,\n      \"height\": height,\n      \"scrollHeight\": scrollHeight,\n      \"count\": mergedData.length,\n      \"onScroll\": onScrollBar,\n      \"onStartMove\": function onStartMove() {\n        _this.state.scrollMoving = true;\n      },\n      \"onStopMove\": function onStopMove() {\n        _this.state.scrollMoving = false;\n      }\n    }, null)]);\n  }\n});\nexport default List;"],"mappings":"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"},"metadata":{},"sourceType":"module"}