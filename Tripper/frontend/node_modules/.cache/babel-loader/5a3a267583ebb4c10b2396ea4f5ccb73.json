{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport { onMounted, ref, defineComponent, onBeforeUnmount } from 'vue';\nimport Button from '../button';\nimport { convertLegacyProps } from '../button/buttonTypes';\nimport useDestroyed from './hooks/useDestroyed';\nvar actionButtonProps = {\n  type: {\n    type: String\n  },\n  actionFn: Function,\n  close: Function,\n  autofocus: Boolean,\n  prefixCls: String,\n  buttonProps: Object,\n  emitEvent: Boolean,\n  quitOnNullishReturnValue: Boolean\n};\n\nfunction isThenable(thing) {\n  return !!(thing && !!thing.then);\n}\n\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'ActionButton',\n  props: actionButtonProps,\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var clickedRef = ref(false);\n    var buttonRef = ref();\n    var loading = ref(false);\n    var timeoutId;\n    var isDestroyed = useDestroyed();\n    onMounted(function () {\n      if (props.autofocus) {\n        timeoutId = setTimeout(function () {\n          var _buttonRef$value$$el;\n\n          return (_buttonRef$value$$el = buttonRef.value.$el) === null || _buttonRef$value$$el === void 0 ? void 0 : _buttonRef$value$$el.focus();\n        });\n      }\n    });\n    onBeforeUnmount(function () {\n      clearTimeout(timeoutId);\n    });\n\n    var handlePromiseOnOk = function handlePromiseOnOk(returnValueOfOnOk) {\n      var close = props.close;\n\n      if (!isThenable(returnValueOfOnOk)) {\n        return;\n      }\n\n      loading.value = true;\n      returnValueOfOnOk.then(function () {\n        if (!isDestroyed.value) {\n          loading.value = false;\n        }\n\n        close.apply(void 0, arguments);\n        clickedRef.value = false;\n      }, function (e) {\n        // Emit error when catch promise reject\n        // eslint-disable-next-line no-console\n        console.error(e); // See: https://github.com/ant-design/ant-design/issues/6183\n\n        if (!isDestroyed.value) {\n          loading.value = false;\n        }\n\n        clickedRef.value = false;\n      });\n    };\n\n    var onClick = function onClick(e) {\n      var actionFn = props.actionFn,\n          _props$close = props.close,\n          close = _props$close === void 0 ? function () {} : _props$close;\n\n      if (clickedRef.value) {\n        return;\n      }\n\n      clickedRef.value = true;\n\n      if (!actionFn) {\n        close();\n        return;\n      }\n\n      var returnValueOfOnOk;\n\n      if (props.emitEvent) {\n        returnValueOfOnOk = actionFn(e);\n\n        if (props.quitOnNullishReturnValue && !isThenable(returnValueOfOnOk)) {\n          clickedRef.value = false;\n          close(e);\n          return;\n        }\n      } else if (actionFn.length) {\n        returnValueOfOnOk = actionFn(close); // https://github.com/ant-design/ant-design/issues/23358\n\n        clickedRef.value = false;\n      } else {\n        returnValueOfOnOk = actionFn();\n\n        if (!returnValueOfOnOk) {\n          close();\n          return;\n        }\n      }\n\n      handlePromiseOnOk(returnValueOfOnOk);\n    };\n\n    return function () {\n      var type = props.type,\n          prefixCls = props.prefixCls,\n          buttonProps = props.buttonProps;\n      return _createVNode(Button, _objectSpread(_objectSpread(_objectSpread({}, convertLegacyProps(type)), {}, {\n        \"onClick\": onClick,\n        \"loading\": loading.value,\n        \"prefixCls\": prefixCls\n      }, buttonProps), {}, {\n        \"ref\": buttonRef\n      }), slots);\n    };\n  }\n});","map":{"version":3,"names":["_objectSpread","createVNode","_createVNode","resolveDirective","_resolveDirective","onMounted","ref","defineComponent","onBeforeUnmount","Button","convertLegacyProps","useDestroyed","actionButtonProps","type","String","actionFn","Function","close","autofocus","Boolean","prefixCls","buttonProps","Object","emitEvent","quitOnNullishReturnValue","isThenable","thing","then","compatConfig","MODE","name","props","setup","_ref","slots","clickedRef","buttonRef","loading","timeoutId","isDestroyed","setTimeout","_buttonRef$value$$el","value","$el","focus","clearTimeout","handlePromiseOnOk","returnValueOfOnOk","apply","arguments","e","console","error","onClick","_props$close","length"],"sources":["/Users/jasonti/Desktop/Tripper/vue/node_modules/ant-design-vue/es/_util/ActionButton.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport { onMounted, ref, defineComponent, onBeforeUnmount } from 'vue';\nimport Button from '../button';\nimport { convertLegacyProps } from '../button/buttonTypes';\nimport useDestroyed from './hooks/useDestroyed';\nvar actionButtonProps = {\n  type: {\n    type: String\n  },\n  actionFn: Function,\n  close: Function,\n  autofocus: Boolean,\n  prefixCls: String,\n  buttonProps: Object,\n  emitEvent: Boolean,\n  quitOnNullishReturnValue: Boolean\n};\nfunction isThenable(thing) {\n  return !!(thing && !!thing.then);\n}\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'ActionButton',\n  props: actionButtonProps,\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var clickedRef = ref(false);\n    var buttonRef = ref();\n    var loading = ref(false);\n    var timeoutId;\n    var isDestroyed = useDestroyed();\n    onMounted(function () {\n      if (props.autofocus) {\n        timeoutId = setTimeout(function () {\n          var _buttonRef$value$$el;\n          return (_buttonRef$value$$el = buttonRef.value.$el) === null || _buttonRef$value$$el === void 0 ? void 0 : _buttonRef$value$$el.focus();\n        });\n      }\n    });\n    onBeforeUnmount(function () {\n      clearTimeout(timeoutId);\n    });\n    var handlePromiseOnOk = function handlePromiseOnOk(returnValueOfOnOk) {\n      var close = props.close;\n      if (!isThenable(returnValueOfOnOk)) {\n        return;\n      }\n      loading.value = true;\n      returnValueOfOnOk.then(function () {\n        if (!isDestroyed.value) {\n          loading.value = false;\n        }\n        close.apply(void 0, arguments);\n        clickedRef.value = false;\n      }, function (e) {\n        // Emit error when catch promise reject\n        // eslint-disable-next-line no-console\n        console.error(e);\n        // See: https://github.com/ant-design/ant-design/issues/6183\n        if (!isDestroyed.value) {\n          loading.value = false;\n        }\n        clickedRef.value = false;\n      });\n    };\n    var onClick = function onClick(e) {\n      var actionFn = props.actionFn,\n        _props$close = props.close,\n        close = _props$close === void 0 ? function () {} : _props$close;\n      if (clickedRef.value) {\n        return;\n      }\n      clickedRef.value = true;\n      if (!actionFn) {\n        close();\n        return;\n      }\n      var returnValueOfOnOk;\n      if (props.emitEvent) {\n        returnValueOfOnOk = actionFn(e);\n        if (props.quitOnNullishReturnValue && !isThenable(returnValueOfOnOk)) {\n          clickedRef.value = false;\n          close(e);\n          return;\n        }\n      } else if (actionFn.length) {\n        returnValueOfOnOk = actionFn(close);\n        // https://github.com/ant-design/ant-design/issues/23358\n        clickedRef.value = false;\n      } else {\n        returnValueOfOnOk = actionFn();\n        if (!returnValueOfOnOk) {\n          close();\n          return;\n        }\n      }\n      handlePromiseOnOk(returnValueOfOnOk);\n    };\n    return function () {\n      var type = props.type,\n        prefixCls = props.prefixCls,\n        buttonProps = props.buttonProps;\n      return _createVNode(Button, _objectSpread(_objectSpread(_objectSpread({}, convertLegacyProps(type)), {}, {\n        \"onClick\": onClick,\n        \"loading\": loading.value,\n        \"prefixCls\": prefixCls\n      }, buttonProps), {}, {\n        \"ref\": buttonRef\n      }), slots);\n    };\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}