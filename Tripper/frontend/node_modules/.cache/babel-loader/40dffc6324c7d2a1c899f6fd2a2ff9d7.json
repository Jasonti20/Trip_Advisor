{"ast":null,"code":"import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { resolveDirective as _resolveDirective, Fragment as _Fragment, createVNode as _createVNode } from \"vue\";\nimport PickerTrigger from './PickerTrigger';\nimport PickerPanel from './PickerPanel';\nimport usePickerInput from './hooks/usePickerInput';\nimport getDataOrAriaProps, { toArray, getValue, updateValues } from './utils/miscUtil';\nimport { getDefaultFormat, getInputSize, elementsContains } from './utils/uiUtil';\nimport { useProvidePanel } from './PanelContext';\nimport { isEqual, getClosingViewDate, isSameDate, isSameWeek, isSameQuarter, formatValue, parseValue } from './utils/dateUtil';\nimport useValueTexts from './hooks/useValueTexts';\nimport useTextValueMapping from './hooks/useTextValueMapping';\nimport { RangeContextProvider } from './RangeContext';\nimport useRangeDisabled from './hooks/useRangeDisabled';\nimport getExtraFooter from './utils/getExtraFooter';\nimport getRanges from './utils/getRanges';\nimport useRangeViewDates from './hooks/useRangeViewDates';\nimport useHoverValue from './hooks/useHoverValue';\nimport { computed, defineComponent, ref, toRef, watch, watchEffect } from 'vue';\nimport useMergedState from '../_util/hooks/useMergedState';\nimport { warning } from '../vc-util/warning';\nimport useState from '../_util/hooks/useState';\nimport classNames from '../_util/classNames';\nimport { useProviderTrigger } from '../vc-trigger/context';\nimport { legacyPropsWarning } from './utils/warnUtil';\nimport { useElementSize } from '../_util/hooks/_vueuse/useElementSize';\n\nfunction reorderValues(values, generateConfig) {\n  if (values && values[0] && values[1] && generateConfig.isAfter(values[0], values[1])) {\n    return [values[1], values[0]];\n  }\n\n  return values;\n}\n\nfunction canValueTrigger(value, index, disabled, allowEmpty) {\n  if (value) {\n    return true;\n  }\n\n  if (allowEmpty && allowEmpty[index]) {\n    return true;\n  }\n\n  if (disabled[(index + 1) % 2]) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction RangerPicker() {\n  return defineComponent({\n    name: 'RangerPicker',\n    inheritAttrs: false,\n    props: ['prefixCls', 'id', 'popupStyle', 'dropdownClassName', 'transitionName', 'dropdownAlign', 'getPopupContainer', 'generateConfig', 'locale', 'placeholder', 'autofocus', 'disabled', 'format', 'picker', 'showTime', 'showNow', 'showHour', 'showMinute', 'showSecond', 'use12Hours', 'separator', 'value', 'defaultValue', 'defaultPickerValue', 'open', 'defaultOpen', 'disabledDate', 'disabledTime', 'dateRender', 'panelRender', 'ranges', 'allowEmpty', 'allowClear', 'suffixIcon', 'clearIcon', 'pickerRef', 'inputReadOnly', 'mode', 'renderExtraFooter', 'onChange', 'onOpenChange', 'onPanelChange', 'onCalendarChange', 'onFocus', 'onBlur', 'onMousedown', 'onMouseup', 'onMouseenter', 'onMouseleave', 'onClick', 'onOk', 'onKeydown', 'components', 'order', 'direction', 'activePickerIndex', 'autocomplete', 'minuteStep', 'hourStep', 'secondStep', 'hideDisabledOptions', 'disabledMinutes'],\n    setup: function setup(props, _ref) {\n      var attrs = _ref.attrs,\n          expose = _ref.expose;\n      var needConfirmButton = computed(function () {\n        return props.picker === 'date' && !!props.showTime || props.picker === 'time';\n      });\n      var getPortal = useProviderTrigger(); // We record opened status here in case repeat open with picker\n\n      var openRecordsRef = ref({});\n      var containerRef = ref(null);\n      var panelDivRef = ref(null);\n      var startInputDivRef = ref(null);\n      var endInputDivRef = ref(null);\n      var separatorRef = ref(null);\n      var startInputRef = ref(null);\n      var endInputRef = ref(null);\n      var arrowRef = ref(null); // ============================ Warning ============================\n\n      if (process.env.NODE_ENV !== 'production') {\n        legacyPropsWarning(props);\n      } // ============================= Misc ==============================\n\n\n      var formatList = computed(function () {\n        return toArray(getDefaultFormat(props.format, props.picker, props.showTime, props.use12Hours));\n      }); // Active picker\n\n      var _useMergedState = useMergedState(0, {\n        value: toRef(props, 'activePickerIndex')\n      }),\n          _useMergedState2 = _slicedToArray(_useMergedState, 2),\n          mergedActivePickerIndex = _useMergedState2[0],\n          setMergedActivePickerIndex = _useMergedState2[1]; // Operation ref\n\n\n      var operationRef = ref(null);\n      var mergedDisabled = computed(function () {\n        var disabled = props.disabled;\n\n        if (Array.isArray(disabled)) {\n          return disabled;\n        }\n\n        return [disabled || false, disabled || false];\n      }); // ============================= Value =============================\n\n      var _useMergedState3 = useMergedState(null, {\n        value: toRef(props, 'value'),\n        defaultValue: props.defaultValue,\n        postState: function postState(values) {\n          return props.picker === 'time' && !props.order ? values : reorderValues(values, props.generateConfig);\n        }\n      }),\n          _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n          mergedValue = _useMergedState4[0],\n          setInnerValue = _useMergedState4[1]; // =========================== View Date ===========================\n      // Config view panel\n\n\n      var _useRangeViewDates = useRangeViewDates({\n        values: mergedValue,\n        picker: toRef(props, 'picker'),\n        defaultDates: props.defaultPickerValue,\n        generateConfig: toRef(props, 'generateConfig')\n      }),\n          _useRangeViewDates2 = _slicedToArray(_useRangeViewDates, 3),\n          startViewDate = _useRangeViewDates2[0],\n          endViewDate = _useRangeViewDates2[1],\n          setViewDate = _useRangeViewDates2[2]; // ========================= Select Values =========================\n\n\n      var _useMergedState5 = useMergedState(mergedValue.value, {\n        postState: function postState(values) {\n          var postValues = values;\n\n          if (mergedDisabled.value[0] && mergedDisabled.value[1]) {\n            return postValues;\n          } // Fill disabled unit\n\n\n          for (var i = 0; i < 2; i += 1) {\n            if (mergedDisabled[i] && !getValue(postValues, i) && !getValue(props.allowEmpty, i)) {\n              postValues = updateValues(postValues, props.generateConfig.getNow(), i);\n            }\n          }\n\n          return postValues;\n        }\n      }),\n          _useMergedState6 = _slicedToArray(_useMergedState5, 2),\n          selectedValue = _useMergedState6[0],\n          setSelectedValue = _useMergedState6[1]; // ============================= Modes =============================\n\n\n      var _useMergedState7 = useMergedState([props.picker, props.picker], {\n        value: toRef(props, 'mode')\n      }),\n          _useMergedState8 = _slicedToArray(_useMergedState7, 2),\n          mergedModes = _useMergedState8[0],\n          setInnerModes = _useMergedState8[1];\n\n      watch(function () {\n        return props.picker;\n      }, function () {\n        setInnerModes([props.picker, props.picker]);\n      });\n\n      var triggerModesChange = function triggerModesChange(modes, values) {\n        var _props$onPanelChange;\n\n        setInnerModes(modes);\n        (_props$onPanelChange = props.onPanelChange) === null || _props$onPanelChange === void 0 ? void 0 : _props$onPanelChange.call(props, values, modes);\n      }; // ========================= Disable Date ==========================\n\n\n      var _useRangeDisabled = useRangeDisabled({\n        picker: toRef(props, 'picker'),\n        selectedValue: selectedValue,\n        locale: toRef(props, 'locale'),\n        disabled: mergedDisabled,\n        disabledDate: toRef(props, 'disabledDate'),\n        generateConfig: toRef(props, 'generateConfig')\n      }, openRecordsRef),\n          _useRangeDisabled2 = _slicedToArray(_useRangeDisabled, 2),\n          disabledStartDate = _useRangeDisabled2[0],\n          disabledEndDate = _useRangeDisabled2[1]; // ============================= Open ==============================\n\n\n      var _useMergedState9 = useMergedState(false, {\n        value: toRef(props, 'open'),\n        defaultValue: props.defaultOpen,\n        postState: function postState(postOpen) {\n          return mergedDisabled.value[mergedActivePickerIndex.value] ? false : postOpen;\n        },\n        onChange: function onChange(newOpen) {\n          var _props$onOpenChange;\n\n          (_props$onOpenChange = props.onOpenChange) === null || _props$onOpenChange === void 0 ? void 0 : _props$onOpenChange.call(props, newOpen);\n\n          if (!newOpen && operationRef.value && operationRef.value.onClose) {\n            operationRef.value.onClose();\n          }\n        }\n      }),\n          _useMergedState10 = _slicedToArray(_useMergedState9, 2),\n          mergedOpen = _useMergedState10[0],\n          triggerInnerOpen = _useMergedState10[1];\n\n      var startOpen = computed(function () {\n        return mergedOpen.value && mergedActivePickerIndex.value === 0;\n      });\n      var endOpen = computed(function () {\n        return mergedOpen.value && mergedActivePickerIndex.value === 1;\n      });\n      var panelLeft = ref(0);\n      var arrowLeft = ref(0); // ============================= Popup =============================\n      // Popup min width\n\n      var popupMinWidth = ref(0);\n\n      var _useElementSize = useElementSize(containerRef),\n          containerWidth = _useElementSize.width;\n\n      watch([mergedOpen, containerWidth], function () {\n        if (!mergedOpen.value && containerRef.value) {\n          popupMinWidth.value = containerWidth.value;\n        }\n      });\n\n      var _useElementSize2 = useElementSize(panelDivRef),\n          panelDivWidth = _useElementSize2.width;\n\n      var _useElementSize3 = useElementSize(arrowRef),\n          arrowWidth = _useElementSize3.width;\n\n      var _useElementSize4 = useElementSize(startInputDivRef),\n          startInputDivWidth = _useElementSize4.width;\n\n      var _useElementSize5 = useElementSize(separatorRef),\n          separatorWidth = _useElementSize5.width;\n\n      watch([mergedActivePickerIndex, mergedOpen, panelDivWidth, arrowWidth, startInputDivWidth, separatorWidth, function () {\n        return props.direction;\n      }], function () {\n        arrowLeft.value = 0;\n\n        if (mergedOpen.value && mergedActivePickerIndex.value) {\n          if (startInputDivRef.value && separatorRef.value && panelDivRef.value) {\n            arrowLeft.value = startInputDivWidth.value + separatorWidth.value;\n\n            if (panelDivWidth.value && arrowWidth.value && arrowLeft.value > panelDivWidth.value - arrowWidth.value - (props.direction === 'rtl' || arrowRef.value.offsetLeft > arrowLeft.value ? 0 : arrowRef.value.offsetLeft)) {\n              panelLeft.value = arrowLeft.value;\n            }\n          }\n        } else if (mergedActivePickerIndex.value === 0) {\n          panelLeft.value = 0;\n        }\n      }, {\n        immediate: true\n      }); // ============================ Trigger ============================\n\n      var triggerRef = ref();\n\n      function _triggerOpen(newOpen, index) {\n        if (newOpen) {\n          clearTimeout(triggerRef.value);\n          openRecordsRef.value[index] = true;\n          setMergedActivePickerIndex(index);\n          triggerInnerOpen(newOpen); // Open to reset view date\n\n          if (!mergedOpen.value) {\n            setViewDate(null, index);\n          }\n        } else if (mergedActivePickerIndex.value === index) {\n          triggerInnerOpen(newOpen); // Clean up async\n          // This makes ref not quick refresh in case user open another input with blur trigger\n\n          var openRecords = openRecordsRef.value;\n          triggerRef.value = setTimeout(function () {\n            if (openRecords === openRecordsRef.value) {\n              openRecordsRef.value = {};\n            }\n          });\n        }\n      }\n\n      function triggerOpenAndFocus(index) {\n        _triggerOpen(true, index); // Use setTimeout to make sure panel DOM exists\n\n\n        setTimeout(function () {\n          var inputRef = [startInputRef, endInputRef][index];\n\n          if (inputRef.value) {\n            inputRef.value.focus();\n          }\n        }, 0);\n      }\n\n      function triggerChange(newValue, sourceIndex) {\n        var values = newValue;\n        var startValue = getValue(values, 0);\n        var endValue = getValue(values, 1);\n        var generateConfig = props.generateConfig,\n            locale = props.locale,\n            picker = props.picker,\n            order = props.order,\n            onCalendarChange = props.onCalendarChange,\n            allowEmpty = props.allowEmpty,\n            onChange = props.onChange,\n            showTime = props.showTime; // >>>>> Format start & end values\n\n        if (startValue && endValue && generateConfig.isAfter(startValue, endValue)) {\n          if ( // WeekPicker only compare week\n          picker === 'week' && !isSameWeek(generateConfig, locale.locale, startValue, endValue) || // QuotaPicker only compare week\n          picker === 'quarter' && !isSameQuarter(generateConfig, startValue, endValue) || // Other non-TimePicker compare date\n          picker !== 'week' && picker !== 'quarter' && picker !== 'time' && !(showTime ? isEqual(generateConfig, startValue, endValue) : isSameDate(generateConfig, startValue, endValue))) {\n            // Clean up end date when start date is after end date\n            if (sourceIndex === 0) {\n              values = [startValue, null];\n              endValue = null;\n            } else {\n              startValue = null;\n              values = [null, endValue];\n            } // Clean up cache since invalidate\n\n\n            openRecordsRef.value = _defineProperty({}, sourceIndex, true);\n          } else if (picker !== 'time' || order !== false) {\n            // Reorder when in same date\n            values = reorderValues(values, generateConfig);\n          }\n        }\n\n        setSelectedValue(values);\n        var startStr = values && values[0] ? formatValue(values[0], {\n          generateConfig: generateConfig,\n          locale: locale,\n          format: formatList.value[0]\n        }) : '';\n        var endStr = values && values[1] ? formatValue(values[1], {\n          generateConfig: generateConfig,\n          locale: locale,\n          format: formatList.value[0]\n        }) : '';\n\n        if (onCalendarChange) {\n          var info = {\n            range: sourceIndex === 0 ? 'start' : 'end'\n          };\n          onCalendarChange(values, [startStr, endStr], info);\n        } // >>>>> Trigger `onChange` event\n\n\n        var canStartValueTrigger = canValueTrigger(startValue, 0, mergedDisabled.value, allowEmpty);\n        var canEndValueTrigger = canValueTrigger(endValue, 1, mergedDisabled.value, allowEmpty);\n        var canTrigger = values === null || canStartValueTrigger && canEndValueTrigger;\n\n        if (canTrigger) {\n          // Trigger onChange only when value is validate\n          setInnerValue(values);\n\n          if (onChange && (!isEqual(generateConfig, getValue(mergedValue.value, 0), startValue) || !isEqual(generateConfig, getValue(mergedValue.value, 1), endValue))) {\n            onChange(values, [startStr, endStr]);\n          }\n        } // >>>>> Open picker when\n        // Always open another picker if possible\n\n\n        var nextOpenIndex = null;\n\n        if (sourceIndex === 0 && !mergedDisabled.value[1]) {\n          nextOpenIndex = 1;\n        } else if (sourceIndex === 1 && !mergedDisabled.value[0]) {\n          nextOpenIndex = 0;\n        }\n\n        if (nextOpenIndex !== null && nextOpenIndex !== mergedActivePickerIndex.value && (!openRecordsRef.value[nextOpenIndex] || !getValue(values, nextOpenIndex)) && getValue(values, sourceIndex)) {\n          // Delay to focus to avoid input blur trigger expired selectedValues\n          triggerOpenAndFocus(nextOpenIndex);\n        } else {\n          _triggerOpen(false, sourceIndex);\n        }\n      }\n\n      var forwardKeydown = function forwardKeydown(e) {\n        if (mergedOpen && operationRef.value && operationRef.value.onKeydown) {\n          // Let popup panel handle keyboard\n          return operationRef.value.onKeydown(e);\n        }\n        /* istanbul ignore next */\n\n        /* eslint-disable no-lone-blocks */\n\n\n        {\n          warning(false, 'Picker not correct forward Keydown operation. Please help to fire issue about this.');\n          return false;\n        }\n      }; // ============================= Text ==============================\n\n\n      var sharedTextHooksProps = {\n        formatList: formatList,\n        generateConfig: toRef(props, 'generateConfig'),\n        locale: toRef(props, 'locale')\n      };\n\n      var _useValueTexts = useValueTexts(computed(function () {\n        return getValue(selectedValue.value, 0);\n      }), sharedTextHooksProps),\n          _useValueTexts2 = _slicedToArray(_useValueTexts, 2),\n          startValueTexts = _useValueTexts2[0],\n          firstStartValueText = _useValueTexts2[1];\n\n      var _useValueTexts3 = useValueTexts(computed(function () {\n        return getValue(selectedValue.value, 1);\n      }), sharedTextHooksProps),\n          _useValueTexts4 = _slicedToArray(_useValueTexts3, 2),\n          endValueTexts = _useValueTexts4[0],\n          firstEndValueText = _useValueTexts4[1];\n\n      var _onTextChange = function onTextChange(newText, index) {\n        var inputDate = parseValue(newText, {\n          locale: props.locale,\n          formatList: formatList.value,\n          generateConfig: props.generateConfig\n        });\n        var disabledFunc = index === 0 ? disabledStartDate : disabledEndDate;\n\n        if (inputDate && !disabledFunc(inputDate)) {\n          setSelectedValue(updateValues(selectedValue.value, inputDate, index));\n          setViewDate(inputDate, index);\n        }\n      };\n\n      var _useTextValueMapping = useTextValueMapping({\n        valueTexts: startValueTexts,\n        onTextChange: function onTextChange(newText) {\n          return _onTextChange(newText, 0);\n        }\n      }),\n          _useTextValueMapping2 = _slicedToArray(_useTextValueMapping, 3),\n          startText = _useTextValueMapping2[0],\n          triggerStartTextChange = _useTextValueMapping2[1],\n          resetStartText = _useTextValueMapping2[2];\n\n      var _useTextValueMapping3 = useTextValueMapping({\n        valueTexts: endValueTexts,\n        onTextChange: function onTextChange(newText) {\n          return _onTextChange(newText, 1);\n        }\n      }),\n          _useTextValueMapping4 = _slicedToArray(_useTextValueMapping3, 3),\n          endText = _useTextValueMapping4[0],\n          triggerEndTextChange = _useTextValueMapping4[1],\n          resetEndText = _useTextValueMapping4[2];\n\n      var _useState = useState(null),\n          _useState2 = _slicedToArray(_useState, 2),\n          rangeHoverValue = _useState2[0],\n          setRangeHoverValue = _useState2[1]; // ========================== Hover Range ==========================\n\n\n      var _useState3 = useState(null),\n          _useState4 = _slicedToArray(_useState3, 2),\n          hoverRangedValue = _useState4[0],\n          setHoverRangedValue = _useState4[1];\n\n      var _useHoverValue = useHoverValue(startText, sharedTextHooksProps),\n          _useHoverValue2 = _slicedToArray(_useHoverValue, 3),\n          startHoverValue = _useHoverValue2[0],\n          onStartEnter = _useHoverValue2[1],\n          onStartLeave = _useHoverValue2[2];\n\n      var _useHoverValue3 = useHoverValue(endText, sharedTextHooksProps),\n          _useHoverValue4 = _slicedToArray(_useHoverValue3, 3),\n          endHoverValue = _useHoverValue4[0],\n          onEndEnter = _useHoverValue4[1],\n          onEndLeave = _useHoverValue4[2];\n\n      var onDateMouseenter = function onDateMouseenter(date) {\n        setHoverRangedValue(updateValues(selectedValue.value, date, mergedActivePickerIndex.value));\n\n        if (mergedActivePickerIndex.value === 0) {\n          onStartEnter(date);\n        } else {\n          onEndEnter(date);\n        }\n      };\n\n      var onDateMouseleave = function onDateMouseleave() {\n        setHoverRangedValue(updateValues(selectedValue.value, null, mergedActivePickerIndex.value));\n\n        if (mergedActivePickerIndex.value === 0) {\n          onStartLeave();\n        } else {\n          onEndLeave();\n        }\n      }; // ============================= Input =============================\n\n\n      var getSharedInputHookProps = function getSharedInputHookProps(index, resetText) {\n        return {\n          forwardKeydown: forwardKeydown,\n          onBlur: function onBlur(e) {\n            var _props$onBlur;\n\n            (_props$onBlur = props.onBlur) === null || _props$onBlur === void 0 ? void 0 : _props$onBlur.call(props, e);\n          },\n          isClickOutside: function isClickOutside(target) {\n            return !elementsContains([panelDivRef.value, startInputDivRef.value, endInputDivRef.value, containerRef.value], target);\n          },\n          onFocus: function onFocus(e) {\n            var _props$onFocus;\n\n            setMergedActivePickerIndex(index);\n            (_props$onFocus = props.onFocus) === null || _props$onFocus === void 0 ? void 0 : _props$onFocus.call(props, e);\n          },\n          triggerOpen: function triggerOpen(newOpen) {\n            _triggerOpen(newOpen, index);\n          },\n          onSubmit: function onSubmit() {\n            if ( // When user typing disabledDate with keyboard and enter, this value will be empty\n            !selectedValue.value || // Normal disabled check\n            props.disabledDate && props.disabledDate(selectedValue.value[index])) {\n              return false;\n            }\n\n            triggerChange(selectedValue.value, index);\n            resetText();\n          },\n          onCancel: function onCancel() {\n            _triggerOpen(false, index);\n\n            setSelectedValue(mergedValue.value);\n            resetText();\n          }\n        };\n      };\n\n      var _usePickerInput = usePickerInput(_objectSpread(_objectSpread({}, getSharedInputHookProps(0, resetStartText)), {}, {\n        blurToCancel: needConfirmButton,\n        open: startOpen,\n        value: startText,\n        onKeydown: function onKeydown(e, preventDefault) {\n          var _props$onKeydown;\n\n          (_props$onKeydown = props.onKeydown) === null || _props$onKeydown === void 0 ? void 0 : _props$onKeydown.call(props, e, preventDefault);\n        }\n      })),\n          _usePickerInput2 = _slicedToArray(_usePickerInput, 2),\n          startInputProps = _usePickerInput2[0],\n          _usePickerInput2$ = _usePickerInput2[1],\n          startFocused = _usePickerInput2$.focused,\n          startTyping = _usePickerInput2$.typing;\n\n      var _usePickerInput3 = usePickerInput(_objectSpread(_objectSpread({}, getSharedInputHookProps(1, resetEndText)), {}, {\n        blurToCancel: needConfirmButton,\n        open: endOpen,\n        value: endText,\n        onKeydown: function onKeydown(e, preventDefault) {\n          var _props$onKeydown2;\n\n          (_props$onKeydown2 = props.onKeydown) === null || _props$onKeydown2 === void 0 ? void 0 : _props$onKeydown2.call(props, e, preventDefault);\n        }\n      })),\n          _usePickerInput4 = _slicedToArray(_usePickerInput3, 2),\n          endInputProps = _usePickerInput4[0],\n          _usePickerInput4$ = _usePickerInput4[1],\n          endFocused = _usePickerInput4$.focused,\n          endTyping = _usePickerInput4$.typing; // ========================== Click Picker ==========================\n\n\n      var onPickerClick = function onPickerClick(e) {\n        var _props$onClick; // When click inside the picker & outside the picker's input elements\n        // the panel should still be opened\n\n\n        (_props$onClick = props.onClick) === null || _props$onClick === void 0 ? void 0 : _props$onClick.call(props, e);\n\n        if (!mergedOpen.value && !startInputRef.value.contains(e.target) && !endInputRef.value.contains(e.target)) {\n          if (!mergedDisabled.value[0]) {\n            triggerOpenAndFocus(0);\n          } else if (!mergedDisabled.value[1]) {\n            triggerOpenAndFocus(1);\n          }\n        }\n      };\n\n      var onPickerMousedown = function onPickerMousedown(e) {\n        var _props$onMousedown; // shouldn't affect input elements if picker is active\n\n\n        (_props$onMousedown = props.onMousedown) === null || _props$onMousedown === void 0 ? void 0 : _props$onMousedown.call(props, e);\n\n        if (mergedOpen.value && (startFocused.value || endFocused.value) && !startInputRef.value.contains(e.target) && !endInputRef.value.contains(e.target)) {\n          e.preventDefault();\n        }\n      }; // ============================= Sync ==============================\n      // Close should sync back with text value\n\n\n      var startStr = computed(function () {\n        var _mergedValue$value;\n\n        return (_mergedValue$value = mergedValue.value) !== null && _mergedValue$value !== void 0 && _mergedValue$value[0] ? formatValue(mergedValue.value[0], {\n          locale: props.locale,\n          format: 'YYYYMMDDHHmmss',\n          generateConfig: props.generateConfig\n        }) : '';\n      });\n      var endStr = computed(function () {\n        var _mergedValue$value2;\n\n        return (_mergedValue$value2 = mergedValue.value) !== null && _mergedValue$value2 !== void 0 && _mergedValue$value2[1] ? formatValue(mergedValue.value[1], {\n          locale: props.locale,\n          format: 'YYYYMMDDHHmmss',\n          generateConfig: props.generateConfig\n        }) : '';\n      });\n      watch([mergedOpen, startValueTexts, endValueTexts], function () {\n        if (!mergedOpen.value) {\n          setSelectedValue(mergedValue.value);\n\n          if (!startValueTexts.value.length || startValueTexts.value[0] === '') {\n            triggerStartTextChange('');\n          } else if (firstStartValueText.value !== startText.value) {\n            resetStartText();\n          }\n\n          if (!endValueTexts.value.length || endValueTexts.value[0] === '') {\n            triggerEndTextChange('');\n          } else if (firstEndValueText.value !== endText.value) {\n            resetEndText();\n          }\n        }\n      }); // Sync innerValue with control mode\n\n      watch([startStr, endStr], function () {\n        setSelectedValue(mergedValue.value);\n      }); // ============================ Warning ============================\n\n      if (process.env.NODE_ENV !== 'production') {\n        watchEffect(function () {\n          var value = props.value,\n              disabled = props.disabled;\n\n          if (value && Array.isArray(disabled) && (getValue(disabled, 0) && !getValue(value, 0) || getValue(disabled, 1) && !getValue(value, 1))) {\n            warning(false, '`disabled` should not set with empty `value`. You should set `allowEmpty` or `value` instead.');\n          }\n        });\n      }\n\n      expose({\n        focus: function focus() {\n          if (startInputRef.value) {\n            startInputRef.value.focus();\n          }\n        },\n        blur: function blur() {\n          if (startInputRef.value) {\n            startInputRef.value.blur();\n          }\n\n          if (endInputRef.value) {\n            endInputRef.value.blur();\n          }\n        }\n      }); // ============================ Ranges =============================\n\n      var rangeList = computed(function () {\n        return Object.keys(props.ranges || {}).map(function (label) {\n          var range = props.ranges[label];\n          var newValues = typeof range === 'function' ? range() : range;\n          return {\n            label: label,\n            onClick: function onClick() {\n              triggerChange(newValues, null);\n\n              _triggerOpen(false, mergedActivePickerIndex.value);\n            },\n            onMouseenter: function onMouseenter() {\n              setRangeHoverValue(newValues);\n            },\n            onMouseleave: function onMouseleave() {\n              setRangeHoverValue(null);\n            }\n          };\n        });\n      }); // ============================= Panel =============================\n\n      var panelHoverRangedValue = computed(function () {\n        if (mergedOpen.value && hoverRangedValue.value && hoverRangedValue.value[0] && hoverRangedValue.value[1] && props.generateConfig.isAfter(hoverRangedValue.value[1], hoverRangedValue.value[0])) {\n          return hoverRangedValue.value;\n        } else {\n          return null;\n        }\n      });\n\n      function renderPanel() {\n        var panelPosition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n        var panelProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var generateConfig = props.generateConfig,\n            showTime = props.showTime,\n            dateRender = props.dateRender,\n            direction = props.direction,\n            _disabledTime = props.disabledTime,\n            prefixCls = props.prefixCls,\n            locale = props.locale;\n        var panelShowTime = showTime;\n\n        if (showTime && _typeof(showTime) === 'object' && showTime.defaultValue) {\n          var timeDefaultValues = showTime.defaultValue;\n          panelShowTime = _objectSpread(_objectSpread({}, showTime), {}, {\n            defaultValue: getValue(timeDefaultValues, mergedActivePickerIndex.value) || undefined\n          });\n        }\n\n        var panelDateRender = null;\n\n        if (dateRender) {\n          panelDateRender = function panelDateRender(_ref2) {\n            var date = _ref2.current,\n                today = _ref2.today;\n            return dateRender({\n              current: date,\n              today: today,\n              info: {\n                range: mergedActivePickerIndex.value ? 'end' : 'start'\n              }\n            });\n          };\n        }\n\n        return _createVNode(RangeContextProvider, {\n          \"value\": {\n            inRange: true,\n            panelPosition: panelPosition,\n            rangedValue: rangeHoverValue.value || selectedValue.value,\n            hoverRangedValue: panelHoverRangedValue.value\n          }\n        }, {\n          default: function _default() {\n            return [_createVNode(PickerPanel, _objectSpread(_objectSpread(_objectSpread({}, props), panelProps), {}, {\n              \"dateRender\": panelDateRender,\n              \"showTime\": panelShowTime,\n              \"mode\": mergedModes.value[mergedActivePickerIndex.value],\n              \"generateConfig\": generateConfig,\n              \"style\": undefined,\n              \"direction\": direction,\n              \"disabledDate\": mergedActivePickerIndex.value === 0 ? disabledStartDate : disabledEndDate,\n              \"disabledTime\": function disabledTime(date) {\n                if (_disabledTime) {\n                  return _disabledTime(date, mergedActivePickerIndex.value === 0 ? 'start' : 'end');\n                }\n\n                return false;\n              },\n              \"class\": classNames(_defineProperty({}, \"\".concat(prefixCls, \"-panel-focused\"), mergedActivePickerIndex.value === 0 ? !startTyping.value : !endTyping.value)),\n              \"value\": getValue(selectedValue.value, mergedActivePickerIndex.value),\n              \"locale\": locale,\n              \"tabIndex\": -1,\n              \"onPanelChange\": function onPanelChange(date, newMode) {\n                // clear hover value when panel change\n                if (mergedActivePickerIndex.value === 0) {\n                  onStartLeave(true);\n                }\n\n                if (mergedActivePickerIndex.value === 1) {\n                  onEndLeave(true);\n                }\n\n                triggerModesChange(updateValues(mergedModes.value, newMode, mergedActivePickerIndex.value), updateValues(selectedValue.value, date, mergedActivePickerIndex.value));\n                var viewDate = date;\n\n                if (panelPosition === 'right' && mergedModes.value[mergedActivePickerIndex.value] === newMode) {\n                  viewDate = getClosingViewDate(viewDate, newMode, generateConfig, -1);\n                }\n\n                setViewDate(viewDate, mergedActivePickerIndex.value);\n              },\n              \"onOk\": null,\n              \"onSelect\": undefined,\n              \"onChange\": undefined,\n              \"defaultValue\": mergedActivePickerIndex.value === 0 ? getValue(selectedValue.value, 1) : getValue(selectedValue.value, 0)\n            }), null)];\n          }\n        });\n      }\n\n      var onContextSelect = function onContextSelect(date, type) {\n        var values = updateValues(selectedValue.value, date, mergedActivePickerIndex.value);\n\n        if (type === 'submit' || type !== 'key' && !needConfirmButton.value) {\n          // triggerChange will also update selected values\n          triggerChange(values, mergedActivePickerIndex.value); // clear hover value style\n\n          if (mergedActivePickerIndex.value === 0) {\n            onStartLeave();\n          } else {\n            onEndLeave();\n          }\n        } else {\n          setSelectedValue(values);\n        }\n      };\n\n      useProvidePanel({\n        operationRef: operationRef,\n        hideHeader: computed(function () {\n          return props.picker === 'time';\n        }),\n        onDateMouseenter: onDateMouseenter,\n        onDateMouseleave: onDateMouseleave,\n        hideRanges: computed(function () {\n          return true;\n        }),\n        onSelect: onContextSelect,\n        open: mergedOpen\n      });\n      return function () {\n        var _classNames2, _classNames3, _classNames4;\n\n        var _props$prefixCls = props.prefixCls,\n            prefixCls = _props$prefixCls === void 0 ? 'rc-picker' : _props$prefixCls,\n            id = props.id,\n            popupStyle = props.popupStyle,\n            dropdownClassName = props.dropdownClassName,\n            transitionName = props.transitionName,\n            dropdownAlign = props.dropdownAlign,\n            getPopupContainer = props.getPopupContainer,\n            generateConfig = props.generateConfig,\n            locale = props.locale,\n            placeholder = props.placeholder,\n            autofocus = props.autofocus,\n            _props$picker = props.picker,\n            picker = _props$picker === void 0 ? 'date' : _props$picker,\n            showTime = props.showTime,\n            _props$separator = props.separator,\n            separator = _props$separator === void 0 ? '~' : _props$separator,\n            disabledDate = props.disabledDate,\n            panelRender = props.panelRender,\n            allowClear = props.allowClear,\n            suffixIcon = props.suffixIcon,\n            clearIcon = props.clearIcon,\n            inputReadOnly = props.inputReadOnly,\n            renderExtraFooter = props.renderExtraFooter,\n            onMouseenter = props.onMouseenter,\n            onMouseleave = props.onMouseleave,\n            onMouseup = props.onMouseup,\n            _onOk = props.onOk,\n            components = props.components,\n            direction = props.direction,\n            _props$autocomplete = props.autocomplete,\n            autocomplete = _props$autocomplete === void 0 ? 'off' : _props$autocomplete;\n        var arrowPositionStyle = direction === 'rtl' ? {\n          right: \"\".concat(arrowLeft.value, \"px\")\n        } : {\n          left: \"\".concat(arrowLeft.value, \"px\")\n        };\n\n        function renderPanels() {\n          var panels;\n          var extraNode = getExtraFooter(prefixCls, mergedModes.value[mergedActivePickerIndex.value], renderExtraFooter);\n          var rangesNode = getRanges({\n            prefixCls: prefixCls,\n            components: components,\n            needConfirmButton: needConfirmButton.value,\n            okDisabled: !getValue(selectedValue.value, mergedActivePickerIndex.value) || disabledDate && disabledDate(selectedValue.value[mergedActivePickerIndex.value]),\n            locale: locale,\n            rangeList: rangeList.value,\n            onOk: function onOk() {\n              if (getValue(selectedValue.value, mergedActivePickerIndex.value)) {\n                // triggerChangeOld(selectedValue.value);\n                triggerChange(selectedValue.value, mergedActivePickerIndex.value);\n\n                if (_onOk) {\n                  _onOk(selectedValue.value);\n                }\n              }\n            }\n          });\n\n          if (picker !== 'time' && !showTime) {\n            var viewDate = mergedActivePickerIndex.value === 0 ? startViewDate.value : endViewDate.value;\n            var nextViewDate = getClosingViewDate(viewDate, picker, generateConfig);\n            var currentMode = mergedModes.value[mergedActivePickerIndex.value];\n            var showDoublePanel = currentMode === picker;\n            var leftPanel = renderPanel(showDoublePanel ? 'left' : false, {\n              pickerValue: viewDate,\n              onPickerValueChange: function onPickerValueChange(newViewDate) {\n                setViewDate(newViewDate, mergedActivePickerIndex.value);\n              }\n            });\n            var rightPanel = renderPanel('right', {\n              pickerValue: nextViewDate,\n              onPickerValueChange: function onPickerValueChange(newViewDate) {\n                setViewDate(getClosingViewDate(newViewDate, picker, generateConfig, -1), mergedActivePickerIndex.value);\n              }\n            });\n\n            if (direction === 'rtl') {\n              panels = _createVNode(_Fragment, null, [rightPanel, showDoublePanel && leftPanel]);\n            } else {\n              panels = _createVNode(_Fragment, null, [leftPanel, showDoublePanel && rightPanel]);\n            }\n          } else {\n            panels = renderPanel();\n          }\n\n          var mergedNodes = _createVNode(_Fragment, null, [_createVNode(\"div\", {\n            \"class\": \"\".concat(prefixCls, \"-panels\")\n          }, [panels]), (extraNode || rangesNode) && _createVNode(\"div\", {\n            \"class\": \"\".concat(prefixCls, \"-footer\")\n          }, [extraNode, rangesNode])]);\n\n          if (panelRender) {\n            mergedNodes = panelRender(mergedNodes);\n          }\n\n          return _createVNode(\"div\", {\n            \"class\": \"\".concat(prefixCls, \"-panel-container\"),\n            \"style\": {\n              marginLeft: \"\".concat(panelLeft.value, \"px\")\n            },\n            \"ref\": panelDivRef,\n            \"onMousedown\": function onMousedown(e) {\n              e.preventDefault();\n            }\n          }, [mergedNodes]);\n        }\n\n        var rangePanel = _createVNode(\"div\", {\n          \"class\": classNames(\"\".concat(prefixCls, \"-range-wrapper\"), \"\".concat(prefixCls, \"-\").concat(picker, \"-range-wrapper\")),\n          \"style\": {\n            minWidth: \"\".concat(popupMinWidth.value, \"px\")\n          }\n        }, [_createVNode(\"div\", {\n          \"ref\": arrowRef,\n          \"class\": \"\".concat(prefixCls, \"-range-arrow\"),\n          \"style\": arrowPositionStyle\n        }, null), renderPanels()]); // ============================= Icons =============================\n\n\n        var suffixNode;\n\n        if (suffixIcon) {\n          suffixNode = _createVNode(\"span\", {\n            \"class\": \"\".concat(prefixCls, \"-suffix\")\n          }, [suffixIcon]);\n        }\n\n        var clearNode;\n\n        if (allowClear && (getValue(mergedValue.value, 0) && !mergedDisabled.value[0] || getValue(mergedValue.value, 1) && !mergedDisabled.value[1])) {\n          clearNode = _createVNode(\"span\", {\n            \"onMousedown\": function onMousedown(e) {\n              e.preventDefault();\n              e.stopPropagation();\n            },\n            \"onMouseup\": function onMouseup(e) {\n              e.preventDefault();\n              e.stopPropagation();\n              var values = mergedValue.value;\n\n              if (!mergedDisabled.value[0]) {\n                values = updateValues(values, null, 0);\n              }\n\n              if (!mergedDisabled.value[1]) {\n                values = updateValues(values, null, 1);\n              }\n\n              triggerChange(values, null);\n\n              _triggerOpen(false, mergedActivePickerIndex.value);\n            },\n            \"class\": \"\".concat(prefixCls, \"-clear\")\n          }, [clearIcon || _createVNode(\"span\", {\n            \"class\": \"\".concat(prefixCls, \"-clear-btn\")\n          }, null)]);\n        }\n\n        var inputSharedProps = {\n          size: getInputSize(picker, formatList.value[0], generateConfig)\n        };\n        var activeBarLeft = 0;\n        var activeBarWidth = 0;\n\n        if (startInputDivRef.value && endInputDivRef.value && separatorRef.value) {\n          if (mergedActivePickerIndex.value === 0) {\n            activeBarWidth = startInputDivRef.value.offsetWidth;\n          } else {\n            activeBarLeft = arrowLeft.value;\n            activeBarWidth = endInputDivRef.value.offsetWidth;\n          }\n        }\n\n        var activeBarPositionStyle = direction === 'rtl' ? {\n          right: \"\".concat(activeBarLeft, \"px\")\n        } : {\n          left: \"\".concat(activeBarLeft, \"px\")\n        }; // ============================ Return =============================\n\n        return _createVNode(PickerTrigger, {\n          \"visible\": mergedOpen.value,\n          \"popupStyle\": popupStyle,\n          \"prefixCls\": prefixCls,\n          \"dropdownClassName\": dropdownClassName,\n          \"dropdownAlign\": dropdownAlign,\n          \"getPopupContainer\": getPopupContainer,\n          \"transitionName\": transitionName,\n          \"range\": true,\n          \"direction\": direction\n        }, {\n          default: function _default() {\n            return [_createVNode(\"div\", _objectSpread({\n              \"ref\": containerRef,\n              \"class\": classNames(prefixCls, \"\".concat(prefixCls, \"-range\"), attrs.class, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-disabled\"), mergedDisabled.value[0] && mergedDisabled.value[1]), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-focused\"), mergedActivePickerIndex.value === 0 ? startFocused.value : endFocused.value), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames2)),\n              \"style\": attrs.style,\n              \"onClick\": onPickerClick,\n              \"onMouseenter\": onMouseenter,\n              \"onMouseleave\": onMouseleave,\n              \"onMousedown\": onPickerMousedown,\n              \"onMouseup\": onMouseup\n            }, getDataOrAriaProps(props)), [_createVNode(\"div\", {\n              \"class\": classNames(\"\".concat(prefixCls, \"-input\"), (_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(prefixCls, \"-input-active\"), mergedActivePickerIndex.value === 0), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-input-placeholder\"), !!startHoverValue.value), _classNames3)),\n              \"ref\": startInputDivRef\n            }, [_createVNode(\"input\", _objectSpread(_objectSpread(_objectSpread({\n              \"id\": id,\n              \"disabled\": mergedDisabled.value[0],\n              \"readonly\": inputReadOnly || typeof formatList.value[0] === 'function' || !startTyping.value,\n              \"value\": startHoverValue.value || startText.value,\n              \"onInput\": function onInput(e) {\n                triggerStartTextChange(e.target.value);\n              },\n              \"autofocus\": autofocus,\n              \"placeholder\": getValue(placeholder, 0) || '',\n              \"ref\": startInputRef\n            }, startInputProps.value), inputSharedProps), {}, {\n              \"autocomplete\": autocomplete\n            }), null)]), _createVNode(\"div\", {\n              \"class\": \"\".concat(prefixCls, \"-range-separator\"),\n              \"ref\": separatorRef\n            }, [separator]), _createVNode(\"div\", {\n              \"class\": classNames(\"\".concat(prefixCls, \"-input\"), (_classNames4 = {}, _defineProperty(_classNames4, \"\".concat(prefixCls, \"-input-active\"), mergedActivePickerIndex.value === 1), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-input-placeholder\"), !!endHoverValue.value), _classNames4)),\n              \"ref\": endInputDivRef\n            }, [_createVNode(\"input\", _objectSpread(_objectSpread(_objectSpread({\n              \"disabled\": mergedDisabled.value[1],\n              \"readonly\": inputReadOnly || typeof formatList.value[0] === 'function' || !endTyping.value,\n              \"value\": endHoverValue.value || endText.value,\n              \"onInput\": function onInput(e) {\n                triggerEndTextChange(e.target.value);\n              },\n              \"placeholder\": getValue(placeholder, 1) || '',\n              \"ref\": endInputRef\n            }, endInputProps.value), inputSharedProps), {}, {\n              \"autocomplete\": autocomplete\n            }), null)]), _createVNode(\"div\", {\n              \"class\": \"\".concat(prefixCls, \"-active-bar\"),\n              \"style\": _objectSpread(_objectSpread({}, activeBarPositionStyle), {}, {\n                width: \"\".concat(activeBarWidth, \"px\"),\n                position: 'absolute'\n              })\n            }, null), suffixNode, clearNode, getPortal()])];\n          },\n          popupElement: function popupElement() {\n            return rangePanel;\n          }\n        });\n      };\n    }\n  });\n}\n\nvar InterRangerPicker = RangerPicker();\nexport default InterRangerPicker;","map":{"version":3,"names":["_typeof","_objectSpread","_defineProperty","_slicedToArray","resolveDirective","_resolveDirective","Fragment","_Fragment","createVNode","_createVNode","PickerTrigger","PickerPanel","usePickerInput","getDataOrAriaProps","toArray","getValue","updateValues","getDefaultFormat","getInputSize","elementsContains","useProvidePanel","isEqual","getClosingViewDate","isSameDate","isSameWeek","isSameQuarter","formatValue","parseValue","useValueTexts","useTextValueMapping","RangeContextProvider","useRangeDisabled","getExtraFooter","getRanges","useRangeViewDates","useHoverValue","computed","defineComponent","ref","toRef","watch","watchEffect","useMergedState","warning","useState","classNames","useProviderTrigger","legacyPropsWarning","useElementSize","reorderValues","values","generateConfig","isAfter","canValueTrigger","value","index","disabled","allowEmpty","RangerPicker","name","inheritAttrs","props","setup","_ref","attrs","expose","needConfirmButton","picker","showTime","getPortal","openRecordsRef","containerRef","panelDivRef","startInputDivRef","endInputDivRef","separatorRef","startInputRef","endInputRef","arrowRef","process","env","NODE_ENV","formatList","format","use12Hours","_useMergedState","_useMergedState2","mergedActivePickerIndex","setMergedActivePickerIndex","operationRef","mergedDisabled","Array","isArray","_useMergedState3","defaultValue","postState","order","_useMergedState4","mergedValue","setInnerValue","_useRangeViewDates","defaultDates","defaultPickerValue","_useRangeViewDates2","startViewDate","endViewDate","setViewDate","_useMergedState5","postValues","i","getNow","_useMergedState6","selectedValue","setSelectedValue","_useMergedState7","_useMergedState8","mergedModes","setInnerModes","triggerModesChange","modes","_props$onPanelChange","onPanelChange","call","_useRangeDisabled","locale","disabledDate","_useRangeDisabled2","disabledStartDate","disabledEndDate","_useMergedState9","defaultOpen","postOpen","onChange","newOpen","_props$onOpenChange","onOpenChange","onClose","_useMergedState10","mergedOpen","triggerInnerOpen","startOpen","endOpen","panelLeft","arrowLeft","popupMinWidth","_useElementSize","containerWidth","width","_useElementSize2","panelDivWidth","_useElementSize3","arrowWidth","_useElementSize4","startInputDivWidth","_useElementSize5","separatorWidth","direction","offsetLeft","immediate","triggerRef","_triggerOpen","clearTimeout","openRecords","setTimeout","triggerOpenAndFocus","inputRef","focus","triggerChange","newValue","sourceIndex","startValue","endValue","onCalendarChange","startStr","endStr","info","range","canStartValueTrigger","canEndValueTrigger","canTrigger","nextOpenIndex","forwardKeydown","e","onKeydown","sharedTextHooksProps","_useValueTexts","_useValueTexts2","startValueTexts","firstStartValueText","_useValueTexts3","_useValueTexts4","endValueTexts","firstEndValueText","_onTextChange","onTextChange","newText","inputDate","disabledFunc","_useTextValueMapping","valueTexts","_useTextValueMapping2","startText","triggerStartTextChange","resetStartText","_useTextValueMapping3","_useTextValueMapping4","endText","triggerEndTextChange","resetEndText","_useState","_useState2","rangeHoverValue","setRangeHoverValue","_useState3","_useState4","hoverRangedValue","setHoverRangedValue","_useHoverValue","_useHoverValue2","startHoverValue","onStartEnter","onStartLeave","_useHoverValue3","_useHoverValue4","endHoverValue","onEndEnter","onEndLeave","onDateMouseenter","date","onDateMouseleave","getSharedInputHookProps","resetText","onBlur","_props$onBlur","isClickOutside","target","onFocus","_props$onFocus","triggerOpen","onSubmit","onCancel","_usePickerInput","blurToCancel","open","preventDefault","_props$onKeydown","_usePickerInput2","startInputProps","_usePickerInput2$","startFocused","focused","startTyping","typing","_usePickerInput3","_props$onKeydown2","_usePickerInput4","endInputProps","_usePickerInput4$","endFocused","endTyping","onPickerClick","_props$onClick","onClick","contains","onPickerMousedown","_props$onMousedown","onMousedown","_mergedValue$value","_mergedValue$value2","length","blur","rangeList","Object","keys","ranges","map","label","newValues","onMouseenter","onMouseleave","panelHoverRangedValue","renderPanel","panelPosition","arguments","undefined","panelProps","dateRender","_disabledTime","disabledTime","prefixCls","panelShowTime","timeDefaultValues","panelDateRender","_ref2","current","today","inRange","rangedValue","default","_default","concat","newMode","viewDate","onContextSelect","type","hideHeader","hideRanges","onSelect","_classNames2","_classNames3","_classNames4","_props$prefixCls","id","popupStyle","dropdownClassName","transitionName","dropdownAlign","getPopupContainer","placeholder","autofocus","_props$picker","_props$separator","separator","panelRender","allowClear","suffixIcon","clearIcon","inputReadOnly","renderExtraFooter","onMouseup","_onOk","onOk","components","_props$autocomplete","autocomplete","arrowPositionStyle","right","left","renderPanels","panels","extraNode","rangesNode","okDisabled","nextViewDate","currentMode","showDoublePanel","leftPanel","pickerValue","onPickerValueChange","newViewDate","rightPanel","mergedNodes","marginLeft","rangePanel","minWidth","suffixNode","clearNode","stopPropagation","inputSharedProps","size","activeBarLeft","activeBarWidth","offsetWidth","activeBarPositionStyle","class","style","onInput","position","popupElement","InterRangerPicker"],"sources":["/Users/jasonti/Desktop/Tripper/vue/node_modules/ant-design-vue/es/vc-picker/RangePicker.js"],"sourcesContent":["import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { resolveDirective as _resolveDirective, Fragment as _Fragment, createVNode as _createVNode } from \"vue\";\nimport PickerTrigger from './PickerTrigger';\nimport PickerPanel from './PickerPanel';\nimport usePickerInput from './hooks/usePickerInput';\nimport getDataOrAriaProps, { toArray, getValue, updateValues } from './utils/miscUtil';\nimport { getDefaultFormat, getInputSize, elementsContains } from './utils/uiUtil';\nimport { useProvidePanel } from './PanelContext';\nimport { isEqual, getClosingViewDate, isSameDate, isSameWeek, isSameQuarter, formatValue, parseValue } from './utils/dateUtil';\nimport useValueTexts from './hooks/useValueTexts';\nimport useTextValueMapping from './hooks/useTextValueMapping';\nimport { RangeContextProvider } from './RangeContext';\nimport useRangeDisabled from './hooks/useRangeDisabled';\nimport getExtraFooter from './utils/getExtraFooter';\nimport getRanges from './utils/getRanges';\nimport useRangeViewDates from './hooks/useRangeViewDates';\nimport useHoverValue from './hooks/useHoverValue';\nimport { computed, defineComponent, ref, toRef, watch, watchEffect } from 'vue';\nimport useMergedState from '../_util/hooks/useMergedState';\nimport { warning } from '../vc-util/warning';\nimport useState from '../_util/hooks/useState';\nimport classNames from '../_util/classNames';\nimport { useProviderTrigger } from '../vc-trigger/context';\nimport { legacyPropsWarning } from './utils/warnUtil';\nimport { useElementSize } from '../_util/hooks/_vueuse/useElementSize';\nfunction reorderValues(values, generateConfig) {\n  if (values && values[0] && values[1] && generateConfig.isAfter(values[0], values[1])) {\n    return [values[1], values[0]];\n  }\n  return values;\n}\nfunction canValueTrigger(value, index, disabled, allowEmpty) {\n  if (value) {\n    return true;\n  }\n  if (allowEmpty && allowEmpty[index]) {\n    return true;\n  }\n  if (disabled[(index + 1) % 2]) {\n    return true;\n  }\n  return false;\n}\nfunction RangerPicker() {\n  return defineComponent({\n    name: 'RangerPicker',\n    inheritAttrs: false,\n    props: ['prefixCls', 'id', 'popupStyle', 'dropdownClassName', 'transitionName', 'dropdownAlign', 'getPopupContainer', 'generateConfig', 'locale', 'placeholder', 'autofocus', 'disabled', 'format', 'picker', 'showTime', 'showNow', 'showHour', 'showMinute', 'showSecond', 'use12Hours', 'separator', 'value', 'defaultValue', 'defaultPickerValue', 'open', 'defaultOpen', 'disabledDate', 'disabledTime', 'dateRender', 'panelRender', 'ranges', 'allowEmpty', 'allowClear', 'suffixIcon', 'clearIcon', 'pickerRef', 'inputReadOnly', 'mode', 'renderExtraFooter', 'onChange', 'onOpenChange', 'onPanelChange', 'onCalendarChange', 'onFocus', 'onBlur', 'onMousedown', 'onMouseup', 'onMouseenter', 'onMouseleave', 'onClick', 'onOk', 'onKeydown', 'components', 'order', 'direction', 'activePickerIndex', 'autocomplete', 'minuteStep', 'hourStep', 'secondStep', 'hideDisabledOptions', 'disabledMinutes'],\n    setup: function setup(props, _ref) {\n      var attrs = _ref.attrs,\n        expose = _ref.expose;\n      var needConfirmButton = computed(function () {\n        return props.picker === 'date' && !!props.showTime || props.picker === 'time';\n      });\n      var getPortal = useProviderTrigger();\n      // We record opened status here in case repeat open with picker\n      var openRecordsRef = ref({});\n      var containerRef = ref(null);\n      var panelDivRef = ref(null);\n      var startInputDivRef = ref(null);\n      var endInputDivRef = ref(null);\n      var separatorRef = ref(null);\n      var startInputRef = ref(null);\n      var endInputRef = ref(null);\n      var arrowRef = ref(null);\n      // ============================ Warning ============================\n      if (process.env.NODE_ENV !== 'production') {\n        legacyPropsWarning(props);\n      }\n      // ============================= Misc ==============================\n      var formatList = computed(function () {\n        return toArray(getDefaultFormat(props.format, props.picker, props.showTime, props.use12Hours));\n      });\n      // Active picker\n      var _useMergedState = useMergedState(0, {\n          value: toRef(props, 'activePickerIndex')\n        }),\n        _useMergedState2 = _slicedToArray(_useMergedState, 2),\n        mergedActivePickerIndex = _useMergedState2[0],\n        setMergedActivePickerIndex = _useMergedState2[1];\n      // Operation ref\n      var operationRef = ref(null);\n      var mergedDisabled = computed(function () {\n        var disabled = props.disabled;\n        if (Array.isArray(disabled)) {\n          return disabled;\n        }\n        return [disabled || false, disabled || false];\n      });\n      // ============================= Value =============================\n      var _useMergedState3 = useMergedState(null, {\n          value: toRef(props, 'value'),\n          defaultValue: props.defaultValue,\n          postState: function postState(values) {\n            return props.picker === 'time' && !props.order ? values : reorderValues(values, props.generateConfig);\n          }\n        }),\n        _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n        mergedValue = _useMergedState4[0],\n        setInnerValue = _useMergedState4[1];\n      // =========================== View Date ===========================\n      // Config view panel\n      var _useRangeViewDates = useRangeViewDates({\n          values: mergedValue,\n          picker: toRef(props, 'picker'),\n          defaultDates: props.defaultPickerValue,\n          generateConfig: toRef(props, 'generateConfig')\n        }),\n        _useRangeViewDates2 = _slicedToArray(_useRangeViewDates, 3),\n        startViewDate = _useRangeViewDates2[0],\n        endViewDate = _useRangeViewDates2[1],\n        setViewDate = _useRangeViewDates2[2];\n      // ========================= Select Values =========================\n      var _useMergedState5 = useMergedState(mergedValue.value, {\n          postState: function postState(values) {\n            var postValues = values;\n            if (mergedDisabled.value[0] && mergedDisabled.value[1]) {\n              return postValues;\n            }\n            // Fill disabled unit\n            for (var i = 0; i < 2; i += 1) {\n              if (mergedDisabled[i] && !getValue(postValues, i) && !getValue(props.allowEmpty, i)) {\n                postValues = updateValues(postValues, props.generateConfig.getNow(), i);\n              }\n            }\n            return postValues;\n          }\n        }),\n        _useMergedState6 = _slicedToArray(_useMergedState5, 2),\n        selectedValue = _useMergedState6[0],\n        setSelectedValue = _useMergedState6[1];\n      // ============================= Modes =============================\n      var _useMergedState7 = useMergedState([props.picker, props.picker], {\n          value: toRef(props, 'mode')\n        }),\n        _useMergedState8 = _slicedToArray(_useMergedState7, 2),\n        mergedModes = _useMergedState8[0],\n        setInnerModes = _useMergedState8[1];\n      watch(function () {\n        return props.picker;\n      }, function () {\n        setInnerModes([props.picker, props.picker]);\n      });\n      var triggerModesChange = function triggerModesChange(modes, values) {\n        var _props$onPanelChange;\n        setInnerModes(modes);\n        (_props$onPanelChange = props.onPanelChange) === null || _props$onPanelChange === void 0 ? void 0 : _props$onPanelChange.call(props, values, modes);\n      };\n      // ========================= Disable Date ==========================\n      var _useRangeDisabled = useRangeDisabled({\n          picker: toRef(props, 'picker'),\n          selectedValue: selectedValue,\n          locale: toRef(props, 'locale'),\n          disabled: mergedDisabled,\n          disabledDate: toRef(props, 'disabledDate'),\n          generateConfig: toRef(props, 'generateConfig')\n        }, openRecordsRef),\n        _useRangeDisabled2 = _slicedToArray(_useRangeDisabled, 2),\n        disabledStartDate = _useRangeDisabled2[0],\n        disabledEndDate = _useRangeDisabled2[1];\n      // ============================= Open ==============================\n      var _useMergedState9 = useMergedState(false, {\n          value: toRef(props, 'open'),\n          defaultValue: props.defaultOpen,\n          postState: function postState(postOpen) {\n            return mergedDisabled.value[mergedActivePickerIndex.value] ? false : postOpen;\n          },\n          onChange: function onChange(newOpen) {\n            var _props$onOpenChange;\n            (_props$onOpenChange = props.onOpenChange) === null || _props$onOpenChange === void 0 ? void 0 : _props$onOpenChange.call(props, newOpen);\n            if (!newOpen && operationRef.value && operationRef.value.onClose) {\n              operationRef.value.onClose();\n            }\n          }\n        }),\n        _useMergedState10 = _slicedToArray(_useMergedState9, 2),\n        mergedOpen = _useMergedState10[0],\n        triggerInnerOpen = _useMergedState10[1];\n      var startOpen = computed(function () {\n        return mergedOpen.value && mergedActivePickerIndex.value === 0;\n      });\n      var endOpen = computed(function () {\n        return mergedOpen.value && mergedActivePickerIndex.value === 1;\n      });\n      var panelLeft = ref(0);\n      var arrowLeft = ref(0);\n      // ============================= Popup =============================\n      // Popup min width\n      var popupMinWidth = ref(0);\n      var _useElementSize = useElementSize(containerRef),\n        containerWidth = _useElementSize.width;\n      watch([mergedOpen, containerWidth], function () {\n        if (!mergedOpen.value && containerRef.value) {\n          popupMinWidth.value = containerWidth.value;\n        }\n      });\n      var _useElementSize2 = useElementSize(panelDivRef),\n        panelDivWidth = _useElementSize2.width;\n      var _useElementSize3 = useElementSize(arrowRef),\n        arrowWidth = _useElementSize3.width;\n      var _useElementSize4 = useElementSize(startInputDivRef),\n        startInputDivWidth = _useElementSize4.width;\n      var _useElementSize5 = useElementSize(separatorRef),\n        separatorWidth = _useElementSize5.width;\n      watch([mergedActivePickerIndex, mergedOpen, panelDivWidth, arrowWidth, startInputDivWidth, separatorWidth, function () {\n        return props.direction;\n      }], function () {\n        arrowLeft.value = 0;\n        if (mergedOpen.value && mergedActivePickerIndex.value) {\n          if (startInputDivRef.value && separatorRef.value && panelDivRef.value) {\n            arrowLeft.value = startInputDivWidth.value + separatorWidth.value;\n            if (panelDivWidth.value && arrowWidth.value && arrowLeft.value > panelDivWidth.value - arrowWidth.value - (props.direction === 'rtl' || arrowRef.value.offsetLeft > arrowLeft.value ? 0 : arrowRef.value.offsetLeft)) {\n              panelLeft.value = arrowLeft.value;\n            }\n          }\n        } else if (mergedActivePickerIndex.value === 0) {\n          panelLeft.value = 0;\n        }\n      }, {\n        immediate: true\n      });\n      // ============================ Trigger ============================\n      var triggerRef = ref();\n      function _triggerOpen(newOpen, index) {\n        if (newOpen) {\n          clearTimeout(triggerRef.value);\n          openRecordsRef.value[index] = true;\n          setMergedActivePickerIndex(index);\n          triggerInnerOpen(newOpen);\n          // Open to reset view date\n          if (!mergedOpen.value) {\n            setViewDate(null, index);\n          }\n        } else if (mergedActivePickerIndex.value === index) {\n          triggerInnerOpen(newOpen);\n          // Clean up async\n          // This makes ref not quick refresh in case user open another input with blur trigger\n          var openRecords = openRecordsRef.value;\n          triggerRef.value = setTimeout(function () {\n            if (openRecords === openRecordsRef.value) {\n              openRecordsRef.value = {};\n            }\n          });\n        }\n      }\n      function triggerOpenAndFocus(index) {\n        _triggerOpen(true, index);\n        // Use setTimeout to make sure panel DOM exists\n        setTimeout(function () {\n          var inputRef = [startInputRef, endInputRef][index];\n          if (inputRef.value) {\n            inputRef.value.focus();\n          }\n        }, 0);\n      }\n      function triggerChange(newValue, sourceIndex) {\n        var values = newValue;\n        var startValue = getValue(values, 0);\n        var endValue = getValue(values, 1);\n        var generateConfig = props.generateConfig,\n          locale = props.locale,\n          picker = props.picker,\n          order = props.order,\n          onCalendarChange = props.onCalendarChange,\n          allowEmpty = props.allowEmpty,\n          onChange = props.onChange,\n          showTime = props.showTime;\n        // >>>>> Format start & end values\n        if (startValue && endValue && generateConfig.isAfter(startValue, endValue)) {\n          if (\n          // WeekPicker only compare week\n          picker === 'week' && !isSameWeek(generateConfig, locale.locale, startValue, endValue) ||\n          // QuotaPicker only compare week\n          picker === 'quarter' && !isSameQuarter(generateConfig, startValue, endValue) ||\n          // Other non-TimePicker compare date\n          picker !== 'week' && picker !== 'quarter' && picker !== 'time' && !(showTime ? isEqual(generateConfig, startValue, endValue) : isSameDate(generateConfig, startValue, endValue))) {\n            // Clean up end date when start date is after end date\n            if (sourceIndex === 0) {\n              values = [startValue, null];\n              endValue = null;\n            } else {\n              startValue = null;\n              values = [null, endValue];\n            }\n            // Clean up cache since invalidate\n            openRecordsRef.value = _defineProperty({}, sourceIndex, true);\n          } else if (picker !== 'time' || order !== false) {\n            // Reorder when in same date\n            values = reorderValues(values, generateConfig);\n          }\n        }\n        setSelectedValue(values);\n        var startStr = values && values[0] ? formatValue(values[0], {\n          generateConfig: generateConfig,\n          locale: locale,\n          format: formatList.value[0]\n        }) : '';\n        var endStr = values && values[1] ? formatValue(values[1], {\n          generateConfig: generateConfig,\n          locale: locale,\n          format: formatList.value[0]\n        }) : '';\n        if (onCalendarChange) {\n          var info = {\n            range: sourceIndex === 0 ? 'start' : 'end'\n          };\n          onCalendarChange(values, [startStr, endStr], info);\n        }\n        // >>>>> Trigger `onChange` event\n        var canStartValueTrigger = canValueTrigger(startValue, 0, mergedDisabled.value, allowEmpty);\n        var canEndValueTrigger = canValueTrigger(endValue, 1, mergedDisabled.value, allowEmpty);\n        var canTrigger = values === null || canStartValueTrigger && canEndValueTrigger;\n        if (canTrigger) {\n          // Trigger onChange only when value is validate\n          setInnerValue(values);\n          if (onChange && (!isEqual(generateConfig, getValue(mergedValue.value, 0), startValue) || !isEqual(generateConfig, getValue(mergedValue.value, 1), endValue))) {\n            onChange(values, [startStr, endStr]);\n          }\n        }\n        // >>>>> Open picker when\n        // Always open another picker if possible\n        var nextOpenIndex = null;\n        if (sourceIndex === 0 && !mergedDisabled.value[1]) {\n          nextOpenIndex = 1;\n        } else if (sourceIndex === 1 && !mergedDisabled.value[0]) {\n          nextOpenIndex = 0;\n        }\n        if (nextOpenIndex !== null && nextOpenIndex !== mergedActivePickerIndex.value && (!openRecordsRef.value[nextOpenIndex] || !getValue(values, nextOpenIndex)) && getValue(values, sourceIndex)) {\n          // Delay to focus to avoid input blur trigger expired selectedValues\n          triggerOpenAndFocus(nextOpenIndex);\n        } else {\n          _triggerOpen(false, sourceIndex);\n        }\n      }\n      var forwardKeydown = function forwardKeydown(e) {\n        if (mergedOpen && operationRef.value && operationRef.value.onKeydown) {\n          // Let popup panel handle keyboard\n          return operationRef.value.onKeydown(e);\n        }\n        /* istanbul ignore next */\n        /* eslint-disable no-lone-blocks */\n        {\n          warning(false, 'Picker not correct forward Keydown operation. Please help to fire issue about this.');\n          return false;\n        }\n      };\n      // ============================= Text ==============================\n      var sharedTextHooksProps = {\n        formatList: formatList,\n        generateConfig: toRef(props, 'generateConfig'),\n        locale: toRef(props, 'locale')\n      };\n      var _useValueTexts = useValueTexts(computed(function () {\n          return getValue(selectedValue.value, 0);\n        }), sharedTextHooksProps),\n        _useValueTexts2 = _slicedToArray(_useValueTexts, 2),\n        startValueTexts = _useValueTexts2[0],\n        firstStartValueText = _useValueTexts2[1];\n      var _useValueTexts3 = useValueTexts(computed(function () {\n          return getValue(selectedValue.value, 1);\n        }), sharedTextHooksProps),\n        _useValueTexts4 = _slicedToArray(_useValueTexts3, 2),\n        endValueTexts = _useValueTexts4[0],\n        firstEndValueText = _useValueTexts4[1];\n      var _onTextChange = function onTextChange(newText, index) {\n        var inputDate = parseValue(newText, {\n          locale: props.locale,\n          formatList: formatList.value,\n          generateConfig: props.generateConfig\n        });\n        var disabledFunc = index === 0 ? disabledStartDate : disabledEndDate;\n        if (inputDate && !disabledFunc(inputDate)) {\n          setSelectedValue(updateValues(selectedValue.value, inputDate, index));\n          setViewDate(inputDate, index);\n        }\n      };\n      var _useTextValueMapping = useTextValueMapping({\n          valueTexts: startValueTexts,\n          onTextChange: function onTextChange(newText) {\n            return _onTextChange(newText, 0);\n          }\n        }),\n        _useTextValueMapping2 = _slicedToArray(_useTextValueMapping, 3),\n        startText = _useTextValueMapping2[0],\n        triggerStartTextChange = _useTextValueMapping2[1],\n        resetStartText = _useTextValueMapping2[2];\n      var _useTextValueMapping3 = useTextValueMapping({\n          valueTexts: endValueTexts,\n          onTextChange: function onTextChange(newText) {\n            return _onTextChange(newText, 1);\n          }\n        }),\n        _useTextValueMapping4 = _slicedToArray(_useTextValueMapping3, 3),\n        endText = _useTextValueMapping4[0],\n        triggerEndTextChange = _useTextValueMapping4[1],\n        resetEndText = _useTextValueMapping4[2];\n      var _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        rangeHoverValue = _useState2[0],\n        setRangeHoverValue = _useState2[1];\n      // ========================== Hover Range ==========================\n      var _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        hoverRangedValue = _useState4[0],\n        setHoverRangedValue = _useState4[1];\n      var _useHoverValue = useHoverValue(startText, sharedTextHooksProps),\n        _useHoverValue2 = _slicedToArray(_useHoverValue, 3),\n        startHoverValue = _useHoverValue2[0],\n        onStartEnter = _useHoverValue2[1],\n        onStartLeave = _useHoverValue2[2];\n      var _useHoverValue3 = useHoverValue(endText, sharedTextHooksProps),\n        _useHoverValue4 = _slicedToArray(_useHoverValue3, 3),\n        endHoverValue = _useHoverValue4[0],\n        onEndEnter = _useHoverValue4[1],\n        onEndLeave = _useHoverValue4[2];\n      var onDateMouseenter = function onDateMouseenter(date) {\n        setHoverRangedValue(updateValues(selectedValue.value, date, mergedActivePickerIndex.value));\n        if (mergedActivePickerIndex.value === 0) {\n          onStartEnter(date);\n        } else {\n          onEndEnter(date);\n        }\n      };\n      var onDateMouseleave = function onDateMouseleave() {\n        setHoverRangedValue(updateValues(selectedValue.value, null, mergedActivePickerIndex.value));\n        if (mergedActivePickerIndex.value === 0) {\n          onStartLeave();\n        } else {\n          onEndLeave();\n        }\n      };\n      // ============================= Input =============================\n      var getSharedInputHookProps = function getSharedInputHookProps(index, resetText) {\n        return {\n          forwardKeydown: forwardKeydown,\n          onBlur: function onBlur(e) {\n            var _props$onBlur;\n            (_props$onBlur = props.onBlur) === null || _props$onBlur === void 0 ? void 0 : _props$onBlur.call(props, e);\n          },\n          isClickOutside: function isClickOutside(target) {\n            return !elementsContains([panelDivRef.value, startInputDivRef.value, endInputDivRef.value, containerRef.value], target);\n          },\n          onFocus: function onFocus(e) {\n            var _props$onFocus;\n            setMergedActivePickerIndex(index);\n            (_props$onFocus = props.onFocus) === null || _props$onFocus === void 0 ? void 0 : _props$onFocus.call(props, e);\n          },\n          triggerOpen: function triggerOpen(newOpen) {\n            _triggerOpen(newOpen, index);\n          },\n          onSubmit: function onSubmit() {\n            if (\n            // When user typing disabledDate with keyboard and enter, this value will be empty\n            !selectedValue.value ||\n            // Normal disabled check\n            props.disabledDate && props.disabledDate(selectedValue.value[index])) {\n              return false;\n            }\n            triggerChange(selectedValue.value, index);\n            resetText();\n          },\n          onCancel: function onCancel() {\n            _triggerOpen(false, index);\n            setSelectedValue(mergedValue.value);\n            resetText();\n          }\n        };\n      };\n      var _usePickerInput = usePickerInput(_objectSpread(_objectSpread({}, getSharedInputHookProps(0, resetStartText)), {}, {\n          blurToCancel: needConfirmButton,\n          open: startOpen,\n          value: startText,\n          onKeydown: function onKeydown(e, preventDefault) {\n            var _props$onKeydown;\n            (_props$onKeydown = props.onKeydown) === null || _props$onKeydown === void 0 ? void 0 : _props$onKeydown.call(props, e, preventDefault);\n          }\n        })),\n        _usePickerInput2 = _slicedToArray(_usePickerInput, 2),\n        startInputProps = _usePickerInput2[0],\n        _usePickerInput2$ = _usePickerInput2[1],\n        startFocused = _usePickerInput2$.focused,\n        startTyping = _usePickerInput2$.typing;\n      var _usePickerInput3 = usePickerInput(_objectSpread(_objectSpread({}, getSharedInputHookProps(1, resetEndText)), {}, {\n          blurToCancel: needConfirmButton,\n          open: endOpen,\n          value: endText,\n          onKeydown: function onKeydown(e, preventDefault) {\n            var _props$onKeydown2;\n            (_props$onKeydown2 = props.onKeydown) === null || _props$onKeydown2 === void 0 ? void 0 : _props$onKeydown2.call(props, e, preventDefault);\n          }\n        })),\n        _usePickerInput4 = _slicedToArray(_usePickerInput3, 2),\n        endInputProps = _usePickerInput4[0],\n        _usePickerInput4$ = _usePickerInput4[1],\n        endFocused = _usePickerInput4$.focused,\n        endTyping = _usePickerInput4$.typing;\n      // ========================== Click Picker ==========================\n      var onPickerClick = function onPickerClick(e) {\n        var _props$onClick;\n        // When click inside the picker & outside the picker's input elements\n        // the panel should still be opened\n        (_props$onClick = props.onClick) === null || _props$onClick === void 0 ? void 0 : _props$onClick.call(props, e);\n        if (!mergedOpen.value && !startInputRef.value.contains(e.target) && !endInputRef.value.contains(e.target)) {\n          if (!mergedDisabled.value[0]) {\n            triggerOpenAndFocus(0);\n          } else if (!mergedDisabled.value[1]) {\n            triggerOpenAndFocus(1);\n          }\n        }\n      };\n      var onPickerMousedown = function onPickerMousedown(e) {\n        var _props$onMousedown;\n        // shouldn't affect input elements if picker is active\n        (_props$onMousedown = props.onMousedown) === null || _props$onMousedown === void 0 ? void 0 : _props$onMousedown.call(props, e);\n        if (mergedOpen.value && (startFocused.value || endFocused.value) && !startInputRef.value.contains(e.target) && !endInputRef.value.contains(e.target)) {\n          e.preventDefault();\n        }\n      };\n      // ============================= Sync ==============================\n      // Close should sync back with text value\n      var startStr = computed(function () {\n        var _mergedValue$value;\n        return (_mergedValue$value = mergedValue.value) !== null && _mergedValue$value !== void 0 && _mergedValue$value[0] ? formatValue(mergedValue.value[0], {\n          locale: props.locale,\n          format: 'YYYYMMDDHHmmss',\n          generateConfig: props.generateConfig\n        }) : '';\n      });\n      var endStr = computed(function () {\n        var _mergedValue$value2;\n        return (_mergedValue$value2 = mergedValue.value) !== null && _mergedValue$value2 !== void 0 && _mergedValue$value2[1] ? formatValue(mergedValue.value[1], {\n          locale: props.locale,\n          format: 'YYYYMMDDHHmmss',\n          generateConfig: props.generateConfig\n        }) : '';\n      });\n      watch([mergedOpen, startValueTexts, endValueTexts], function () {\n        if (!mergedOpen.value) {\n          setSelectedValue(mergedValue.value);\n          if (!startValueTexts.value.length || startValueTexts.value[0] === '') {\n            triggerStartTextChange('');\n          } else if (firstStartValueText.value !== startText.value) {\n            resetStartText();\n          }\n          if (!endValueTexts.value.length || endValueTexts.value[0] === '') {\n            triggerEndTextChange('');\n          } else if (firstEndValueText.value !== endText.value) {\n            resetEndText();\n          }\n        }\n      });\n      // Sync innerValue with control mode\n      watch([startStr, endStr], function () {\n        setSelectedValue(mergedValue.value);\n      });\n      // ============================ Warning ============================\n      if (process.env.NODE_ENV !== 'production') {\n        watchEffect(function () {\n          var value = props.value,\n            disabled = props.disabled;\n          if (value && Array.isArray(disabled) && (getValue(disabled, 0) && !getValue(value, 0) || getValue(disabled, 1) && !getValue(value, 1))) {\n            warning(false, '`disabled` should not set with empty `value`. You should set `allowEmpty` or `value` instead.');\n          }\n        });\n      }\n      expose({\n        focus: function focus() {\n          if (startInputRef.value) {\n            startInputRef.value.focus();\n          }\n        },\n        blur: function blur() {\n          if (startInputRef.value) {\n            startInputRef.value.blur();\n          }\n          if (endInputRef.value) {\n            endInputRef.value.blur();\n          }\n        }\n      });\n      // ============================ Ranges =============================\n      var rangeList = computed(function () {\n        return Object.keys(props.ranges || {}).map(function (label) {\n          var range = props.ranges[label];\n          var newValues = typeof range === 'function' ? range() : range;\n          return {\n            label: label,\n            onClick: function onClick() {\n              triggerChange(newValues, null);\n              _triggerOpen(false, mergedActivePickerIndex.value);\n            },\n            onMouseenter: function onMouseenter() {\n              setRangeHoverValue(newValues);\n            },\n            onMouseleave: function onMouseleave() {\n              setRangeHoverValue(null);\n            }\n          };\n        });\n      });\n      // ============================= Panel =============================\n      var panelHoverRangedValue = computed(function () {\n        if (mergedOpen.value && hoverRangedValue.value && hoverRangedValue.value[0] && hoverRangedValue.value[1] && props.generateConfig.isAfter(hoverRangedValue.value[1], hoverRangedValue.value[0])) {\n          return hoverRangedValue.value;\n        } else {\n          return null;\n        }\n      });\n      function renderPanel() {\n        var panelPosition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n        var panelProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var generateConfig = props.generateConfig,\n          showTime = props.showTime,\n          dateRender = props.dateRender,\n          direction = props.direction,\n          _disabledTime = props.disabledTime,\n          prefixCls = props.prefixCls,\n          locale = props.locale;\n        var panelShowTime = showTime;\n        if (showTime && _typeof(showTime) === 'object' && showTime.defaultValue) {\n          var timeDefaultValues = showTime.defaultValue;\n          panelShowTime = _objectSpread(_objectSpread({}, showTime), {}, {\n            defaultValue: getValue(timeDefaultValues, mergedActivePickerIndex.value) || undefined\n          });\n        }\n        var panelDateRender = null;\n        if (dateRender) {\n          panelDateRender = function panelDateRender(_ref2) {\n            var date = _ref2.current,\n              today = _ref2.today;\n            return dateRender({\n              current: date,\n              today: today,\n              info: {\n                range: mergedActivePickerIndex.value ? 'end' : 'start'\n              }\n            });\n          };\n        }\n        return _createVNode(RangeContextProvider, {\n          \"value\": {\n            inRange: true,\n            panelPosition: panelPosition,\n            rangedValue: rangeHoverValue.value || selectedValue.value,\n            hoverRangedValue: panelHoverRangedValue.value\n          }\n        }, {\n          default: function _default() {\n            return [_createVNode(PickerPanel, _objectSpread(_objectSpread(_objectSpread({}, props), panelProps), {}, {\n              \"dateRender\": panelDateRender,\n              \"showTime\": panelShowTime,\n              \"mode\": mergedModes.value[mergedActivePickerIndex.value],\n              \"generateConfig\": generateConfig,\n              \"style\": undefined,\n              \"direction\": direction,\n              \"disabledDate\": mergedActivePickerIndex.value === 0 ? disabledStartDate : disabledEndDate,\n              \"disabledTime\": function disabledTime(date) {\n                if (_disabledTime) {\n                  return _disabledTime(date, mergedActivePickerIndex.value === 0 ? 'start' : 'end');\n                }\n                return false;\n              },\n              \"class\": classNames(_defineProperty({}, \"\".concat(prefixCls, \"-panel-focused\"), mergedActivePickerIndex.value === 0 ? !startTyping.value : !endTyping.value)),\n              \"value\": getValue(selectedValue.value, mergedActivePickerIndex.value),\n              \"locale\": locale,\n              \"tabIndex\": -1,\n              \"onPanelChange\": function onPanelChange(date, newMode) {\n                // clear hover value when panel change\n                if (mergedActivePickerIndex.value === 0) {\n                  onStartLeave(true);\n                }\n                if (mergedActivePickerIndex.value === 1) {\n                  onEndLeave(true);\n                }\n                triggerModesChange(updateValues(mergedModes.value, newMode, mergedActivePickerIndex.value), updateValues(selectedValue.value, date, mergedActivePickerIndex.value));\n                var viewDate = date;\n                if (panelPosition === 'right' && mergedModes.value[mergedActivePickerIndex.value] === newMode) {\n                  viewDate = getClosingViewDate(viewDate, newMode, generateConfig, -1);\n                }\n                setViewDate(viewDate, mergedActivePickerIndex.value);\n              },\n              \"onOk\": null,\n              \"onSelect\": undefined,\n              \"onChange\": undefined,\n              \"defaultValue\": mergedActivePickerIndex.value === 0 ? getValue(selectedValue.value, 1) : getValue(selectedValue.value, 0)\n            }), null)];\n          }\n        });\n      }\n      var onContextSelect = function onContextSelect(date, type) {\n        var values = updateValues(selectedValue.value, date, mergedActivePickerIndex.value);\n        if (type === 'submit' || type !== 'key' && !needConfirmButton.value) {\n          // triggerChange will also update selected values\n          triggerChange(values, mergedActivePickerIndex.value);\n          // clear hover value style\n          if (mergedActivePickerIndex.value === 0) {\n            onStartLeave();\n          } else {\n            onEndLeave();\n          }\n        } else {\n          setSelectedValue(values);\n        }\n      };\n      useProvidePanel({\n        operationRef: operationRef,\n        hideHeader: computed(function () {\n          return props.picker === 'time';\n        }),\n        onDateMouseenter: onDateMouseenter,\n        onDateMouseleave: onDateMouseleave,\n        hideRanges: computed(function () {\n          return true;\n        }),\n        onSelect: onContextSelect,\n        open: mergedOpen\n      });\n      return function () {\n        var _classNames2, _classNames3, _classNames4;\n        var _props$prefixCls = props.prefixCls,\n          prefixCls = _props$prefixCls === void 0 ? 'rc-picker' : _props$prefixCls,\n          id = props.id,\n          popupStyle = props.popupStyle,\n          dropdownClassName = props.dropdownClassName,\n          transitionName = props.transitionName,\n          dropdownAlign = props.dropdownAlign,\n          getPopupContainer = props.getPopupContainer,\n          generateConfig = props.generateConfig,\n          locale = props.locale,\n          placeholder = props.placeholder,\n          autofocus = props.autofocus,\n          _props$picker = props.picker,\n          picker = _props$picker === void 0 ? 'date' : _props$picker,\n          showTime = props.showTime,\n          _props$separator = props.separator,\n          separator = _props$separator === void 0 ? '~' : _props$separator,\n          disabledDate = props.disabledDate,\n          panelRender = props.panelRender,\n          allowClear = props.allowClear,\n          suffixIcon = props.suffixIcon,\n          clearIcon = props.clearIcon,\n          inputReadOnly = props.inputReadOnly,\n          renderExtraFooter = props.renderExtraFooter,\n          onMouseenter = props.onMouseenter,\n          onMouseleave = props.onMouseleave,\n          onMouseup = props.onMouseup,\n          _onOk = props.onOk,\n          components = props.components,\n          direction = props.direction,\n          _props$autocomplete = props.autocomplete,\n          autocomplete = _props$autocomplete === void 0 ? 'off' : _props$autocomplete;\n        var arrowPositionStyle = direction === 'rtl' ? {\n          right: \"\".concat(arrowLeft.value, \"px\")\n        } : {\n          left: \"\".concat(arrowLeft.value, \"px\")\n        };\n        function renderPanels() {\n          var panels;\n          var extraNode = getExtraFooter(prefixCls, mergedModes.value[mergedActivePickerIndex.value], renderExtraFooter);\n          var rangesNode = getRanges({\n            prefixCls: prefixCls,\n            components: components,\n            needConfirmButton: needConfirmButton.value,\n            okDisabled: !getValue(selectedValue.value, mergedActivePickerIndex.value) || disabledDate && disabledDate(selectedValue.value[mergedActivePickerIndex.value]),\n            locale: locale,\n            rangeList: rangeList.value,\n            onOk: function onOk() {\n              if (getValue(selectedValue.value, mergedActivePickerIndex.value)) {\n                // triggerChangeOld(selectedValue.value);\n                triggerChange(selectedValue.value, mergedActivePickerIndex.value);\n                if (_onOk) {\n                  _onOk(selectedValue.value);\n                }\n              }\n            }\n          });\n          if (picker !== 'time' && !showTime) {\n            var viewDate = mergedActivePickerIndex.value === 0 ? startViewDate.value : endViewDate.value;\n            var nextViewDate = getClosingViewDate(viewDate, picker, generateConfig);\n            var currentMode = mergedModes.value[mergedActivePickerIndex.value];\n            var showDoublePanel = currentMode === picker;\n            var leftPanel = renderPanel(showDoublePanel ? 'left' : false, {\n              pickerValue: viewDate,\n              onPickerValueChange: function onPickerValueChange(newViewDate) {\n                setViewDate(newViewDate, mergedActivePickerIndex.value);\n              }\n            });\n            var rightPanel = renderPanel('right', {\n              pickerValue: nextViewDate,\n              onPickerValueChange: function onPickerValueChange(newViewDate) {\n                setViewDate(getClosingViewDate(newViewDate, picker, generateConfig, -1), mergedActivePickerIndex.value);\n              }\n            });\n            if (direction === 'rtl') {\n              panels = _createVNode(_Fragment, null, [rightPanel, showDoublePanel && leftPanel]);\n            } else {\n              panels = _createVNode(_Fragment, null, [leftPanel, showDoublePanel && rightPanel]);\n            }\n          } else {\n            panels = renderPanel();\n          }\n          var mergedNodes = _createVNode(_Fragment, null, [_createVNode(\"div\", {\n            \"class\": \"\".concat(prefixCls, \"-panels\")\n          }, [panels]), (extraNode || rangesNode) && _createVNode(\"div\", {\n            \"class\": \"\".concat(prefixCls, \"-footer\")\n          }, [extraNode, rangesNode])]);\n          if (panelRender) {\n            mergedNodes = panelRender(mergedNodes);\n          }\n          return _createVNode(\"div\", {\n            \"class\": \"\".concat(prefixCls, \"-panel-container\"),\n            \"style\": {\n              marginLeft: \"\".concat(panelLeft.value, \"px\")\n            },\n            \"ref\": panelDivRef,\n            \"onMousedown\": function onMousedown(e) {\n              e.preventDefault();\n            }\n          }, [mergedNodes]);\n        }\n        var rangePanel = _createVNode(\"div\", {\n          \"class\": classNames(\"\".concat(prefixCls, \"-range-wrapper\"), \"\".concat(prefixCls, \"-\").concat(picker, \"-range-wrapper\")),\n          \"style\": {\n            minWidth: \"\".concat(popupMinWidth.value, \"px\")\n          }\n        }, [_createVNode(\"div\", {\n          \"ref\": arrowRef,\n          \"class\": \"\".concat(prefixCls, \"-range-arrow\"),\n          \"style\": arrowPositionStyle\n        }, null), renderPanels()]);\n        // ============================= Icons =============================\n        var suffixNode;\n        if (suffixIcon) {\n          suffixNode = _createVNode(\"span\", {\n            \"class\": \"\".concat(prefixCls, \"-suffix\")\n          }, [suffixIcon]);\n        }\n        var clearNode;\n        if (allowClear && (getValue(mergedValue.value, 0) && !mergedDisabled.value[0] || getValue(mergedValue.value, 1) && !mergedDisabled.value[1])) {\n          clearNode = _createVNode(\"span\", {\n            \"onMousedown\": function onMousedown(e) {\n              e.preventDefault();\n              e.stopPropagation();\n            },\n            \"onMouseup\": function onMouseup(e) {\n              e.preventDefault();\n              e.stopPropagation();\n              var values = mergedValue.value;\n              if (!mergedDisabled.value[0]) {\n                values = updateValues(values, null, 0);\n              }\n              if (!mergedDisabled.value[1]) {\n                values = updateValues(values, null, 1);\n              }\n              triggerChange(values, null);\n              _triggerOpen(false, mergedActivePickerIndex.value);\n            },\n            \"class\": \"\".concat(prefixCls, \"-clear\")\n          }, [clearIcon || _createVNode(\"span\", {\n            \"class\": \"\".concat(prefixCls, \"-clear-btn\")\n          }, null)]);\n        }\n        var inputSharedProps = {\n          size: getInputSize(picker, formatList.value[0], generateConfig)\n        };\n        var activeBarLeft = 0;\n        var activeBarWidth = 0;\n        if (startInputDivRef.value && endInputDivRef.value && separatorRef.value) {\n          if (mergedActivePickerIndex.value === 0) {\n            activeBarWidth = startInputDivRef.value.offsetWidth;\n          } else {\n            activeBarLeft = arrowLeft.value;\n            activeBarWidth = endInputDivRef.value.offsetWidth;\n          }\n        }\n        var activeBarPositionStyle = direction === 'rtl' ? {\n          right: \"\".concat(activeBarLeft, \"px\")\n        } : {\n          left: \"\".concat(activeBarLeft, \"px\")\n        };\n        // ============================ Return =============================\n        return _createVNode(PickerTrigger, {\n          \"visible\": mergedOpen.value,\n          \"popupStyle\": popupStyle,\n          \"prefixCls\": prefixCls,\n          \"dropdownClassName\": dropdownClassName,\n          \"dropdownAlign\": dropdownAlign,\n          \"getPopupContainer\": getPopupContainer,\n          \"transitionName\": transitionName,\n          \"range\": true,\n          \"direction\": direction\n        }, {\n          default: function _default() {\n            return [_createVNode(\"div\", _objectSpread({\n              \"ref\": containerRef,\n              \"class\": classNames(prefixCls, \"\".concat(prefixCls, \"-range\"), attrs.class, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-disabled\"), mergedDisabled.value[0] && mergedDisabled.value[1]), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-focused\"), mergedActivePickerIndex.value === 0 ? startFocused.value : endFocused.value), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames2)),\n              \"style\": attrs.style,\n              \"onClick\": onPickerClick,\n              \"onMouseenter\": onMouseenter,\n              \"onMouseleave\": onMouseleave,\n              \"onMousedown\": onPickerMousedown,\n              \"onMouseup\": onMouseup\n            }, getDataOrAriaProps(props)), [_createVNode(\"div\", {\n              \"class\": classNames(\"\".concat(prefixCls, \"-input\"), (_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(prefixCls, \"-input-active\"), mergedActivePickerIndex.value === 0), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-input-placeholder\"), !!startHoverValue.value), _classNames3)),\n              \"ref\": startInputDivRef\n            }, [_createVNode(\"input\", _objectSpread(_objectSpread(_objectSpread({\n              \"id\": id,\n              \"disabled\": mergedDisabled.value[0],\n              \"readonly\": inputReadOnly || typeof formatList.value[0] === 'function' || !startTyping.value,\n              \"value\": startHoverValue.value || startText.value,\n              \"onInput\": function onInput(e) {\n                triggerStartTextChange(e.target.value);\n              },\n              \"autofocus\": autofocus,\n              \"placeholder\": getValue(placeholder, 0) || '',\n              \"ref\": startInputRef\n            }, startInputProps.value), inputSharedProps), {}, {\n              \"autocomplete\": autocomplete\n            }), null)]), _createVNode(\"div\", {\n              \"class\": \"\".concat(prefixCls, \"-range-separator\"),\n              \"ref\": separatorRef\n            }, [separator]), _createVNode(\"div\", {\n              \"class\": classNames(\"\".concat(prefixCls, \"-input\"), (_classNames4 = {}, _defineProperty(_classNames4, \"\".concat(prefixCls, \"-input-active\"), mergedActivePickerIndex.value === 1), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-input-placeholder\"), !!endHoverValue.value), _classNames4)),\n              \"ref\": endInputDivRef\n            }, [_createVNode(\"input\", _objectSpread(_objectSpread(_objectSpread({\n              \"disabled\": mergedDisabled.value[1],\n              \"readonly\": inputReadOnly || typeof formatList.value[0] === 'function' || !endTyping.value,\n              \"value\": endHoverValue.value || endText.value,\n              \"onInput\": function onInput(e) {\n                triggerEndTextChange(e.target.value);\n              },\n              \"placeholder\": getValue(placeholder, 1) || '',\n              \"ref\": endInputRef\n            }, endInputProps.value), inputSharedProps), {}, {\n              \"autocomplete\": autocomplete\n            }), null)]), _createVNode(\"div\", {\n              \"class\": \"\".concat(prefixCls, \"-active-bar\"),\n              \"style\": _objectSpread(_objectSpread({}, activeBarPositionStyle), {}, {\n                width: \"\".concat(activeBarWidth, \"px\"),\n                position: 'absolute'\n              })\n            }, null), suffixNode, clearNode, getPortal()])];\n          },\n          popupElement: function popupElement() {\n            return rangePanel;\n          }\n        });\n      };\n    }\n  });\n}\nvar InterRangerPicker = RangerPicker();\nexport default InterRangerPicker;"],"mappings":"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"},"metadata":{},"sourceType":"module"}