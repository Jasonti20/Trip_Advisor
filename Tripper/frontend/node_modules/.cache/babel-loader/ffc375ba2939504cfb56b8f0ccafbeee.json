{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"width\", \"height\", \"open\", \"prefixCls\", \"placement\", \"level\", \"levelMove\", \"ease\", \"duration\", \"getContainer\", \"onChange\", \"afterVisibleChange\", \"showMask\", \"maskClosable\", \"maskStyle\", \"keyboard\", \"getOpenCount\", \"scrollLocker\", \"contentWrapperStyle\", \"style\", \"class\"];\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent, reactive, onMounted, computed, onUnmounted, nextTick, watch, ref } from 'vue';\nimport classnames from '../../_util/classNames';\nimport getScrollBarSize from '../../_util/getScrollBarSize';\nimport KeyCode from '../../_util/KeyCode';\nimport omit from '../../_util/omit';\nimport supportsPassive from '../../_util/supportsPassive';\nimport { drawerChildProps } from './IDrawerPropTypes';\nimport { addEventListener, dataToArray, getTouchParentScroll, isNumeric, removeEventListener, transformArguments, transitionEndFun, windowIsUndefined } from './utils';\nvar currentDrawer = {};\nvar DrawerChild = defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  inheritAttrs: false,\n  props: drawerChildProps(),\n  emits: ['close', 'handleClick', 'change'],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit,\n        slots = _ref.slots;\n    var state = reactive({\n      startPos: {\n        x: null,\n        y: null\n      }\n    });\n    var timeout;\n    var contentWrapper = ref();\n    var dom = ref();\n    var maskDom = ref();\n    var handlerDom = ref();\n    var contentDom = ref();\n    var levelDom = [];\n    var drawerId = \"drawer_id_\".concat(Number((Date.now() + Math.random()).toString().replace('.', Math.round(Math.random() * 9).toString())).toString(16));\n    var passive = !windowIsUndefined && supportsPassive ? {\n      passive: false\n    } : false;\n    onMounted(function () {\n      nextTick(function () {\n        var open = props.open,\n            getContainer = props.getContainer,\n            showMask = props.showMask,\n            autofocus = props.autofocus;\n        var container = getContainer === null || getContainer === void 0 ? void 0 : getContainer();\n        getLevelDom(props);\n\n        if (open) {\n          if (container && container.parentNode === document.body) {\n            currentDrawer[drawerId] = open;\n          } // 默认打开状态时推出 level;\n\n\n          openLevelTransition();\n          nextTick(function () {\n            if (autofocus) {\n              domFocus();\n            }\n          });\n\n          if (showMask) {\n            var _props$scrollLocker;\n\n            (_props$scrollLocker = props.scrollLocker) === null || _props$scrollLocker === void 0 ? void 0 : _props$scrollLocker.lock();\n          }\n        }\n      });\n    });\n    watch(function () {\n      return props.level;\n    }, function () {\n      getLevelDom(props);\n    }, {\n      flush: 'post'\n    });\n    watch(function () {\n      return props.open;\n    }, function () {\n      var open = props.open,\n          getContainer = props.getContainer,\n          scrollLocker = props.scrollLocker,\n          showMask = props.showMask,\n          autofocus = props.autofocus;\n      var container = getContainer === null || getContainer === void 0 ? void 0 : getContainer();\n\n      if (container && container.parentNode === document.body) {\n        currentDrawer[drawerId] = !!open;\n      }\n\n      openLevelTransition();\n\n      if (open) {\n        if (autofocus) {\n          domFocus();\n        }\n\n        if (showMask) {\n          scrollLocker === null || scrollLocker === void 0 ? void 0 : scrollLocker.lock();\n        }\n      } else {\n        scrollLocker === null || scrollLocker === void 0 ? void 0 : scrollLocker.unLock();\n      }\n    }, {\n      flush: 'post'\n    });\n    onUnmounted(function () {\n      var _props$scrollLocker2;\n\n      var open = props.open;\n      delete currentDrawer[drawerId];\n\n      if (open) {\n        setLevelTransform(false);\n        document.body.style.touchAction = '';\n      }\n\n      (_props$scrollLocker2 = props.scrollLocker) === null || _props$scrollLocker2 === void 0 ? void 0 : _props$scrollLocker2.unLock();\n    });\n    watch(function () {\n      return props.placement;\n    }, function (val) {\n      if (val) {\n        // test 的 bug, 有动画过场，删除 dom\n        contentDom.value = null;\n      }\n    });\n\n    var domFocus = function domFocus() {\n      var _dom$value, _dom$value$focus;\n\n      (_dom$value = dom.value) === null || _dom$value === void 0 ? void 0 : (_dom$value$focus = _dom$value.focus) === null || _dom$value$focus === void 0 ? void 0 : _dom$value$focus.call(_dom$value);\n    };\n\n    var removeStartHandler = function removeStartHandler(e) {\n      if (e.touches.length > 1) {\n        return;\n      }\n\n      state.startPos = {\n        x: e.touches[0].clientX,\n        y: e.touches[0].clientY\n      };\n    };\n\n    var removeMoveHandler = function removeMoveHandler(e) {\n      if (e.changedTouches.length > 1) {\n        return;\n      }\n\n      var currentTarget = e.currentTarget;\n      var differX = e.changedTouches[0].clientX - state.startPos.x;\n      var differY = e.changedTouches[0].clientY - state.startPos.y;\n\n      if ((currentTarget === maskDom.value || currentTarget === handlerDom.value || currentTarget === contentDom.value && getTouchParentScroll(currentTarget, e.target, differX, differY)) && e.cancelable) {\n        e.preventDefault();\n      }\n    };\n\n    var transitionEnd = function transitionEnd(e) {\n      var dom = e.target;\n      removeEventListener(dom, transitionEndFun, transitionEnd);\n      dom.style.transition = '';\n    };\n\n    var onClose = function onClose(e) {\n      emit('close', e);\n    };\n\n    var onKeyDown = function onKeyDown(e) {\n      if (e.keyCode === KeyCode.ESC) {\n        e.stopPropagation();\n        onClose(e);\n      }\n    };\n\n    var onWrapperTransitionEnd = function onWrapperTransitionEnd(e) {\n      var open = props.open,\n          afterVisibleChange = props.afterVisibleChange;\n\n      if (e.target === contentWrapper.value && e.propertyName.match(/transform$/)) {\n        dom.value.style.transition = '';\n\n        if (!open && getCurrentDrawerSome()) {\n          document.body.style.overflowX = '';\n\n          if (maskDom.value) {\n            maskDom.value.style.left = '';\n            maskDom.value.style.width = '';\n          }\n        }\n\n        if (afterVisibleChange) {\n          afterVisibleChange(!!open);\n        }\n      }\n    };\n\n    var horizontalBoolAndPlacementName = computed(function () {\n      var placement = props.placement;\n      var isHorizontal = placement === 'left' || placement === 'right';\n      var placementName = \"translate\".concat(isHorizontal ? 'X' : 'Y');\n      return {\n        isHorizontal: isHorizontal,\n        placementName: placementName\n      };\n    });\n\n    var openLevelTransition = function openLevelTransition() {\n      var open = props.open,\n          width = props.width,\n          height = props.height;\n      var _horizontalBoolAndPla = horizontalBoolAndPlacementName.value,\n          isHorizontal = _horizontalBoolAndPla.isHorizontal,\n          placementName = _horizontalBoolAndPla.placementName;\n      var contentValue = contentDom.value ? contentDom.value.getBoundingClientRect()[isHorizontal ? 'width' : 'height'] : 0;\n      var value = (isHorizontal ? width : height) || contentValue;\n      setLevelAndScrolling(open, placementName, value);\n    };\n\n    var setLevelTransform = function setLevelTransform(open, placementName, value, right) {\n      var placement = props.placement,\n          levelMove = props.levelMove,\n          duration = props.duration,\n          ease = props.ease,\n          showMask = props.showMask; // router 切换时可能会导至页面失去滚动条，所以需要时时获取。\n\n      levelDom.forEach(function (dom) {\n        dom.style.transition = \"transform \".concat(duration, \" \").concat(ease);\n        addEventListener(dom, transitionEndFun, transitionEnd);\n        var levelValue = open ? value : 0;\n\n        if (levelMove) {\n          var $levelMove = transformArguments(levelMove, {\n            target: dom,\n            open: open\n          });\n          levelValue = open ? $levelMove[0] : $levelMove[1] || 0;\n        }\n\n        var $value = typeof levelValue === 'number' ? \"\".concat(levelValue, \"px\") : levelValue;\n        var placementPos = placement === 'left' || placement === 'top' ? $value : \"-\".concat($value);\n        placementPos = showMask && placement === 'right' && right ? \"calc(\".concat(placementPos, \" + \").concat(right, \"px)\") : placementPos;\n        dom.style.transform = levelValue ? \"\".concat(placementName, \"(\").concat(placementPos, \")\") : '';\n      });\n    };\n\n    var setLevelAndScrolling = function setLevelAndScrolling(open, placementName, value) {\n      if (!windowIsUndefined) {\n        var right = document.body.scrollHeight > (window.innerHeight || document.documentElement.clientHeight) && window.innerWidth > document.body.offsetWidth ? getScrollBarSize(true) : 0;\n        setLevelTransform(open, placementName, value, right);\n        toggleScrollingToDrawerAndBody(right);\n      }\n\n      emit('change', open);\n    };\n\n    var toggleScrollingToDrawerAndBody = function toggleScrollingToDrawerAndBody(right) {\n      var getContainer = props.getContainer,\n          showMask = props.showMask,\n          open = props.open;\n      var container = getContainer === null || getContainer === void 0 ? void 0 : getContainer(); // 处理 body 滚动\n\n      if (container && container.parentNode === document.body && showMask) {\n        var eventArray = ['touchstart'];\n        var domArray = [document.body, maskDom.value, handlerDom.value, contentDom.value];\n\n        if (open && document.body.style.overflow !== 'hidden') {\n          if (right) {\n            addScrollingEffect(right);\n          }\n\n          document.body.style.touchAction = 'none'; // 手机禁滚\n\n          domArray.forEach(function (item, i) {\n            if (!item) {\n              return;\n            }\n\n            addEventListener(item, eventArray[i] || 'touchmove', i ? removeMoveHandler : removeStartHandler, passive);\n          });\n        } else if (getCurrentDrawerSome()) {\n          document.body.style.touchAction = '';\n\n          if (right) {\n            remScrollingEffect(right);\n          } // 恢复事件\n\n\n          domArray.forEach(function (item, i) {\n            if (!item) {\n              return;\n            }\n\n            removeEventListener(item, eventArray[i] || 'touchmove', i ? removeMoveHandler : removeStartHandler, passive);\n          });\n        }\n      }\n    };\n\n    var addScrollingEffect = function addScrollingEffect(right) {\n      var placement = props.placement,\n          duration = props.duration,\n          ease = props.ease;\n      var widthTransition = \"width \".concat(duration, \" \").concat(ease);\n      var transformTransition = \"transform \".concat(duration, \" \").concat(ease);\n      dom.value.style.transition = 'none';\n\n      switch (placement) {\n        case 'right':\n          dom.value.style.transform = \"translateX(-\".concat(right, \"px)\");\n          break;\n\n        case 'top':\n        case 'bottom':\n          dom.value.style.width = \"calc(100% - \".concat(right, \"px)\");\n          dom.value.style.transform = 'translateZ(0)';\n          break;\n\n        default:\n          break;\n      }\n\n      clearTimeout(timeout);\n      timeout = setTimeout(function () {\n        if (dom.value) {\n          dom.value.style.transition = \"\".concat(transformTransition, \",\").concat(widthTransition);\n          dom.value.style.width = '';\n          dom.value.style.transform = '';\n        }\n      });\n    };\n\n    var remScrollingEffect = function remScrollingEffect(right) {\n      var placement = props.placement,\n          duration = props.duration,\n          ease = props.ease;\n      dom.value.style.transition = 'none';\n      var heightTransition;\n      var widthTransition = \"width \".concat(duration, \" \").concat(ease);\n      var transformTransition = \"transform \".concat(duration, \" \").concat(ease);\n\n      switch (placement) {\n        case 'left':\n          {\n            dom.value.style.width = '100%';\n            widthTransition = \"width 0s \".concat(ease, \" \").concat(duration);\n            break;\n          }\n\n        case 'right':\n          {\n            dom.value.style.transform = \"translateX(\".concat(right, \"px)\");\n            dom.value.style.width = '100%';\n            widthTransition = \"width 0s \".concat(ease, \" \").concat(duration);\n\n            if (maskDom.value) {\n              maskDom.value.style.left = \"-\".concat(right, \"px\");\n              maskDom.value.style.width = \"calc(100% + \".concat(right, \"px)\");\n            }\n\n            break;\n          }\n\n        case 'top':\n        case 'bottom':\n          {\n            dom.value.style.width = \"calc(100% + \".concat(right, \"px)\");\n            dom.value.style.height = '100%';\n            dom.value.style.transform = 'translateZ(0)';\n            heightTransition = \"height 0s \".concat(ease, \" \").concat(duration);\n            break;\n          }\n\n        default:\n          break;\n      }\n\n      clearTimeout(timeout);\n      timeout = setTimeout(function () {\n        if (dom.value) {\n          dom.value.style.transition = \"\".concat(transformTransition, \",\").concat(heightTransition ? \"\".concat(heightTransition, \",\") : '').concat(widthTransition);\n          dom.value.style.transform = '';\n          dom.value.style.width = '';\n          dom.value.style.height = '';\n        }\n      });\n    };\n\n    var getCurrentDrawerSome = function getCurrentDrawerSome() {\n      return !Object.keys(currentDrawer).some(function (key) {\n        return currentDrawer[key];\n      });\n    };\n\n    var getLevelDom = function getLevelDom(_ref2) {\n      var level = _ref2.level,\n          getContainer = _ref2.getContainer;\n\n      if (windowIsUndefined) {\n        return;\n      }\n\n      var container = getContainer === null || getContainer === void 0 ? void 0 : getContainer();\n      var parent = container ? container.parentNode : null;\n      levelDom = [];\n\n      if (level === 'all') {\n        var children = parent ? Array.prototype.slice.call(parent.children) : [];\n        children.forEach(function (child) {\n          if (child.nodeName !== 'SCRIPT' && child.nodeName !== 'STYLE' && child.nodeName !== 'LINK' && child !== container) {\n            levelDom.push(child);\n          }\n        });\n      } else if (level) {\n        dataToArray(level).forEach(function (key) {\n          document.querySelectorAll(key).forEach(function (item) {\n            levelDom.push(item);\n          });\n        });\n      }\n    };\n\n    var onHandleClick = function onHandleClick(e) {\n      emit('handleClick', e);\n    };\n\n    var canOpen = ref(false);\n    watch(dom, function () {\n      nextTick(function () {\n        canOpen.value = true;\n      });\n    });\n    return function () {\n      var _classnames, _slots$default, _slots$handler;\n\n      var width = props.width,\n          height = props.height,\n          $open = props.open,\n          prefixCls = props.prefixCls,\n          placement = props.placement,\n          level = props.level,\n          levelMove = props.levelMove,\n          ease = props.ease,\n          duration = props.duration,\n          getContainer = props.getContainer,\n          onChange = props.onChange,\n          afterVisibleChange = props.afterVisibleChange,\n          showMask = props.showMask,\n          maskClosable = props.maskClosable,\n          maskStyle = props.maskStyle,\n          keyboard = props.keyboard,\n          getOpenCount = props.getOpenCount,\n          scrollLocker = props.scrollLocker,\n          contentWrapperStyle = props.contentWrapperStyle,\n          style = props.style,\n          className = props.class,\n          otherProps = _objectWithoutProperties(props, _excluded); // 首次渲染都将是关闭状态。\n\n\n      var open = $open && canOpen.value;\n      var wrapperClassName = classnames(prefixCls, (_classnames = {}, _defineProperty(_classnames, \"\".concat(prefixCls, \"-\").concat(placement), true), _defineProperty(_classnames, \"\".concat(prefixCls, \"-open\"), open), _defineProperty(_classnames, className, !!className), _defineProperty(_classnames, 'no-mask', !showMask), _classnames));\n      var placementName = horizontalBoolAndPlacementName.value.placementName; // 百分比与像素动画不同步，第一次打用后全用像素动画。\n      // const defaultValue = !this.contentDom || !level ? '100%' : `${value}px`;\n\n      var placementPos = placement === 'left' || placement === 'top' ? '-100%' : '100%';\n      var transform = open ? '' : \"\".concat(placementName, \"(\").concat(placementPos, \")\");\n      return _createVNode(\"div\", _objectSpread(_objectSpread({}, omit(otherProps, ['switchScrollingEffect', 'autofocus'])), {}, {\n        \"tabindex\": -1,\n        \"class\": wrapperClassName,\n        \"style\": style,\n        \"ref\": dom,\n        \"onKeydown\": open && keyboard ? onKeyDown : undefined,\n        \"onTransitionend\": onWrapperTransitionEnd\n      }), [showMask && _createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls, \"-mask\"),\n        \"onClick\": maskClosable ? onClose : undefined,\n        \"style\": maskStyle,\n        \"ref\": maskDom\n      }, null), _createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls, \"-content-wrapper\"),\n        \"style\": _objectSpread({\n          transform: transform,\n          msTransform: transform,\n          width: isNumeric(width) ? \"\".concat(width, \"px\") : width,\n          height: isNumeric(height) ? \"\".concat(height, \"px\") : height\n        }, contentWrapperStyle),\n        \"ref\": contentWrapper\n      }, [_createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls, \"-content\"),\n        \"ref\": contentDom\n      }, [(_slots$default = slots.default) === null || _slots$default === void 0 ? void 0 : _slots$default.call(slots)]), slots.handler ? _createVNode(\"div\", {\n        \"onClick\": onHandleClick,\n        \"ref\": handlerDom\n      }, [(_slots$handler = slots.handler) === null || _slots$handler === void 0 ? void 0 : _slots$handler.call(slots)]) : null])]);\n    };\n  }\n});\nexport default DrawerChild;","map":{"version":3,"names":["_objectSpread","_defineProperty","_objectWithoutProperties","_excluded","createVNode","_createVNode","defineComponent","reactive","onMounted","computed","onUnmounted","nextTick","watch","ref","classnames","getScrollBarSize","KeyCode","omit","supportsPassive","drawerChildProps","addEventListener","dataToArray","getTouchParentScroll","isNumeric","removeEventListener","transformArguments","transitionEndFun","windowIsUndefined","currentDrawer","DrawerChild","compatConfig","MODE","inheritAttrs","props","emits","setup","_ref","emit","slots","state","startPos","x","y","timeout","contentWrapper","dom","maskDom","handlerDom","contentDom","levelDom","drawerId","concat","Number","Date","now","Math","random","toString","replace","round","passive","open","getContainer","showMask","autofocus","container","getLevelDom","parentNode","document","body","openLevelTransition","domFocus","_props$scrollLocker","scrollLocker","lock","level","flush","unLock","_props$scrollLocker2","setLevelTransform","style","touchAction","placement","val","value","_dom$value","_dom$value$focus","focus","call","removeStartHandler","e","touches","length","clientX","clientY","removeMoveHandler","changedTouches","currentTarget","differX","differY","target","cancelable","preventDefault","transitionEnd","transition","onClose","onKeyDown","keyCode","ESC","stopPropagation","onWrapperTransitionEnd","afterVisibleChange","propertyName","match","getCurrentDrawerSome","overflowX","left","width","horizontalBoolAndPlacementName","isHorizontal","placementName","height","_horizontalBoolAndPla","contentValue","getBoundingClientRect","setLevelAndScrolling","right","levelMove","duration","ease","forEach","levelValue","$levelMove","$value","placementPos","transform","scrollHeight","window","innerHeight","documentElement","clientHeight","innerWidth","offsetWidth","toggleScrollingToDrawerAndBody","eventArray","domArray","overflow","addScrollingEffect","item","i","remScrollingEffect","widthTransition","transformTransition","clearTimeout","setTimeout","heightTransition","Object","keys","some","key","_ref2","parent","children","Array","prototype","slice","child","nodeName","push","querySelectorAll","onHandleClick","canOpen","_classnames","_slots$default","_slots$handler","$open","prefixCls","onChange","maskClosable","maskStyle","keyboard","getOpenCount","contentWrapperStyle","className","class","otherProps","wrapperClassName","undefined","msTransform","default","handler"],"sources":["/Users/jasonti/Desktop/Tripper/vue/node_modules/ant-design-vue/es/vc-drawer/src/DrawerChild.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"width\", \"height\", \"open\", \"prefixCls\", \"placement\", \"level\", \"levelMove\", \"ease\", \"duration\", \"getContainer\", \"onChange\", \"afterVisibleChange\", \"showMask\", \"maskClosable\", \"maskStyle\", \"keyboard\", \"getOpenCount\", \"scrollLocker\", \"contentWrapperStyle\", \"style\", \"class\"];\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent, reactive, onMounted, computed, onUnmounted, nextTick, watch, ref } from 'vue';\nimport classnames from '../../_util/classNames';\nimport getScrollBarSize from '../../_util/getScrollBarSize';\nimport KeyCode from '../../_util/KeyCode';\nimport omit from '../../_util/omit';\nimport supportsPassive from '../../_util/supportsPassive';\nimport { drawerChildProps } from './IDrawerPropTypes';\nimport { addEventListener, dataToArray, getTouchParentScroll, isNumeric, removeEventListener, transformArguments, transitionEndFun, windowIsUndefined } from './utils';\nvar currentDrawer = {};\nvar DrawerChild = defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  inheritAttrs: false,\n  props: drawerChildProps(),\n  emits: ['close', 'handleClick', 'change'],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit,\n      slots = _ref.slots;\n    var state = reactive({\n      startPos: {\n        x: null,\n        y: null\n      }\n    });\n    var timeout;\n    var contentWrapper = ref();\n    var dom = ref();\n    var maskDom = ref();\n    var handlerDom = ref();\n    var contentDom = ref();\n    var levelDom = [];\n    var drawerId = \"drawer_id_\".concat(Number((Date.now() + Math.random()).toString().replace('.', Math.round(Math.random() * 9).toString())).toString(16));\n    var passive = !windowIsUndefined && supportsPassive ? {\n      passive: false\n    } : false;\n    onMounted(function () {\n      nextTick(function () {\n        var open = props.open,\n          getContainer = props.getContainer,\n          showMask = props.showMask,\n          autofocus = props.autofocus;\n        var container = getContainer === null || getContainer === void 0 ? void 0 : getContainer();\n        getLevelDom(props);\n        if (open) {\n          if (container && container.parentNode === document.body) {\n            currentDrawer[drawerId] = open;\n          }\n          // 默认打开状态时推出 level;\n          openLevelTransition();\n          nextTick(function () {\n            if (autofocus) {\n              domFocus();\n            }\n          });\n          if (showMask) {\n            var _props$scrollLocker;\n            (_props$scrollLocker = props.scrollLocker) === null || _props$scrollLocker === void 0 ? void 0 : _props$scrollLocker.lock();\n          }\n        }\n      });\n    });\n    watch(function () {\n      return props.level;\n    }, function () {\n      getLevelDom(props);\n    }, {\n      flush: 'post'\n    });\n    watch(function () {\n      return props.open;\n    }, function () {\n      var open = props.open,\n        getContainer = props.getContainer,\n        scrollLocker = props.scrollLocker,\n        showMask = props.showMask,\n        autofocus = props.autofocus;\n      var container = getContainer === null || getContainer === void 0 ? void 0 : getContainer();\n      if (container && container.parentNode === document.body) {\n        currentDrawer[drawerId] = !!open;\n      }\n      openLevelTransition();\n      if (open) {\n        if (autofocus) {\n          domFocus();\n        }\n        if (showMask) {\n          scrollLocker === null || scrollLocker === void 0 ? void 0 : scrollLocker.lock();\n        }\n      } else {\n        scrollLocker === null || scrollLocker === void 0 ? void 0 : scrollLocker.unLock();\n      }\n    }, {\n      flush: 'post'\n    });\n    onUnmounted(function () {\n      var _props$scrollLocker2;\n      var open = props.open;\n      delete currentDrawer[drawerId];\n      if (open) {\n        setLevelTransform(false);\n        document.body.style.touchAction = '';\n      }\n      (_props$scrollLocker2 = props.scrollLocker) === null || _props$scrollLocker2 === void 0 ? void 0 : _props$scrollLocker2.unLock();\n    });\n    watch(function () {\n      return props.placement;\n    }, function (val) {\n      if (val) {\n        // test 的 bug, 有动画过场，删除 dom\n        contentDom.value = null;\n      }\n    });\n    var domFocus = function domFocus() {\n      var _dom$value, _dom$value$focus;\n      (_dom$value = dom.value) === null || _dom$value === void 0 ? void 0 : (_dom$value$focus = _dom$value.focus) === null || _dom$value$focus === void 0 ? void 0 : _dom$value$focus.call(_dom$value);\n    };\n    var removeStartHandler = function removeStartHandler(e) {\n      if (e.touches.length > 1) {\n        return;\n      }\n      state.startPos = {\n        x: e.touches[0].clientX,\n        y: e.touches[0].clientY\n      };\n    };\n    var removeMoveHandler = function removeMoveHandler(e) {\n      if (e.changedTouches.length > 1) {\n        return;\n      }\n      var currentTarget = e.currentTarget;\n      var differX = e.changedTouches[0].clientX - state.startPos.x;\n      var differY = e.changedTouches[0].clientY - state.startPos.y;\n      if ((currentTarget === maskDom.value || currentTarget === handlerDom.value || currentTarget === contentDom.value && getTouchParentScroll(currentTarget, e.target, differX, differY)) && e.cancelable) {\n        e.preventDefault();\n      }\n    };\n    var transitionEnd = function transitionEnd(e) {\n      var dom = e.target;\n      removeEventListener(dom, transitionEndFun, transitionEnd);\n      dom.style.transition = '';\n    };\n    var onClose = function onClose(e) {\n      emit('close', e);\n    };\n    var onKeyDown = function onKeyDown(e) {\n      if (e.keyCode === KeyCode.ESC) {\n        e.stopPropagation();\n        onClose(e);\n      }\n    };\n    var onWrapperTransitionEnd = function onWrapperTransitionEnd(e) {\n      var open = props.open,\n        afterVisibleChange = props.afterVisibleChange;\n      if (e.target === contentWrapper.value && e.propertyName.match(/transform$/)) {\n        dom.value.style.transition = '';\n        if (!open && getCurrentDrawerSome()) {\n          document.body.style.overflowX = '';\n          if (maskDom.value) {\n            maskDom.value.style.left = '';\n            maskDom.value.style.width = '';\n          }\n        }\n        if (afterVisibleChange) {\n          afterVisibleChange(!!open);\n        }\n      }\n    };\n    var horizontalBoolAndPlacementName = computed(function () {\n      var placement = props.placement;\n      var isHorizontal = placement === 'left' || placement === 'right';\n      var placementName = \"translate\".concat(isHorizontal ? 'X' : 'Y');\n      return {\n        isHorizontal: isHorizontal,\n        placementName: placementName\n      };\n    });\n    var openLevelTransition = function openLevelTransition() {\n      var open = props.open,\n        width = props.width,\n        height = props.height;\n      var _horizontalBoolAndPla = horizontalBoolAndPlacementName.value,\n        isHorizontal = _horizontalBoolAndPla.isHorizontal,\n        placementName = _horizontalBoolAndPla.placementName;\n      var contentValue = contentDom.value ? contentDom.value.getBoundingClientRect()[isHorizontal ? 'width' : 'height'] : 0;\n      var value = (isHorizontal ? width : height) || contentValue;\n      setLevelAndScrolling(open, placementName, value);\n    };\n    var setLevelTransform = function setLevelTransform(open, placementName, value, right) {\n      var placement = props.placement,\n        levelMove = props.levelMove,\n        duration = props.duration,\n        ease = props.ease,\n        showMask = props.showMask;\n      // router 切换时可能会导至页面失去滚动条，所以需要时时获取。\n      levelDom.forEach(function (dom) {\n        dom.style.transition = \"transform \".concat(duration, \" \").concat(ease);\n        addEventListener(dom, transitionEndFun, transitionEnd);\n        var levelValue = open ? value : 0;\n        if (levelMove) {\n          var $levelMove = transformArguments(levelMove, {\n            target: dom,\n            open: open\n          });\n          levelValue = open ? $levelMove[0] : $levelMove[1] || 0;\n        }\n        var $value = typeof levelValue === 'number' ? \"\".concat(levelValue, \"px\") : levelValue;\n        var placementPos = placement === 'left' || placement === 'top' ? $value : \"-\".concat($value);\n        placementPos = showMask && placement === 'right' && right ? \"calc(\".concat(placementPos, \" + \").concat(right, \"px)\") : placementPos;\n        dom.style.transform = levelValue ? \"\".concat(placementName, \"(\").concat(placementPos, \")\") : '';\n      });\n    };\n    var setLevelAndScrolling = function setLevelAndScrolling(open, placementName, value) {\n      if (!windowIsUndefined) {\n        var right = document.body.scrollHeight > (window.innerHeight || document.documentElement.clientHeight) && window.innerWidth > document.body.offsetWidth ? getScrollBarSize(true) : 0;\n        setLevelTransform(open, placementName, value, right);\n        toggleScrollingToDrawerAndBody(right);\n      }\n      emit('change', open);\n    };\n    var toggleScrollingToDrawerAndBody = function toggleScrollingToDrawerAndBody(right) {\n      var getContainer = props.getContainer,\n        showMask = props.showMask,\n        open = props.open;\n      var container = getContainer === null || getContainer === void 0 ? void 0 : getContainer();\n      // 处理 body 滚动\n      if (container && container.parentNode === document.body && showMask) {\n        var eventArray = ['touchstart'];\n        var domArray = [document.body, maskDom.value, handlerDom.value, contentDom.value];\n        if (open && document.body.style.overflow !== 'hidden') {\n          if (right) {\n            addScrollingEffect(right);\n          }\n          document.body.style.touchAction = 'none';\n          // 手机禁滚\n          domArray.forEach(function (item, i) {\n            if (!item) {\n              return;\n            }\n            addEventListener(item, eventArray[i] || 'touchmove', i ? removeMoveHandler : removeStartHandler, passive);\n          });\n        } else if (getCurrentDrawerSome()) {\n          document.body.style.touchAction = '';\n          if (right) {\n            remScrollingEffect(right);\n          }\n          // 恢复事件\n          domArray.forEach(function (item, i) {\n            if (!item) {\n              return;\n            }\n            removeEventListener(item, eventArray[i] || 'touchmove', i ? removeMoveHandler : removeStartHandler, passive);\n          });\n        }\n      }\n    };\n    var addScrollingEffect = function addScrollingEffect(right) {\n      var placement = props.placement,\n        duration = props.duration,\n        ease = props.ease;\n      var widthTransition = \"width \".concat(duration, \" \").concat(ease);\n      var transformTransition = \"transform \".concat(duration, \" \").concat(ease);\n      dom.value.style.transition = 'none';\n      switch (placement) {\n        case 'right':\n          dom.value.style.transform = \"translateX(-\".concat(right, \"px)\");\n          break;\n        case 'top':\n        case 'bottom':\n          dom.value.style.width = \"calc(100% - \".concat(right, \"px)\");\n          dom.value.style.transform = 'translateZ(0)';\n          break;\n        default:\n          break;\n      }\n      clearTimeout(timeout);\n      timeout = setTimeout(function () {\n        if (dom.value) {\n          dom.value.style.transition = \"\".concat(transformTransition, \",\").concat(widthTransition);\n          dom.value.style.width = '';\n          dom.value.style.transform = '';\n        }\n      });\n    };\n    var remScrollingEffect = function remScrollingEffect(right) {\n      var placement = props.placement,\n        duration = props.duration,\n        ease = props.ease;\n      dom.value.style.transition = 'none';\n      var heightTransition;\n      var widthTransition = \"width \".concat(duration, \" \").concat(ease);\n      var transformTransition = \"transform \".concat(duration, \" \").concat(ease);\n      switch (placement) {\n        case 'left':\n          {\n            dom.value.style.width = '100%';\n            widthTransition = \"width 0s \".concat(ease, \" \").concat(duration);\n            break;\n          }\n        case 'right':\n          {\n            dom.value.style.transform = \"translateX(\".concat(right, \"px)\");\n            dom.value.style.width = '100%';\n            widthTransition = \"width 0s \".concat(ease, \" \").concat(duration);\n            if (maskDom.value) {\n              maskDom.value.style.left = \"-\".concat(right, \"px\");\n              maskDom.value.style.width = \"calc(100% + \".concat(right, \"px)\");\n            }\n            break;\n          }\n        case 'top':\n        case 'bottom':\n          {\n            dom.value.style.width = \"calc(100% + \".concat(right, \"px)\");\n            dom.value.style.height = '100%';\n            dom.value.style.transform = 'translateZ(0)';\n            heightTransition = \"height 0s \".concat(ease, \" \").concat(duration);\n            break;\n          }\n        default:\n          break;\n      }\n      clearTimeout(timeout);\n      timeout = setTimeout(function () {\n        if (dom.value) {\n          dom.value.style.transition = \"\".concat(transformTransition, \",\").concat(heightTransition ? \"\".concat(heightTransition, \",\") : '').concat(widthTransition);\n          dom.value.style.transform = '';\n          dom.value.style.width = '';\n          dom.value.style.height = '';\n        }\n      });\n    };\n    var getCurrentDrawerSome = function getCurrentDrawerSome() {\n      return !Object.keys(currentDrawer).some(function (key) {\n        return currentDrawer[key];\n      });\n    };\n    var getLevelDom = function getLevelDom(_ref2) {\n      var level = _ref2.level,\n        getContainer = _ref2.getContainer;\n      if (windowIsUndefined) {\n        return;\n      }\n      var container = getContainer === null || getContainer === void 0 ? void 0 : getContainer();\n      var parent = container ? container.parentNode : null;\n      levelDom = [];\n      if (level === 'all') {\n        var children = parent ? Array.prototype.slice.call(parent.children) : [];\n        children.forEach(function (child) {\n          if (child.nodeName !== 'SCRIPT' && child.nodeName !== 'STYLE' && child.nodeName !== 'LINK' && child !== container) {\n            levelDom.push(child);\n          }\n        });\n      } else if (level) {\n        dataToArray(level).forEach(function (key) {\n          document.querySelectorAll(key).forEach(function (item) {\n            levelDom.push(item);\n          });\n        });\n      }\n    };\n    var onHandleClick = function onHandleClick(e) {\n      emit('handleClick', e);\n    };\n    var canOpen = ref(false);\n    watch(dom, function () {\n      nextTick(function () {\n        canOpen.value = true;\n      });\n    });\n    return function () {\n      var _classnames, _slots$default, _slots$handler;\n      var width = props.width,\n        height = props.height,\n        $open = props.open,\n        prefixCls = props.prefixCls,\n        placement = props.placement,\n        level = props.level,\n        levelMove = props.levelMove,\n        ease = props.ease,\n        duration = props.duration,\n        getContainer = props.getContainer,\n        onChange = props.onChange,\n        afterVisibleChange = props.afterVisibleChange,\n        showMask = props.showMask,\n        maskClosable = props.maskClosable,\n        maskStyle = props.maskStyle,\n        keyboard = props.keyboard,\n        getOpenCount = props.getOpenCount,\n        scrollLocker = props.scrollLocker,\n        contentWrapperStyle = props.contentWrapperStyle,\n        style = props.style,\n        className = props.class,\n        otherProps = _objectWithoutProperties(props, _excluded);\n      // 首次渲染都将是关闭状态。\n      var open = $open && canOpen.value;\n      var wrapperClassName = classnames(prefixCls, (_classnames = {}, _defineProperty(_classnames, \"\".concat(prefixCls, \"-\").concat(placement), true), _defineProperty(_classnames, \"\".concat(prefixCls, \"-open\"), open), _defineProperty(_classnames, className, !!className), _defineProperty(_classnames, 'no-mask', !showMask), _classnames));\n      var placementName = horizontalBoolAndPlacementName.value.placementName;\n      // 百分比与像素动画不同步，第一次打用后全用像素动画。\n      // const defaultValue = !this.contentDom || !level ? '100%' : `${value}px`;\n      var placementPos = placement === 'left' || placement === 'top' ? '-100%' : '100%';\n      var transform = open ? '' : \"\".concat(placementName, \"(\").concat(placementPos, \")\");\n      return _createVNode(\"div\", _objectSpread(_objectSpread({}, omit(otherProps, ['switchScrollingEffect', 'autofocus'])), {}, {\n        \"tabindex\": -1,\n        \"class\": wrapperClassName,\n        \"style\": style,\n        \"ref\": dom,\n        \"onKeydown\": open && keyboard ? onKeyDown : undefined,\n        \"onTransitionend\": onWrapperTransitionEnd\n      }), [showMask && _createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls, \"-mask\"),\n        \"onClick\": maskClosable ? onClose : undefined,\n        \"style\": maskStyle,\n        \"ref\": maskDom\n      }, null), _createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls, \"-content-wrapper\"),\n        \"style\": _objectSpread({\n          transform: transform,\n          msTransform: transform,\n          width: isNumeric(width) ? \"\".concat(width, \"px\") : width,\n          height: isNumeric(height) ? \"\".concat(height, \"px\") : height\n        }, contentWrapperStyle),\n        \"ref\": contentWrapper\n      }, [_createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls, \"-content\"),\n        \"ref\": contentDom\n      }, [(_slots$default = slots.default) === null || _slots$default === void 0 ? void 0 : _slots$default.call(slots)]), slots.handler ? _createVNode(\"div\", {\n        \"onClick\": onHandleClick,\n        \"ref\": handlerDom\n      }, [(_slots$handler = slots.handler) === null || _slots$handler === void 0 ? void 0 : _slots$handler.call(slots)]) : null])]);\n    };\n  }\n});\nexport default DrawerChild;"],"mappings":"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"},"metadata":{},"sourceType":"module"}