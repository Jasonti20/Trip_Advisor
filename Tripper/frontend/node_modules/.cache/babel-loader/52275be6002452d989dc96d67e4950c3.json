{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { Fragment as _Fragment, createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport { computed, defineComponent, inject, provide, ref } from 'vue';\nimport PropTypes from '../_util/vue-types';\nimport contains from '../vc-util/Dom/contains';\nimport raf from '../_util/raf';\nimport { hasProp, getComponent as _getComponent, getEvents, filterEmpty, getSlot, findDOMNode } from '../_util/props-util';\nimport { requestAnimationTimeout, cancelAnimationTimeout } from '../_util/requestAnimationTimeout';\nimport addEventListener from '../vc-util/Dom/addEventListener';\nimport Popup from './Popup';\nimport { getAlignFromPlacement, getAlignPopupClassName } from './utils/alignUtil';\nimport BaseMixin from '../_util/BaseMixin';\nimport Portal from '../_util/Portal';\nimport classNames from '../_util/classNames';\nimport { cloneElement } from '../_util/vnode';\nimport supportsPassive from '../_util/supportsPassive';\nimport { useInjectTrigger, useProvidePortal } from './context';\n\nfunction noop() {}\n\nfunction returnEmptyString() {\n  return '';\n}\n\nfunction returnDocument(element) {\n  if (element) {\n    return element.ownerDocument;\n  }\n\n  return window.document;\n}\n\nvar ALL_HANDLERS = ['onClick', 'onMousedown', 'onTouchstart', 'onMouseenter', 'onMouseleave', 'onFocus', 'onBlur', 'onContextmenu'];\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'Trigger',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  props: {\n    action: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]).def([]),\n    showAction: PropTypes.any.def([]),\n    hideAction: PropTypes.any.def([]),\n    getPopupClassNameFromAlign: PropTypes.any.def(returnEmptyString),\n    onPopupVisibleChange: Function,\n    afterPopupVisibleChange: PropTypes.func.def(noop),\n    popup: PropTypes.any,\n    popupStyle: {\n      type: Object,\n      default: undefined\n    },\n    prefixCls: PropTypes.string.def('rc-trigger-popup'),\n    popupClassName: PropTypes.string.def(''),\n    popupPlacement: String,\n    builtinPlacements: PropTypes.object,\n    popupTransitionName: String,\n    popupAnimation: PropTypes.any,\n    mouseEnterDelay: PropTypes.number.def(0),\n    mouseLeaveDelay: PropTypes.number.def(0.1),\n    zIndex: Number,\n    focusDelay: PropTypes.number.def(0),\n    blurDelay: PropTypes.number.def(0.15),\n    getPopupContainer: Function,\n    getDocument: PropTypes.func.def(returnDocument),\n    forceRender: {\n      type: Boolean,\n      default: undefined\n    },\n    destroyPopupOnHide: {\n      type: Boolean,\n      default: false\n    },\n    mask: {\n      type: Boolean,\n      default: false\n    },\n    maskClosable: {\n      type: Boolean,\n      default: true\n    },\n    // onPopupAlign: PropTypes.func.def(noop),\n    popupAlign: PropTypes.object.def(function () {\n      return {};\n    }),\n    popupVisible: {\n      type: Boolean,\n      default: undefined\n    },\n    defaultPopupVisible: {\n      type: Boolean,\n      default: false\n    },\n    maskTransitionName: String,\n    maskAnimation: String,\n    stretch: String,\n    alignPoint: {\n      type: Boolean,\n      default: undefined\n    },\n    autoDestroy: {\n      type: Boolean,\n      default: false\n    },\n    mobile: Object,\n    getTriggerDOMNode: Function,\n    // portal context will change\n    tryPopPortal: Boolean // no need reactive\n\n  },\n  setup: function setup(props) {\n    var align = computed(function () {\n      var popupPlacement = props.popupPlacement,\n          popupAlign = props.popupAlign,\n          builtinPlacements = props.builtinPlacements;\n\n      if (popupPlacement && builtinPlacements) {\n        return getAlignFromPlacement(builtinPlacements, popupPlacement, popupAlign);\n      }\n\n      return popupAlign;\n    });\n\n    var _useInjectTrigger = useInjectTrigger(props.tryPopPortal),\n        setPortal = _useInjectTrigger.setPortal,\n        popPortal = _useInjectTrigger.popPortal;\n\n    var popupRef = ref(null);\n\n    var setPopupRef = function setPopupRef(val) {\n      popupRef.value = val;\n    };\n\n    return {\n      popPortal: popPortal,\n      setPortal: setPortal,\n      vcTriggerContext: inject('vcTriggerContext', {}),\n      popupRef: popupRef,\n      setPopupRef: setPopupRef,\n      triggerRef: ref(null),\n      align: align,\n      focusTime: null,\n      clickOutsideHandler: null,\n      contextmenuOutsideHandler1: null,\n      contextmenuOutsideHandler2: null,\n      touchOutsideHandler: null,\n      attachId: null,\n      delayTimer: null,\n      hasPopupMouseDown: false,\n      preClickTime: null,\n      preTouchTime: null,\n      mouseDownTimeout: null,\n      childOriginEvents: {}\n    };\n  },\n  data: function data() {\n    var _this = this,\n        _this$setPortal;\n\n    var props = this.$props;\n    var popupVisible;\n\n    if (this.popupVisible !== undefined) {\n      popupVisible = !!props.popupVisible;\n    } else {\n      popupVisible = !!props.defaultPopupVisible;\n    }\n\n    ALL_HANDLERS.forEach(function (h) {\n      _this[\"fire\".concat(h)] = function (e) {\n        _this.fireEvents(h, e);\n      };\n    });\n    (_this$setPortal = this.setPortal) === null || _this$setPortal === void 0 ? void 0 : _this$setPortal.call(this, _createVNode(Portal, {\n      \"key\": \"portal\",\n      \"getContainer\": this.getContainer,\n      \"didUpdate\": this.handlePortalUpdate\n    }, {\n      default: this.getComponent\n    }));\n    return {\n      prevPopupVisible: popupVisible,\n      sPopupVisible: popupVisible,\n      point: null\n    };\n  },\n  watch: {\n    popupVisible: function popupVisible(val) {\n      if (val !== undefined) {\n        this.prevPopupVisible = this.sPopupVisible;\n        this.sPopupVisible = val;\n      }\n    }\n  },\n  created: function created() {\n    provide('vcTriggerContext', {\n      onPopupMouseDown: this.onPopupMouseDown\n    });\n    useProvidePortal(this);\n  },\n  deactivated: function deactivated() {\n    this.setPopupVisible(false);\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _this2.updatedCal();\n    });\n  },\n  updated: function updated() {\n    var _this3 = this;\n\n    this.$nextTick(function () {\n      _this3.updatedCal();\n    });\n  },\n  beforeUnmount: function beforeUnmount() {\n    this.clearDelayTimer();\n    this.clearOutsideHandler();\n    clearTimeout(this.mouseDownTimeout);\n    raf.cancel(this.attachId);\n  },\n  methods: {\n    updatedCal: function updatedCal() {\n      var props = this.$props;\n      var state = this.$data; // We must listen to `mousedown` or `touchstart`, edge case:\n      // https://github.com/ant-design/ant-design/issues/5804\n      // https://github.com/react-component/calendar/issues/250\n      // https://github.com/react-component/trigger/issues/50\n\n      if (state.sPopupVisible) {\n        var currentDocument;\n\n        if (!this.clickOutsideHandler && (this.isClickToHide() || this.isContextmenuToShow())) {\n          currentDocument = props.getDocument(this.getRootDomNode());\n          this.clickOutsideHandler = addEventListener(currentDocument, 'mousedown', this.onDocumentClick);\n        } // always hide on mobile\n\n\n        if (!this.touchOutsideHandler) {\n          currentDocument = currentDocument || props.getDocument(this.getRootDomNode());\n          this.touchOutsideHandler = addEventListener(currentDocument, 'touchstart', this.onDocumentClick, supportsPassive ? {\n            passive: false\n          } : false);\n        } // close popup when trigger type contains 'onContextmenu' and document is scrolling.\n\n\n        if (!this.contextmenuOutsideHandler1 && this.isContextmenuToShow()) {\n          currentDocument = currentDocument || props.getDocument(this.getRootDomNode());\n          this.contextmenuOutsideHandler1 = addEventListener(currentDocument, 'scroll', this.onContextmenuClose);\n        } // close popup when trigger type contains 'onContextmenu' and window is blur.\n\n\n        if (!this.contextmenuOutsideHandler2 && this.isContextmenuToShow()) {\n          this.contextmenuOutsideHandler2 = addEventListener(window, 'blur', this.onContextmenuClose);\n        }\n      } else {\n        this.clearOutsideHandler();\n      }\n    },\n    onMouseenter: function onMouseenter(e) {\n      var mouseEnterDelay = this.$props.mouseEnterDelay;\n      this.fireEvents('onMouseenter', e);\n      this.delaySetPopupVisible(true, mouseEnterDelay, mouseEnterDelay ? null : e);\n    },\n    onMouseMove: function onMouseMove(e) {\n      this.fireEvents('onMousemove', e);\n      this.setPoint(e);\n    },\n    onMouseleave: function onMouseleave(e) {\n      this.fireEvents('onMouseleave', e);\n      this.delaySetPopupVisible(false, this.$props.mouseLeaveDelay);\n    },\n    onPopupMouseenter: function onPopupMouseenter() {\n      this.clearDelayTimer();\n    },\n    onPopupMouseleave: function onPopupMouseleave(e) {\n      var _this$popupRef;\n\n      if (e && e.relatedTarget && !e.relatedTarget.setTimeout && contains((_this$popupRef = this.popupRef) === null || _this$popupRef === void 0 ? void 0 : _this$popupRef.getElement(), e.relatedTarget)) {\n        return;\n      }\n\n      this.delaySetPopupVisible(false, this.$props.mouseLeaveDelay);\n    },\n    onFocus: function onFocus(e) {\n      this.fireEvents('onFocus', e); // incase focusin and focusout\n\n      this.clearDelayTimer();\n\n      if (this.isFocusToShow()) {\n        this.focusTime = Date.now();\n        this.delaySetPopupVisible(true, this.$props.focusDelay);\n      }\n    },\n    onMousedown: function onMousedown(e) {\n      this.fireEvents('onMousedown', e);\n      this.preClickTime = Date.now();\n    },\n    onTouchstart: function onTouchstart(e) {\n      this.fireEvents('onTouchstart', e);\n      this.preTouchTime = Date.now();\n    },\n    onBlur: function onBlur(e) {\n      if (!contains(e.target, e.relatedTarget || document.activeElement)) {\n        this.fireEvents('onBlur', e);\n        this.clearDelayTimer();\n\n        if (this.isBlurToHide()) {\n          this.delaySetPopupVisible(false, this.$props.blurDelay);\n        }\n      }\n    },\n    onContextmenu: function onContextmenu(e) {\n      e.preventDefault();\n      this.fireEvents('onContextmenu', e);\n      this.setPopupVisible(true, e);\n    },\n    onContextmenuClose: function onContextmenuClose() {\n      if (this.isContextmenuToShow()) {\n        this.close();\n      }\n    },\n    onClick: function onClick(event) {\n      this.fireEvents('onClick', event); // focus will trigger click\n\n      if (this.focusTime) {\n        var preTime;\n\n        if (this.preClickTime && this.preTouchTime) {\n          preTime = Math.min(this.preClickTime, this.preTouchTime);\n        } else if (this.preClickTime) {\n          preTime = this.preClickTime;\n        } else if (this.preTouchTime) {\n          preTime = this.preTouchTime;\n        }\n\n        if (Math.abs(preTime - this.focusTime) < 20) {\n          return;\n        }\n\n        this.focusTime = 0;\n      }\n\n      this.preClickTime = 0;\n      this.preTouchTime = 0; // Only prevent default when all the action is click.\n      // https://github.com/ant-design/ant-design/issues/17043\n      // https://github.com/ant-design/ant-design/issues/17291\n\n      if (this.isClickToShow() && (this.isClickToHide() || this.isBlurToHide()) && event && event.preventDefault) {\n        event.preventDefault();\n      }\n\n      if (event && event.domEvent) {\n        event.domEvent.preventDefault();\n      }\n\n      var nextVisible = !this.$data.sPopupVisible;\n\n      if (this.isClickToHide() && !nextVisible || nextVisible && this.isClickToShow()) {\n        this.setPopupVisible(!this.$data.sPopupVisible, event);\n      }\n    },\n    onPopupMouseDown: function onPopupMouseDown() {\n      var _this4 = this;\n\n      var _this$vcTriggerContex = this.vcTriggerContext,\n          vcTriggerContext = _this$vcTriggerContex === void 0 ? {} : _this$vcTriggerContex;\n      this.hasPopupMouseDown = true;\n      clearTimeout(this.mouseDownTimeout);\n      this.mouseDownTimeout = setTimeout(function () {\n        _this4.hasPopupMouseDown = false;\n      }, 0);\n\n      if (vcTriggerContext.onPopupMouseDown) {\n        vcTriggerContext.onPopupMouseDown.apply(vcTriggerContext, arguments);\n      }\n    },\n    onDocumentClick: function onDocumentClick(event) {\n      if (this.$props.mask && !this.$props.maskClosable) {\n        return;\n      }\n\n      var target = event.target;\n      var root = this.getRootDomNode();\n      var popupNode = this.getPopupDomNode();\n\n      if ( // mousedown on the target should also close popup when action is contextMenu.\n      // https://github.com/ant-design/ant-design/issues/29853\n      (!contains(root, target) || this.isContextMenuOnly()) && !contains(popupNode, target) && !this.hasPopupMouseDown) {\n        // https://github.com/vuejs/core/issues/4462\n        // vue 动画bug导致 https://github.com/vueComponent/ant-design-vue/issues/5259，\n        // 改成延时解决\n        this.delaySetPopupVisible(false, 0.1);\n      }\n    },\n    getPopupDomNode: function getPopupDomNode() {\n      var _this$popupRef2; // for test\n\n\n      return ((_this$popupRef2 = this.popupRef) === null || _this$popupRef2 === void 0 ? void 0 : _this$popupRef2.getElement()) || null;\n    },\n    getRootDomNode: function getRootDomNode() {\n      var getTriggerDOMNode = this.$props.getTriggerDOMNode;\n\n      if (getTriggerDOMNode) {\n        var domNode = findDOMNode(this.triggerRef);\n        return findDOMNode(getTriggerDOMNode(domNode));\n      }\n\n      try {\n        var _domNode = findDOMNode(this.triggerRef);\n\n        if (_domNode) {\n          return _domNode;\n        }\n      } catch (err) {// Do nothing\n      }\n\n      return findDOMNode(this);\n    },\n    handleGetPopupClassFromAlign: function handleGetPopupClassFromAlign(align) {\n      var className = [];\n      var props = this.$props;\n      var popupPlacement = props.popupPlacement,\n          builtinPlacements = props.builtinPlacements,\n          prefixCls = props.prefixCls,\n          alignPoint = props.alignPoint,\n          getPopupClassNameFromAlign = props.getPopupClassNameFromAlign;\n\n      if (popupPlacement && builtinPlacements) {\n        className.push(getAlignPopupClassName(builtinPlacements, prefixCls, align, alignPoint));\n      }\n\n      if (getPopupClassNameFromAlign) {\n        className.push(getPopupClassNameFromAlign(align));\n      }\n\n      return className.join(' ');\n    },\n    getPopupAlign: function getPopupAlign() {\n      var props = this.$props;\n      var popupPlacement = props.popupPlacement,\n          popupAlign = props.popupAlign,\n          builtinPlacements = props.builtinPlacements;\n\n      if (popupPlacement && builtinPlacements) {\n        return getAlignFromPlacement(builtinPlacements, popupPlacement, popupAlign);\n      }\n\n      return popupAlign;\n    },\n    getComponent: function getComponent() {\n      var _this5 = this;\n\n      var mouseProps = {};\n\n      if (this.isMouseEnterToShow()) {\n        mouseProps.onMouseenter = this.onPopupMouseenter;\n      }\n\n      if (this.isMouseLeaveToHide()) {\n        mouseProps.onMouseleave = this.onPopupMouseleave;\n      }\n\n      mouseProps.onMousedown = this.onPopupMouseDown;\n      mouseProps[supportsPassive ? 'onTouchstartPassive' : 'onTouchstart'] = this.onPopupMouseDown;\n      var handleGetPopupClassFromAlign = this.handleGetPopupClassFromAlign,\n          getRootDomNode = this.getRootDomNode,\n          getContainer = this.getContainer,\n          $attrs = this.$attrs;\n      var _this$$props = this.$props,\n          prefixCls = _this$$props.prefixCls,\n          destroyPopupOnHide = _this$$props.destroyPopupOnHide,\n          popupClassName = _this$$props.popupClassName,\n          popupAnimation = _this$$props.popupAnimation,\n          popupTransitionName = _this$$props.popupTransitionName,\n          popupStyle = _this$$props.popupStyle,\n          mask = _this$$props.mask,\n          maskAnimation = _this$$props.maskAnimation,\n          maskTransitionName = _this$$props.maskTransitionName,\n          zIndex = _this$$props.zIndex,\n          stretch = _this$$props.stretch,\n          alignPoint = _this$$props.alignPoint,\n          mobile = _this$$props.mobile,\n          forceRender = _this$$props.forceRender;\n      var _this$$data = this.$data,\n          sPopupVisible = _this$$data.sPopupVisible,\n          point = _this$$data.point;\n\n      var popupProps = _objectSpread(_objectSpread({\n        prefixCls: prefixCls,\n        destroyPopupOnHide: destroyPopupOnHide,\n        visible: sPopupVisible,\n        point: alignPoint ? point : null,\n        align: this.align,\n        animation: popupAnimation,\n        getClassNameFromAlign: handleGetPopupClassFromAlign,\n        stretch: stretch,\n        getRootDomNode: getRootDomNode,\n        mask: mask,\n        zIndex: zIndex,\n        transitionName: popupTransitionName,\n        maskAnimation: maskAnimation,\n        maskTransitionName: maskTransitionName,\n        getContainer: getContainer,\n        class: popupClassName,\n        style: popupStyle,\n        onAlign: $attrs.onPopupAlign || noop\n      }, mouseProps), {}, {\n        ref: this.setPopupRef,\n        mobile: mobile,\n        forceRender: forceRender\n      });\n\n      return _createVNode(Popup, popupProps, {\n        default: this.$slots.popup || function () {\n          return _getComponent(_this5, 'popup');\n        }\n      });\n    },\n    attachParent: function attachParent(popupContainer) {\n      var _this6 = this;\n\n      raf.cancel(this.attachId);\n      var _this$$props2 = this.$props,\n          getPopupContainer = _this$$props2.getPopupContainer,\n          getDocument = _this$$props2.getDocument;\n      var domNode = this.getRootDomNode();\n      var mountNode;\n\n      if (!getPopupContainer) {\n        mountNode = getDocument(this.getRootDomNode()).body;\n      } else if (domNode || getPopupContainer.length === 0) {\n        // Compatible for legacy getPopupContainer with domNode argument.\n        // If no need `domNode` argument, will call directly.\n        // https://codesandbox.io/s/eloquent-mclean-ss93m?file=/src/App.js\n        mountNode = getPopupContainer(domNode);\n      }\n\n      if (mountNode) {\n        mountNode.appendChild(popupContainer);\n      } else {\n        // Retry after frame render in case parent not ready\n        this.attachId = raf(function () {\n          _this6.attachParent(popupContainer);\n        });\n      }\n    },\n    getContainer: function getContainer() {\n      var props = this.$props;\n      var getDocument = props.getDocument;\n      var popupContainer = getDocument(this.getRootDomNode()).createElement('div'); // Make sure default popup container will never cause scrollbar appearing\n      // https://github.com/react-component/trigger/issues/41\n\n      popupContainer.style.position = 'absolute';\n      popupContainer.style.top = '0';\n      popupContainer.style.left = '0';\n      popupContainer.style.width = '100%';\n      this.attachParent(popupContainer);\n      return popupContainer;\n    },\n    setPopupVisible: function setPopupVisible(sPopupVisible, event) {\n      var alignPoint = this.alignPoint,\n          prevPopupVisible = this.sPopupVisible,\n          onPopupVisibleChange = this.onPopupVisibleChange;\n      this.clearDelayTimer();\n\n      if (prevPopupVisible !== sPopupVisible) {\n        if (!hasProp(this, 'popupVisible')) {\n          this.setState({\n            sPopupVisible: sPopupVisible,\n            prevPopupVisible: prevPopupVisible\n          });\n        }\n\n        onPopupVisibleChange && onPopupVisibleChange(sPopupVisible);\n      } // Always record the point position since mouseEnterDelay will delay the show\n\n\n      if (alignPoint && event && sPopupVisible) {\n        this.setPoint(event);\n      }\n    },\n    setPoint: function setPoint(point) {\n      var alignPoint = this.$props.alignPoint;\n      if (!alignPoint || !point) return;\n      this.setState({\n        point: {\n          pageX: point.pageX,\n          pageY: point.pageY\n        }\n      });\n    },\n    handlePortalUpdate: function handlePortalUpdate() {\n      if (this.prevPopupVisible !== this.sPopupVisible) {\n        this.afterPopupVisibleChange(this.sPopupVisible);\n      }\n    },\n    delaySetPopupVisible: function delaySetPopupVisible(visible, delayS, event) {\n      var _this7 = this;\n\n      var delay = delayS * 1000;\n      this.clearDelayTimer();\n\n      if (delay) {\n        var point = event ? {\n          pageX: event.pageX,\n          pageY: event.pageY\n        } : null;\n        this.delayTimer = requestAnimationTimeout(function () {\n          _this7.setPopupVisible(visible, point);\n\n          _this7.clearDelayTimer();\n        }, delay);\n      } else {\n        this.setPopupVisible(visible, event);\n      }\n    },\n    clearDelayTimer: function clearDelayTimer() {\n      if (this.delayTimer) {\n        cancelAnimationTimeout(this.delayTimer);\n        this.delayTimer = null;\n      }\n    },\n    clearOutsideHandler: function clearOutsideHandler() {\n      if (this.clickOutsideHandler) {\n        this.clickOutsideHandler.remove();\n        this.clickOutsideHandler = null;\n      }\n\n      if (this.contextmenuOutsideHandler1) {\n        this.contextmenuOutsideHandler1.remove();\n        this.contextmenuOutsideHandler1 = null;\n      }\n\n      if (this.contextmenuOutsideHandler2) {\n        this.contextmenuOutsideHandler2.remove();\n        this.contextmenuOutsideHandler2 = null;\n      }\n\n      if (this.touchOutsideHandler) {\n        this.touchOutsideHandler.remove();\n        this.touchOutsideHandler = null;\n      }\n    },\n    createTwoChains: function createTwoChains(event) {\n      var fn = function fn() {};\n\n      var events = getEvents(this);\n\n      if (this.childOriginEvents[event] && events[event]) {\n        return this[\"fire\".concat(event)];\n      }\n\n      fn = this.childOriginEvents[event] || events[event] || fn;\n      return fn;\n    },\n    isClickToShow: function isClickToShow() {\n      var _this$$props3 = this.$props,\n          action = _this$$props3.action,\n          showAction = _this$$props3.showAction;\n      return action.indexOf('click') !== -1 || showAction.indexOf('click') !== -1;\n    },\n    isContextMenuOnly: function isContextMenuOnly() {\n      var action = this.$props.action;\n      return action === 'contextmenu' || action.length === 1 && action[0] === 'contextmenu';\n    },\n    isContextmenuToShow: function isContextmenuToShow() {\n      var _this$$props4 = this.$props,\n          action = _this$$props4.action,\n          showAction = _this$$props4.showAction;\n      return action.indexOf('contextmenu') !== -1 || showAction.indexOf('contextmenu') !== -1;\n    },\n    isClickToHide: function isClickToHide() {\n      var _this$$props5 = this.$props,\n          action = _this$$props5.action,\n          hideAction = _this$$props5.hideAction;\n      return action.indexOf('click') !== -1 || hideAction.indexOf('click') !== -1;\n    },\n    isMouseEnterToShow: function isMouseEnterToShow() {\n      var _this$$props6 = this.$props,\n          action = _this$$props6.action,\n          showAction = _this$$props6.showAction;\n      return action.indexOf('hover') !== -1 || showAction.indexOf('mouseenter') !== -1;\n    },\n    isMouseLeaveToHide: function isMouseLeaveToHide() {\n      var _this$$props7 = this.$props,\n          action = _this$$props7.action,\n          hideAction = _this$$props7.hideAction;\n      return action.indexOf('hover') !== -1 || hideAction.indexOf('mouseleave') !== -1;\n    },\n    isFocusToShow: function isFocusToShow() {\n      var _this$$props8 = this.$props,\n          action = _this$$props8.action,\n          showAction = _this$$props8.showAction;\n      return action.indexOf('focus') !== -1 || showAction.indexOf('focus') !== -1;\n    },\n    isBlurToHide: function isBlurToHide() {\n      var _this$$props9 = this.$props,\n          action = _this$$props9.action,\n          hideAction = _this$$props9.hideAction;\n      return action.indexOf('focus') !== -1 || hideAction.indexOf('blur') !== -1;\n    },\n    forcePopupAlign: function forcePopupAlign() {\n      if (this.$data.sPopupVisible) {\n        var _this$popupRef3;\n\n        (_this$popupRef3 = this.popupRef) === null || _this$popupRef3 === void 0 ? void 0 : _this$popupRef3.forceAlign();\n      }\n    },\n    fireEvents: function fireEvents(type, e) {\n      if (this.childOriginEvents[type]) {\n        this.childOriginEvents[type](e);\n      }\n\n      var event = this.$props[type] || this.$attrs[type];\n\n      if (event) {\n        event(e);\n      }\n    },\n    close: function close() {\n      this.setPopupVisible(false);\n    }\n  },\n  render: function render() {\n    var _this8 = this;\n\n    var $attrs = this.$attrs;\n    var children = filterEmpty(getSlot(this));\n    var alignPoint = this.$props.alignPoint;\n    var child = children[0];\n    this.childOriginEvents = getEvents(child);\n    var newChildProps = {\n      key: 'trigger'\n    };\n\n    if (this.isContextmenuToShow()) {\n      newChildProps.onContextmenu = this.onContextmenu;\n    } else {\n      newChildProps.onContextmenu = this.createTwoChains('onContextmenu');\n    }\n\n    if (this.isClickToHide() || this.isClickToShow()) {\n      newChildProps.onClick = this.onClick;\n      newChildProps.onMousedown = this.onMousedown;\n      newChildProps[supportsPassive ? 'onTouchstartPassive' : 'onTouchstart'] = this.onTouchstart;\n    } else {\n      newChildProps.onClick = this.createTwoChains('onClick');\n      newChildProps.onMousedown = this.createTwoChains('onMousedown');\n      newChildProps[supportsPassive ? 'onTouchstartPassive' : 'onTouchstart'] = this.createTwoChains('onTouchstart');\n    }\n\n    if (this.isMouseEnterToShow()) {\n      newChildProps.onMouseenter = this.onMouseenter;\n\n      if (alignPoint) {\n        newChildProps.onMousemove = this.onMouseMove;\n      }\n    } else {\n      newChildProps.onMouseenter = this.createTwoChains('onMouseenter');\n    }\n\n    if (this.isMouseLeaveToHide()) {\n      newChildProps.onMouseleave = this.onMouseleave;\n    } else {\n      newChildProps.onMouseleave = this.createTwoChains('onMouseleave');\n    }\n\n    if (this.isFocusToShow() || this.isBlurToHide()) {\n      newChildProps.onFocus = this.onFocus;\n      newChildProps.onBlur = this.onBlur;\n    } else {\n      newChildProps.onFocus = this.createTwoChains('onFocus');\n\n      newChildProps.onBlur = function (e) {\n        if (e && (!e.relatedTarget || !contains(e.target, e.relatedTarget))) {\n          _this8.createTwoChains('onBlur')(e);\n        }\n      };\n    }\n\n    var childrenClassName = classNames(child && child.props && child.props.class, $attrs.class);\n\n    if (childrenClassName) {\n      newChildProps.class = childrenClassName;\n    }\n\n    var trigger = cloneElement(child, _objectSpread(_objectSpread({}, newChildProps), {}, {\n      ref: 'triggerRef'\n    }), true, true);\n\n    if (this.popPortal) {\n      return trigger;\n    } else {\n      var portal = _createVNode(Portal, {\n        \"key\": \"portal\",\n        \"getContainer\": this.getContainer,\n        \"didUpdate\": this.handlePortalUpdate\n      }, {\n        default: this.getComponent\n      });\n\n      return _createVNode(_Fragment, null, [portal, trigger]);\n    }\n  }\n});","map":{"version":3,"names":["_objectSpread","Fragment","_Fragment","createVNode","_createVNode","resolveDirective","_resolveDirective","computed","defineComponent","inject","provide","ref","PropTypes","contains","raf","hasProp","getComponent","_getComponent","getEvents","filterEmpty","getSlot","findDOMNode","requestAnimationTimeout","cancelAnimationTimeout","addEventListener","Popup","getAlignFromPlacement","getAlignPopupClassName","BaseMixin","Portal","classNames","cloneElement","supportsPassive","useInjectTrigger","useProvidePortal","noop","returnEmptyString","returnDocument","element","ownerDocument","window","document","ALL_HANDLERS","compatConfig","MODE","name","mixins","inheritAttrs","props","action","oneOfType","string","arrayOf","def","showAction","any","hideAction","getPopupClassNameFromAlign","onPopupVisibleChange","Function","afterPopupVisibleChange","func","popup","popupStyle","type","Object","default","undefined","prefixCls","popupClassName","popupPlacement","String","builtinPlacements","object","popupTransitionName","popupAnimation","mouseEnterDelay","number","mouseLeaveDelay","zIndex","Number","focusDelay","blurDelay","getPopupContainer","getDocument","forceRender","Boolean","destroyPopupOnHide","mask","maskClosable","popupAlign","popupVisible","defaultPopupVisible","maskTransitionName","maskAnimation","stretch","alignPoint","autoDestroy","mobile","getTriggerDOMNode","tryPopPortal","setup","align","_useInjectTrigger","setPortal","popPortal","popupRef","setPopupRef","val","value","vcTriggerContext","triggerRef","focusTime","clickOutsideHandler","contextmenuOutsideHandler1","contextmenuOutsideHandler2","touchOutsideHandler","attachId","delayTimer","hasPopupMouseDown","preClickTime","preTouchTime","mouseDownTimeout","childOriginEvents","data","_this","_this$setPortal","$props","forEach","h","concat","e","fireEvents","call","getContainer","handlePortalUpdate","prevPopupVisible","sPopupVisible","point","watch","created","onPopupMouseDown","deactivated","setPopupVisible","mounted","_this2","$nextTick","updatedCal","updated","_this3","beforeUnmount","clearDelayTimer","clearOutsideHandler","clearTimeout","cancel","methods","state","$data","currentDocument","isClickToHide","isContextmenuToShow","getRootDomNode","onDocumentClick","passive","onContextmenuClose","onMouseenter","delaySetPopupVisible","onMouseMove","setPoint","onMouseleave","onPopupMouseenter","onPopupMouseleave","_this$popupRef","relatedTarget","setTimeout","getElement","onFocus","isFocusToShow","Date","now","onMousedown","onTouchstart","onBlur","target","activeElement","isBlurToHide","onContextmenu","preventDefault","close","onClick","event","preTime","Math","min","abs","isClickToShow","domEvent","nextVisible","_this4","_this$vcTriggerContex","apply","arguments","root","popupNode","getPopupDomNode","isContextMenuOnly","_this$popupRef2","domNode","_domNode","err","handleGetPopupClassFromAlign","className","push","join","getPopupAlign","_this5","mouseProps","isMouseEnterToShow","isMouseLeaveToHide","$attrs","_this$$props","_this$$data","popupProps","visible","animation","getClassNameFromAlign","transitionName","class","style","onAlign","onPopupAlign","$slots","attachParent","popupContainer","_this6","_this$$props2","mountNode","body","length","appendChild","createElement","position","top","left","width","setState","pageX","pageY","delayS","_this7","delay","remove","createTwoChains","fn","events","_this$$props3","indexOf","_this$$props4","_this$$props5","_this$$props6","_this$$props7","_this$$props8","_this$$props9","forcePopupAlign","_this$popupRef3","forceAlign","render","_this8","children","child","newChildProps","key","onMousemove","childrenClassName","trigger","portal"],"sources":["/Users/jasonti/Desktop/Tripper/vue/node_modules/ant-design-vue/es/vc-trigger/Trigger.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { Fragment as _Fragment, createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport { computed, defineComponent, inject, provide, ref } from 'vue';\nimport PropTypes from '../_util/vue-types';\nimport contains from '../vc-util/Dom/contains';\nimport raf from '../_util/raf';\nimport { hasProp, getComponent as _getComponent, getEvents, filterEmpty, getSlot, findDOMNode } from '../_util/props-util';\nimport { requestAnimationTimeout, cancelAnimationTimeout } from '../_util/requestAnimationTimeout';\nimport addEventListener from '../vc-util/Dom/addEventListener';\nimport Popup from './Popup';\nimport { getAlignFromPlacement, getAlignPopupClassName } from './utils/alignUtil';\nimport BaseMixin from '../_util/BaseMixin';\nimport Portal from '../_util/Portal';\nimport classNames from '../_util/classNames';\nimport { cloneElement } from '../_util/vnode';\nimport supportsPassive from '../_util/supportsPassive';\nimport { useInjectTrigger, useProvidePortal } from './context';\nfunction noop() {}\nfunction returnEmptyString() {\n  return '';\n}\nfunction returnDocument(element) {\n  if (element) {\n    return element.ownerDocument;\n  }\n  return window.document;\n}\nvar ALL_HANDLERS = ['onClick', 'onMousedown', 'onTouchstart', 'onMouseenter', 'onMouseleave', 'onFocus', 'onBlur', 'onContextmenu'];\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'Trigger',\n  mixins: [BaseMixin],\n  inheritAttrs: false,\n  props: {\n    action: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]).def([]),\n    showAction: PropTypes.any.def([]),\n    hideAction: PropTypes.any.def([]),\n    getPopupClassNameFromAlign: PropTypes.any.def(returnEmptyString),\n    onPopupVisibleChange: Function,\n    afterPopupVisibleChange: PropTypes.func.def(noop),\n    popup: PropTypes.any,\n    popupStyle: {\n      type: Object,\n      default: undefined\n    },\n    prefixCls: PropTypes.string.def('rc-trigger-popup'),\n    popupClassName: PropTypes.string.def(''),\n    popupPlacement: String,\n    builtinPlacements: PropTypes.object,\n    popupTransitionName: String,\n    popupAnimation: PropTypes.any,\n    mouseEnterDelay: PropTypes.number.def(0),\n    mouseLeaveDelay: PropTypes.number.def(0.1),\n    zIndex: Number,\n    focusDelay: PropTypes.number.def(0),\n    blurDelay: PropTypes.number.def(0.15),\n    getPopupContainer: Function,\n    getDocument: PropTypes.func.def(returnDocument),\n    forceRender: {\n      type: Boolean,\n      default: undefined\n    },\n    destroyPopupOnHide: {\n      type: Boolean,\n      default: false\n    },\n    mask: {\n      type: Boolean,\n      default: false\n    },\n    maskClosable: {\n      type: Boolean,\n      default: true\n    },\n    // onPopupAlign: PropTypes.func.def(noop),\n    popupAlign: PropTypes.object.def(function () {\n      return {};\n    }),\n    popupVisible: {\n      type: Boolean,\n      default: undefined\n    },\n    defaultPopupVisible: {\n      type: Boolean,\n      default: false\n    },\n    maskTransitionName: String,\n    maskAnimation: String,\n    stretch: String,\n    alignPoint: {\n      type: Boolean,\n      default: undefined\n    },\n    autoDestroy: {\n      type: Boolean,\n      default: false\n    },\n    mobile: Object,\n    getTriggerDOMNode: Function,\n    // portal context will change\n    tryPopPortal: Boolean // no need reactive\n  },\n  setup: function setup(props) {\n    var align = computed(function () {\n      var popupPlacement = props.popupPlacement,\n        popupAlign = props.popupAlign,\n        builtinPlacements = props.builtinPlacements;\n      if (popupPlacement && builtinPlacements) {\n        return getAlignFromPlacement(builtinPlacements, popupPlacement, popupAlign);\n      }\n      return popupAlign;\n    });\n    var _useInjectTrigger = useInjectTrigger(props.tryPopPortal),\n      setPortal = _useInjectTrigger.setPortal,\n      popPortal = _useInjectTrigger.popPortal;\n    var popupRef = ref(null);\n    var setPopupRef = function setPopupRef(val) {\n      popupRef.value = val;\n    };\n    return {\n      popPortal: popPortal,\n      setPortal: setPortal,\n      vcTriggerContext: inject('vcTriggerContext', {}),\n      popupRef: popupRef,\n      setPopupRef: setPopupRef,\n      triggerRef: ref(null),\n      align: align,\n      focusTime: null,\n      clickOutsideHandler: null,\n      contextmenuOutsideHandler1: null,\n      contextmenuOutsideHandler2: null,\n      touchOutsideHandler: null,\n      attachId: null,\n      delayTimer: null,\n      hasPopupMouseDown: false,\n      preClickTime: null,\n      preTouchTime: null,\n      mouseDownTimeout: null,\n      childOriginEvents: {}\n    };\n  },\n  data: function data() {\n    var _this = this,\n      _this$setPortal;\n    var props = this.$props;\n    var popupVisible;\n    if (this.popupVisible !== undefined) {\n      popupVisible = !!props.popupVisible;\n    } else {\n      popupVisible = !!props.defaultPopupVisible;\n    }\n    ALL_HANDLERS.forEach(function (h) {\n      _this[\"fire\".concat(h)] = function (e) {\n        _this.fireEvents(h, e);\n      };\n    });\n    (_this$setPortal = this.setPortal) === null || _this$setPortal === void 0 ? void 0 : _this$setPortal.call(this, _createVNode(Portal, {\n      \"key\": \"portal\",\n      \"getContainer\": this.getContainer,\n      \"didUpdate\": this.handlePortalUpdate\n    }, {\n      default: this.getComponent\n    }));\n    return {\n      prevPopupVisible: popupVisible,\n      sPopupVisible: popupVisible,\n      point: null\n    };\n  },\n  watch: {\n    popupVisible: function popupVisible(val) {\n      if (val !== undefined) {\n        this.prevPopupVisible = this.sPopupVisible;\n        this.sPopupVisible = val;\n      }\n    }\n  },\n  created: function created() {\n    provide('vcTriggerContext', {\n      onPopupMouseDown: this.onPopupMouseDown\n    });\n    useProvidePortal(this);\n  },\n  deactivated: function deactivated() {\n    this.setPopupVisible(false);\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n    this.$nextTick(function () {\n      _this2.updatedCal();\n    });\n  },\n  updated: function updated() {\n    var _this3 = this;\n    this.$nextTick(function () {\n      _this3.updatedCal();\n    });\n  },\n  beforeUnmount: function beforeUnmount() {\n    this.clearDelayTimer();\n    this.clearOutsideHandler();\n    clearTimeout(this.mouseDownTimeout);\n    raf.cancel(this.attachId);\n  },\n  methods: {\n    updatedCal: function updatedCal() {\n      var props = this.$props;\n      var state = this.$data;\n      // We must listen to `mousedown` or `touchstart`, edge case:\n      // https://github.com/ant-design/ant-design/issues/5804\n      // https://github.com/react-component/calendar/issues/250\n      // https://github.com/react-component/trigger/issues/50\n      if (state.sPopupVisible) {\n        var currentDocument;\n        if (!this.clickOutsideHandler && (this.isClickToHide() || this.isContextmenuToShow())) {\n          currentDocument = props.getDocument(this.getRootDomNode());\n          this.clickOutsideHandler = addEventListener(currentDocument, 'mousedown', this.onDocumentClick);\n        }\n        // always hide on mobile\n        if (!this.touchOutsideHandler) {\n          currentDocument = currentDocument || props.getDocument(this.getRootDomNode());\n          this.touchOutsideHandler = addEventListener(currentDocument, 'touchstart', this.onDocumentClick, supportsPassive ? {\n            passive: false\n          } : false);\n        }\n        // close popup when trigger type contains 'onContextmenu' and document is scrolling.\n        if (!this.contextmenuOutsideHandler1 && this.isContextmenuToShow()) {\n          currentDocument = currentDocument || props.getDocument(this.getRootDomNode());\n          this.contextmenuOutsideHandler1 = addEventListener(currentDocument, 'scroll', this.onContextmenuClose);\n        }\n        // close popup when trigger type contains 'onContextmenu' and window is blur.\n        if (!this.contextmenuOutsideHandler2 && this.isContextmenuToShow()) {\n          this.contextmenuOutsideHandler2 = addEventListener(window, 'blur', this.onContextmenuClose);\n        }\n      } else {\n        this.clearOutsideHandler();\n      }\n    },\n    onMouseenter: function onMouseenter(e) {\n      var mouseEnterDelay = this.$props.mouseEnterDelay;\n      this.fireEvents('onMouseenter', e);\n      this.delaySetPopupVisible(true, mouseEnterDelay, mouseEnterDelay ? null : e);\n    },\n    onMouseMove: function onMouseMove(e) {\n      this.fireEvents('onMousemove', e);\n      this.setPoint(e);\n    },\n    onMouseleave: function onMouseleave(e) {\n      this.fireEvents('onMouseleave', e);\n      this.delaySetPopupVisible(false, this.$props.mouseLeaveDelay);\n    },\n    onPopupMouseenter: function onPopupMouseenter() {\n      this.clearDelayTimer();\n    },\n    onPopupMouseleave: function onPopupMouseleave(e) {\n      var _this$popupRef;\n      if (e && e.relatedTarget && !e.relatedTarget.setTimeout && contains((_this$popupRef = this.popupRef) === null || _this$popupRef === void 0 ? void 0 : _this$popupRef.getElement(), e.relatedTarget)) {\n        return;\n      }\n      this.delaySetPopupVisible(false, this.$props.mouseLeaveDelay);\n    },\n    onFocus: function onFocus(e) {\n      this.fireEvents('onFocus', e);\n      // incase focusin and focusout\n      this.clearDelayTimer();\n      if (this.isFocusToShow()) {\n        this.focusTime = Date.now();\n        this.delaySetPopupVisible(true, this.$props.focusDelay);\n      }\n    },\n    onMousedown: function onMousedown(e) {\n      this.fireEvents('onMousedown', e);\n      this.preClickTime = Date.now();\n    },\n    onTouchstart: function onTouchstart(e) {\n      this.fireEvents('onTouchstart', e);\n      this.preTouchTime = Date.now();\n    },\n    onBlur: function onBlur(e) {\n      if (!contains(e.target, e.relatedTarget || document.activeElement)) {\n        this.fireEvents('onBlur', e);\n        this.clearDelayTimer();\n        if (this.isBlurToHide()) {\n          this.delaySetPopupVisible(false, this.$props.blurDelay);\n        }\n      }\n    },\n    onContextmenu: function onContextmenu(e) {\n      e.preventDefault();\n      this.fireEvents('onContextmenu', e);\n      this.setPopupVisible(true, e);\n    },\n    onContextmenuClose: function onContextmenuClose() {\n      if (this.isContextmenuToShow()) {\n        this.close();\n      }\n    },\n    onClick: function onClick(event) {\n      this.fireEvents('onClick', event);\n      // focus will trigger click\n      if (this.focusTime) {\n        var preTime;\n        if (this.preClickTime && this.preTouchTime) {\n          preTime = Math.min(this.preClickTime, this.preTouchTime);\n        } else if (this.preClickTime) {\n          preTime = this.preClickTime;\n        } else if (this.preTouchTime) {\n          preTime = this.preTouchTime;\n        }\n        if (Math.abs(preTime - this.focusTime) < 20) {\n          return;\n        }\n        this.focusTime = 0;\n      }\n      this.preClickTime = 0;\n      this.preTouchTime = 0;\n      // Only prevent default when all the action is click.\n      // https://github.com/ant-design/ant-design/issues/17043\n      // https://github.com/ant-design/ant-design/issues/17291\n      if (this.isClickToShow() && (this.isClickToHide() || this.isBlurToHide()) && event && event.preventDefault) {\n        event.preventDefault();\n      }\n      if (event && event.domEvent) {\n        event.domEvent.preventDefault();\n      }\n      var nextVisible = !this.$data.sPopupVisible;\n      if (this.isClickToHide() && !nextVisible || nextVisible && this.isClickToShow()) {\n        this.setPopupVisible(!this.$data.sPopupVisible, event);\n      }\n    },\n    onPopupMouseDown: function onPopupMouseDown() {\n      var _this4 = this;\n      var _this$vcTriggerContex = this.vcTriggerContext,\n        vcTriggerContext = _this$vcTriggerContex === void 0 ? {} : _this$vcTriggerContex;\n      this.hasPopupMouseDown = true;\n      clearTimeout(this.mouseDownTimeout);\n      this.mouseDownTimeout = setTimeout(function () {\n        _this4.hasPopupMouseDown = false;\n      }, 0);\n      if (vcTriggerContext.onPopupMouseDown) {\n        vcTriggerContext.onPopupMouseDown.apply(vcTriggerContext, arguments);\n      }\n    },\n    onDocumentClick: function onDocumentClick(event) {\n      if (this.$props.mask && !this.$props.maskClosable) {\n        return;\n      }\n      var target = event.target;\n      var root = this.getRootDomNode();\n      var popupNode = this.getPopupDomNode();\n      if (\n      // mousedown on the target should also close popup when action is contextMenu.\n      // https://github.com/ant-design/ant-design/issues/29853\n      (!contains(root, target) || this.isContextMenuOnly()) && !contains(popupNode, target) && !this.hasPopupMouseDown) {\n        // https://github.com/vuejs/core/issues/4462\n        // vue 动画bug导致 https://github.com/vueComponent/ant-design-vue/issues/5259，\n        // 改成延时解决\n        this.delaySetPopupVisible(false, 0.1);\n      }\n    },\n    getPopupDomNode: function getPopupDomNode() {\n      var _this$popupRef2;\n      // for test\n      return ((_this$popupRef2 = this.popupRef) === null || _this$popupRef2 === void 0 ? void 0 : _this$popupRef2.getElement()) || null;\n    },\n    getRootDomNode: function getRootDomNode() {\n      var getTriggerDOMNode = this.$props.getTriggerDOMNode;\n      if (getTriggerDOMNode) {\n        var domNode = findDOMNode(this.triggerRef);\n        return findDOMNode(getTriggerDOMNode(domNode));\n      }\n      try {\n        var _domNode = findDOMNode(this.triggerRef);\n        if (_domNode) {\n          return _domNode;\n        }\n      } catch (err) {\n        // Do nothing\n      }\n      return findDOMNode(this);\n    },\n    handleGetPopupClassFromAlign: function handleGetPopupClassFromAlign(align) {\n      var className = [];\n      var props = this.$props;\n      var popupPlacement = props.popupPlacement,\n        builtinPlacements = props.builtinPlacements,\n        prefixCls = props.prefixCls,\n        alignPoint = props.alignPoint,\n        getPopupClassNameFromAlign = props.getPopupClassNameFromAlign;\n      if (popupPlacement && builtinPlacements) {\n        className.push(getAlignPopupClassName(builtinPlacements, prefixCls, align, alignPoint));\n      }\n      if (getPopupClassNameFromAlign) {\n        className.push(getPopupClassNameFromAlign(align));\n      }\n      return className.join(' ');\n    },\n    getPopupAlign: function getPopupAlign() {\n      var props = this.$props;\n      var popupPlacement = props.popupPlacement,\n        popupAlign = props.popupAlign,\n        builtinPlacements = props.builtinPlacements;\n      if (popupPlacement && builtinPlacements) {\n        return getAlignFromPlacement(builtinPlacements, popupPlacement, popupAlign);\n      }\n      return popupAlign;\n    },\n    getComponent: function getComponent() {\n      var _this5 = this;\n      var mouseProps = {};\n      if (this.isMouseEnterToShow()) {\n        mouseProps.onMouseenter = this.onPopupMouseenter;\n      }\n      if (this.isMouseLeaveToHide()) {\n        mouseProps.onMouseleave = this.onPopupMouseleave;\n      }\n      mouseProps.onMousedown = this.onPopupMouseDown;\n      mouseProps[supportsPassive ? 'onTouchstartPassive' : 'onTouchstart'] = this.onPopupMouseDown;\n      var handleGetPopupClassFromAlign = this.handleGetPopupClassFromAlign,\n        getRootDomNode = this.getRootDomNode,\n        getContainer = this.getContainer,\n        $attrs = this.$attrs;\n      var _this$$props = this.$props,\n        prefixCls = _this$$props.prefixCls,\n        destroyPopupOnHide = _this$$props.destroyPopupOnHide,\n        popupClassName = _this$$props.popupClassName,\n        popupAnimation = _this$$props.popupAnimation,\n        popupTransitionName = _this$$props.popupTransitionName,\n        popupStyle = _this$$props.popupStyle,\n        mask = _this$$props.mask,\n        maskAnimation = _this$$props.maskAnimation,\n        maskTransitionName = _this$$props.maskTransitionName,\n        zIndex = _this$$props.zIndex,\n        stretch = _this$$props.stretch,\n        alignPoint = _this$$props.alignPoint,\n        mobile = _this$$props.mobile,\n        forceRender = _this$$props.forceRender;\n      var _this$$data = this.$data,\n        sPopupVisible = _this$$data.sPopupVisible,\n        point = _this$$data.point;\n      var popupProps = _objectSpread(_objectSpread({\n        prefixCls: prefixCls,\n        destroyPopupOnHide: destroyPopupOnHide,\n        visible: sPopupVisible,\n        point: alignPoint ? point : null,\n        align: this.align,\n        animation: popupAnimation,\n        getClassNameFromAlign: handleGetPopupClassFromAlign,\n        stretch: stretch,\n        getRootDomNode: getRootDomNode,\n        mask: mask,\n        zIndex: zIndex,\n        transitionName: popupTransitionName,\n        maskAnimation: maskAnimation,\n        maskTransitionName: maskTransitionName,\n        getContainer: getContainer,\n        class: popupClassName,\n        style: popupStyle,\n        onAlign: $attrs.onPopupAlign || noop\n      }, mouseProps), {}, {\n        ref: this.setPopupRef,\n        mobile: mobile,\n        forceRender: forceRender\n      });\n      return _createVNode(Popup, popupProps, {\n        default: this.$slots.popup || function () {\n          return _getComponent(_this5, 'popup');\n        }\n      });\n    },\n    attachParent: function attachParent(popupContainer) {\n      var _this6 = this;\n      raf.cancel(this.attachId);\n      var _this$$props2 = this.$props,\n        getPopupContainer = _this$$props2.getPopupContainer,\n        getDocument = _this$$props2.getDocument;\n      var domNode = this.getRootDomNode();\n      var mountNode;\n      if (!getPopupContainer) {\n        mountNode = getDocument(this.getRootDomNode()).body;\n      } else if (domNode || getPopupContainer.length === 0) {\n        // Compatible for legacy getPopupContainer with domNode argument.\n        // If no need `domNode` argument, will call directly.\n        // https://codesandbox.io/s/eloquent-mclean-ss93m?file=/src/App.js\n        mountNode = getPopupContainer(domNode);\n      }\n      if (mountNode) {\n        mountNode.appendChild(popupContainer);\n      } else {\n        // Retry after frame render in case parent not ready\n        this.attachId = raf(function () {\n          _this6.attachParent(popupContainer);\n        });\n      }\n    },\n    getContainer: function getContainer() {\n      var props = this.$props;\n      var getDocument = props.getDocument;\n      var popupContainer = getDocument(this.getRootDomNode()).createElement('div');\n      // Make sure default popup container will never cause scrollbar appearing\n      // https://github.com/react-component/trigger/issues/41\n      popupContainer.style.position = 'absolute';\n      popupContainer.style.top = '0';\n      popupContainer.style.left = '0';\n      popupContainer.style.width = '100%';\n      this.attachParent(popupContainer);\n      return popupContainer;\n    },\n    setPopupVisible: function setPopupVisible(sPopupVisible, event) {\n      var alignPoint = this.alignPoint,\n        prevPopupVisible = this.sPopupVisible,\n        onPopupVisibleChange = this.onPopupVisibleChange;\n      this.clearDelayTimer();\n      if (prevPopupVisible !== sPopupVisible) {\n        if (!hasProp(this, 'popupVisible')) {\n          this.setState({\n            sPopupVisible: sPopupVisible,\n            prevPopupVisible: prevPopupVisible\n          });\n        }\n        onPopupVisibleChange && onPopupVisibleChange(sPopupVisible);\n      }\n      // Always record the point position since mouseEnterDelay will delay the show\n      if (alignPoint && event && sPopupVisible) {\n        this.setPoint(event);\n      }\n    },\n    setPoint: function setPoint(point) {\n      var alignPoint = this.$props.alignPoint;\n      if (!alignPoint || !point) return;\n      this.setState({\n        point: {\n          pageX: point.pageX,\n          pageY: point.pageY\n        }\n      });\n    },\n    handlePortalUpdate: function handlePortalUpdate() {\n      if (this.prevPopupVisible !== this.sPopupVisible) {\n        this.afterPopupVisibleChange(this.sPopupVisible);\n      }\n    },\n    delaySetPopupVisible: function delaySetPopupVisible(visible, delayS, event) {\n      var _this7 = this;\n      var delay = delayS * 1000;\n      this.clearDelayTimer();\n      if (delay) {\n        var point = event ? {\n          pageX: event.pageX,\n          pageY: event.pageY\n        } : null;\n        this.delayTimer = requestAnimationTimeout(function () {\n          _this7.setPopupVisible(visible, point);\n          _this7.clearDelayTimer();\n        }, delay);\n      } else {\n        this.setPopupVisible(visible, event);\n      }\n    },\n    clearDelayTimer: function clearDelayTimer() {\n      if (this.delayTimer) {\n        cancelAnimationTimeout(this.delayTimer);\n        this.delayTimer = null;\n      }\n    },\n    clearOutsideHandler: function clearOutsideHandler() {\n      if (this.clickOutsideHandler) {\n        this.clickOutsideHandler.remove();\n        this.clickOutsideHandler = null;\n      }\n      if (this.contextmenuOutsideHandler1) {\n        this.contextmenuOutsideHandler1.remove();\n        this.contextmenuOutsideHandler1 = null;\n      }\n      if (this.contextmenuOutsideHandler2) {\n        this.contextmenuOutsideHandler2.remove();\n        this.contextmenuOutsideHandler2 = null;\n      }\n      if (this.touchOutsideHandler) {\n        this.touchOutsideHandler.remove();\n        this.touchOutsideHandler = null;\n      }\n    },\n    createTwoChains: function createTwoChains(event) {\n      var fn = function fn() {};\n      var events = getEvents(this);\n      if (this.childOriginEvents[event] && events[event]) {\n        return this[\"fire\".concat(event)];\n      }\n      fn = this.childOriginEvents[event] || events[event] || fn;\n      return fn;\n    },\n    isClickToShow: function isClickToShow() {\n      var _this$$props3 = this.$props,\n        action = _this$$props3.action,\n        showAction = _this$$props3.showAction;\n      return action.indexOf('click') !== -1 || showAction.indexOf('click') !== -1;\n    },\n    isContextMenuOnly: function isContextMenuOnly() {\n      var action = this.$props.action;\n      return action === 'contextmenu' || action.length === 1 && action[0] === 'contextmenu';\n    },\n    isContextmenuToShow: function isContextmenuToShow() {\n      var _this$$props4 = this.$props,\n        action = _this$$props4.action,\n        showAction = _this$$props4.showAction;\n      return action.indexOf('contextmenu') !== -1 || showAction.indexOf('contextmenu') !== -1;\n    },\n    isClickToHide: function isClickToHide() {\n      var _this$$props5 = this.$props,\n        action = _this$$props5.action,\n        hideAction = _this$$props5.hideAction;\n      return action.indexOf('click') !== -1 || hideAction.indexOf('click') !== -1;\n    },\n    isMouseEnterToShow: function isMouseEnterToShow() {\n      var _this$$props6 = this.$props,\n        action = _this$$props6.action,\n        showAction = _this$$props6.showAction;\n      return action.indexOf('hover') !== -1 || showAction.indexOf('mouseenter') !== -1;\n    },\n    isMouseLeaveToHide: function isMouseLeaveToHide() {\n      var _this$$props7 = this.$props,\n        action = _this$$props7.action,\n        hideAction = _this$$props7.hideAction;\n      return action.indexOf('hover') !== -1 || hideAction.indexOf('mouseleave') !== -1;\n    },\n    isFocusToShow: function isFocusToShow() {\n      var _this$$props8 = this.$props,\n        action = _this$$props8.action,\n        showAction = _this$$props8.showAction;\n      return action.indexOf('focus') !== -1 || showAction.indexOf('focus') !== -1;\n    },\n    isBlurToHide: function isBlurToHide() {\n      var _this$$props9 = this.$props,\n        action = _this$$props9.action,\n        hideAction = _this$$props9.hideAction;\n      return action.indexOf('focus') !== -1 || hideAction.indexOf('blur') !== -1;\n    },\n    forcePopupAlign: function forcePopupAlign() {\n      if (this.$data.sPopupVisible) {\n        var _this$popupRef3;\n        (_this$popupRef3 = this.popupRef) === null || _this$popupRef3 === void 0 ? void 0 : _this$popupRef3.forceAlign();\n      }\n    },\n    fireEvents: function fireEvents(type, e) {\n      if (this.childOriginEvents[type]) {\n        this.childOriginEvents[type](e);\n      }\n      var event = this.$props[type] || this.$attrs[type];\n      if (event) {\n        event(e);\n      }\n    },\n    close: function close() {\n      this.setPopupVisible(false);\n    }\n  },\n  render: function render() {\n    var _this8 = this;\n    var $attrs = this.$attrs;\n    var children = filterEmpty(getSlot(this));\n    var alignPoint = this.$props.alignPoint;\n    var child = children[0];\n    this.childOriginEvents = getEvents(child);\n    var newChildProps = {\n      key: 'trigger'\n    };\n    if (this.isContextmenuToShow()) {\n      newChildProps.onContextmenu = this.onContextmenu;\n    } else {\n      newChildProps.onContextmenu = this.createTwoChains('onContextmenu');\n    }\n    if (this.isClickToHide() || this.isClickToShow()) {\n      newChildProps.onClick = this.onClick;\n      newChildProps.onMousedown = this.onMousedown;\n      newChildProps[supportsPassive ? 'onTouchstartPassive' : 'onTouchstart'] = this.onTouchstart;\n    } else {\n      newChildProps.onClick = this.createTwoChains('onClick');\n      newChildProps.onMousedown = this.createTwoChains('onMousedown');\n      newChildProps[supportsPassive ? 'onTouchstartPassive' : 'onTouchstart'] = this.createTwoChains('onTouchstart');\n    }\n    if (this.isMouseEnterToShow()) {\n      newChildProps.onMouseenter = this.onMouseenter;\n      if (alignPoint) {\n        newChildProps.onMousemove = this.onMouseMove;\n      }\n    } else {\n      newChildProps.onMouseenter = this.createTwoChains('onMouseenter');\n    }\n    if (this.isMouseLeaveToHide()) {\n      newChildProps.onMouseleave = this.onMouseleave;\n    } else {\n      newChildProps.onMouseleave = this.createTwoChains('onMouseleave');\n    }\n    if (this.isFocusToShow() || this.isBlurToHide()) {\n      newChildProps.onFocus = this.onFocus;\n      newChildProps.onBlur = this.onBlur;\n    } else {\n      newChildProps.onFocus = this.createTwoChains('onFocus');\n      newChildProps.onBlur = function (e) {\n        if (e && (!e.relatedTarget || !contains(e.target, e.relatedTarget))) {\n          _this8.createTwoChains('onBlur')(e);\n        }\n      };\n    }\n    var childrenClassName = classNames(child && child.props && child.props.class, $attrs.class);\n    if (childrenClassName) {\n      newChildProps.class = childrenClassName;\n    }\n    var trigger = cloneElement(child, _objectSpread(_objectSpread({}, newChildProps), {}, {\n      ref: 'triggerRef'\n    }), true, true);\n    if (this.popPortal) {\n      return trigger;\n    } else {\n      var portal = _createVNode(Portal, {\n        \"key\": \"portal\",\n        \"getContainer\": this.getContainer,\n        \"didUpdate\": this.handlePortalUpdate\n      }, {\n        default: this.getComponent\n      });\n      return _createVNode(_Fragment, null, [portal, trigger]);\n    }\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}