{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport { Fragment as _Fragment, createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport Header from './Header/Header';\nimport Body from './Body';\nimport useColumns from './hooks/useColumns';\nimport { useLayoutState, useTimeoutLock } from './hooks/useFrame';\nimport { getPathValue, mergeObject, validateValue, getColumnsKey } from './utils/valueUtil';\nimport useStickyOffsets from './hooks/useStickyOffsets';\nimport ColGroup from './ColGroup';\nimport Panel from './Panel';\nimport Footer from './Footer';\nimport { findAllChildrenKeys, renderExpandIcon } from './utils/expandUtil';\nimport { getCellFixedInfo } from './utils/fixUtil';\nimport StickyScrollBar from './stickyScrollBar';\nimport useSticky from './hooks/useSticky';\nimport FixedHolder from './FixedHolder';\nimport { onUpdated, computed, defineComponent, nextTick, onMounted, reactive, ref, shallowRef, toRef, toRefs, watch, watchEffect } from 'vue';\nimport { warning } from '../vc-util/warning';\nimport { reactivePick } from '../_util/reactivePick';\nimport useState from '../_util/hooks/useState';\nimport { toPx } from '../_util/util';\nimport isVisible from '../vc-util/Dom/isVisible';\nimport { getTargetScrollBarSize } from '../_util/getScrollBarSize';\nimport classNames from '../_util/classNames';\nimport VCResizeObserver from '../vc-resize-observer';\nimport { useProvideTable } from './context/TableContext';\nimport { useProvideBody } from './context/BodyContext';\nimport { useProvideResize } from './context/ResizeContext';\nimport { useProvideSticky } from './context/StickyContext';\nimport pickAttrs from '../_util/pickAttrs';\nimport { useProvideExpandedRow } from './context/ExpandedRowContext'; // Used for conditions cache\n\nvar EMPTY_DATA = []; // Used for customize scroll\n\nvar EMPTY_SCROLL_TARGET = {};\nexport var INTERNAL_HOOKS = 'rc-table-internal-hook';\nexport default defineComponent({\n  name: 'Table',\n  inheritAttrs: false,\n  props: ['prefixCls', 'data', 'columns', 'rowKey', 'tableLayout', 'scroll', 'rowClassName', 'title', 'footer', 'id', 'showHeader', 'components', 'customRow', 'customHeaderRow', 'direction', 'expandFixed', 'expandColumnWidth', 'expandedRowKeys', 'defaultExpandedRowKeys', 'expandedRowRender', 'expandRowByClick', 'expandIcon', 'onExpand', 'onExpandedRowsChange', 'onUpdate:expandedRowKeys', 'defaultExpandAllRows', 'indentSize', 'expandIconColumnIndex', 'expandedRowClassName', 'childrenColumnName', 'rowExpandable', 'sticky', 'transformColumns', 'internalHooks', 'internalRefs', 'canExpandable', 'onUpdateInternalRefs', 'transformCellText'],\n  slots: ['title', 'footer', 'summary', 'emptyText'],\n  emits: ['expand', 'expandedRowsChange', 'updateInternalRefs', 'update:expandedRowKeys'],\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n        slots = _ref.slots,\n        emit = _ref.emit;\n    var mergedData = computed(function () {\n      return props.data || EMPTY_DATA;\n    });\n    var hasData = computed(function () {\n      return !!mergedData.value.length;\n    }); // ==================== Customize =====================\n\n    var mergedComponents = computed(function () {\n      return mergeObject(props.components, {});\n    });\n\n    var getComponent = function getComponent(path, defaultComponent) {\n      return getPathValue(mergedComponents.value, path) || defaultComponent;\n    };\n\n    var getRowKey = computed(function () {\n      var rowKey = props.rowKey;\n\n      if (typeof rowKey === 'function') {\n        return rowKey;\n      }\n\n      return function (record) {\n        var key = record && record[rowKey];\n\n        if (process.env.NODE_ENV !== 'production') {\n          warning(key !== undefined, 'Each record in table should have a unique `key` prop, or set `rowKey` to an unique primary key.');\n        }\n\n        return key;\n      };\n    }); // ====================== Expand ======================\n\n    var mergedExpandIcon = computed(function () {\n      return props.expandIcon || renderExpandIcon;\n    });\n    var mergedChildrenColumnName = computed(function () {\n      return props.childrenColumnName || 'children';\n    });\n    var expandableType = computed(function () {\n      if (props.expandedRowRender) {\n        return 'row';\n      }\n      /* eslint-disable no-underscore-dangle */\n\n      /**\n       * Fix https://github.com/ant-design/ant-design/issues/21154\n       * This is a workaround to not to break current behavior.\n       * We can remove follow code after final release.\n       *\n       * To other developer:\n       *  Do not use `__PARENT_RENDER_ICON__` in prod since we will remove this when refactor\n       */\n\n\n      if (props.canExpandable || mergedData.value.some(function (record) {\n        return record && _typeof(record) === 'object' && record[mergedChildrenColumnName.value];\n      })) {\n        return 'nest';\n      }\n      /* eslint-enable */\n\n\n      return false;\n    });\n    var innerExpandedKeys = shallowRef([]);\n    var stop = watchEffect(function () {\n      if (props.defaultExpandedRowKeys) {\n        innerExpandedKeys.value = props.defaultExpandedRowKeys;\n      }\n\n      if (props.defaultExpandAllRows) {\n        innerExpandedKeys.value = findAllChildrenKeys(mergedData.value, getRowKey.value, mergedChildrenColumnName.value);\n      }\n    }); // defalutXxxx 仅仅第一次生效\n\n    stop();\n    var mergedExpandedKeys = computed(function () {\n      return new Set(props.expandedRowKeys || innerExpandedKeys.value || []);\n    });\n\n    var onTriggerExpand = function onTriggerExpand(record) {\n      var key = getRowKey.value(record, mergedData.value.indexOf(record));\n      var newExpandedKeys;\n      var hasKey = mergedExpandedKeys.value.has(key);\n\n      if (hasKey) {\n        mergedExpandedKeys.value.delete(key);\n        newExpandedKeys = _toConsumableArray(mergedExpandedKeys.value);\n      } else {\n        newExpandedKeys = [].concat(_toConsumableArray(mergedExpandedKeys.value), [key]);\n      }\n\n      innerExpandedKeys.value = newExpandedKeys;\n      emit('expand', !hasKey, record);\n      emit('update:expandedRowKeys', newExpandedKeys);\n      emit('expandedRowsChange', newExpandedKeys);\n    }; // Warning if use `expandedRowRender` and nest children in the same time\n\n\n    if (process.env.NODE_ENV !== 'production' && props.expandedRowRender && mergedData.value.some(function (record) {\n      return Array.isArray(record === null || record === void 0 ? void 0 : record[mergedChildrenColumnName.value]);\n    })) {\n      warning(false, '`expandedRowRender` should not use with nested Table');\n    }\n\n    var componentWidth = ref(0);\n\n    var _useColumns = useColumns(_objectSpread(_objectSpread({}, toRefs(props)), {}, {\n      // children,\n      expandable: computed(function () {\n        return !!props.expandedRowRender;\n      }),\n      expandedKeys: mergedExpandedKeys,\n      getRowKey: getRowKey,\n      onTriggerExpand: onTriggerExpand,\n      expandIcon: mergedExpandIcon\n    }), computed(function () {\n      return props.internalHooks === INTERNAL_HOOKS ? props.transformColumns : null;\n    })),\n        _useColumns2 = _slicedToArray(_useColumns, 2),\n        columns = _useColumns2[0],\n        flattenColumns = _useColumns2[1];\n\n    var columnContext = computed(function () {\n      return {\n        columns: columns.value,\n        flattenColumns: flattenColumns.value\n      };\n    }); // ====================== Scroll ======================\n\n    var fullTableRef = ref();\n    var scrollHeaderRef = ref();\n    var scrollBodyRef = ref();\n    var scrollBodySizeInfo = ref({\n      scrollWidth: 0,\n      clientWidth: 0\n    });\n    var scrollSummaryRef = ref();\n\n    var _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        pingedLeft = _useState2[0],\n        setPingedLeft = _useState2[1];\n\n    var _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        pingedRight = _useState4[0],\n        setPingedRight = _useState4[1];\n\n    var _useLayoutState = useLayoutState(new Map()),\n        _useLayoutState2 = _slicedToArray(_useLayoutState, 2),\n        colsWidths = _useLayoutState2[0],\n        updateColsWidths = _useLayoutState2[1]; // Convert map to number width\n\n\n    var colsKeys = computed(function () {\n      return getColumnsKey(flattenColumns.value);\n    });\n    var colWidths = computed(function () {\n      return colsKeys.value.map(function (columnKey) {\n        return colsWidths.value.get(columnKey);\n      });\n    });\n    var columnCount = computed(function () {\n      return flattenColumns.value.length;\n    });\n    var stickyOffsets = useStickyOffsets(colWidths, columnCount, toRef(props, 'direction'));\n    var fixHeader = computed(function () {\n      return props.scroll && validateValue(props.scroll.y);\n    });\n    var horizonScroll = computed(function () {\n      return props.scroll && validateValue(props.scroll.x) || Boolean(props.expandFixed);\n    });\n    var fixColumn = computed(function () {\n      return horizonScroll.value && flattenColumns.value.some(function (_ref2) {\n        var fixed = _ref2.fixed;\n        return fixed;\n      });\n    }); // Sticky\n\n    var stickyRef = ref();\n    var stickyState = useSticky(toRef(props, 'sticky'), toRef(props, 'prefixCls'));\n    var summaryFixedInfos = reactive({});\n    var fixFooter = computed(function () {\n      var info = Object.values(summaryFixedInfos)[0];\n      return (fixHeader.value || stickyState.value.isSticky) && info;\n    });\n\n    var summaryCollect = function summaryCollect(uniKey, fixed) {\n      if (fixed) {\n        summaryFixedInfos[uniKey] = fixed;\n      } else {\n        delete summaryFixedInfos[uniKey];\n      }\n    }; // Scroll\n\n\n    var scrollXStyle = ref({});\n    var scrollYStyle = ref({});\n    var scrollTableStyle = ref({});\n    watchEffect(function () {\n      if (fixHeader.value) {\n        scrollYStyle.value = {\n          overflowY: 'scroll',\n          maxHeight: toPx(props.scroll.y)\n        };\n      }\n\n      if (horizonScroll.value) {\n        scrollXStyle.value = {\n          overflowX: 'auto'\n        }; // When no vertical scrollbar, should hide it\n        // https://github.com/ant-design/ant-design/pull/20705\n        // https://github.com/ant-design/ant-design/issues/21879\n\n        if (!fixHeader.value) {\n          scrollYStyle.value = {\n            overflowY: 'hidden'\n          };\n        }\n\n        scrollTableStyle.value = {\n          width: props.scroll.x === true ? 'auto' : toPx(props.scroll.x),\n          minWidth: '100%'\n        };\n      }\n    });\n\n    var onColumnResize = function onColumnResize(columnKey, width) {\n      if (isVisible(fullTableRef.value)) {\n        updateColsWidths(function (widths) {\n          if (widths.get(columnKey) !== width) {\n            var newWidths = new Map(widths);\n            newWidths.set(columnKey, width);\n            return newWidths;\n          }\n\n          return widths;\n        });\n      }\n    };\n\n    var _useTimeoutLock = useTimeoutLock(null),\n        _useTimeoutLock2 = _slicedToArray(_useTimeoutLock, 2),\n        setScrollTarget = _useTimeoutLock2[0],\n        getScrollTarget = _useTimeoutLock2[1];\n\n    function forceScroll(scrollLeft, target) {\n      if (!target) {\n        return;\n      }\n\n      if (typeof target === 'function') {\n        target(scrollLeft);\n        return;\n      }\n\n      var domTarget = target.$el || target;\n\n      if (domTarget.scrollLeft !== scrollLeft) {\n        // eslint-disable-next-line no-param-reassign\n        domTarget.scrollLeft = scrollLeft;\n      }\n    }\n\n    var onScroll = function onScroll(_ref3) {\n      var currentTarget = _ref3.currentTarget,\n          scrollLeft = _ref3.scrollLeft;\n      var isRTL = props.direction === 'rtl';\n      var mergedScrollLeft = typeof scrollLeft === 'number' ? scrollLeft : currentTarget.scrollLeft;\n      var compareTarget = currentTarget || EMPTY_SCROLL_TARGET;\n\n      if (!getScrollTarget() || getScrollTarget() === compareTarget) {\n        var _stickyRef$value;\n\n        setScrollTarget(compareTarget);\n        forceScroll(mergedScrollLeft, scrollHeaderRef.value);\n        forceScroll(mergedScrollLeft, scrollBodyRef.value);\n        forceScroll(mergedScrollLeft, scrollSummaryRef.value);\n        forceScroll(mergedScrollLeft, (_stickyRef$value = stickyRef.value) === null || _stickyRef$value === void 0 ? void 0 : _stickyRef$value.setScrollLeft);\n      }\n\n      if (currentTarget) {\n        var scrollWidth = currentTarget.scrollWidth,\n            clientWidth = currentTarget.clientWidth;\n\n        if (isRTL) {\n          setPingedLeft(-mergedScrollLeft < scrollWidth - clientWidth);\n          setPingedRight(-mergedScrollLeft > 0);\n        } else {\n          setPingedLeft(mergedScrollLeft > 0);\n          setPingedRight(mergedScrollLeft < scrollWidth - clientWidth);\n        }\n      }\n    };\n\n    var triggerOnScroll = function triggerOnScroll() {\n      if (horizonScroll.value && scrollBodyRef.value) {\n        onScroll({\n          currentTarget: scrollBodyRef.value\n        });\n      } else {\n        setPingedLeft(false);\n        setPingedRight(false);\n      }\n    };\n\n    var timtout;\n\n    var updateWidth = function updateWidth(width) {\n      if (width !== componentWidth.value) {\n        triggerOnScroll();\n        componentWidth.value = fullTableRef.value ? fullTableRef.value.offsetWidth : width;\n      }\n    };\n\n    var onFullTableResize = function onFullTableResize(_ref4) {\n      var width = _ref4.width;\n      clearTimeout(timtout);\n\n      if (componentWidth.value === 0) {\n        updateWidth(width);\n        return;\n      }\n\n      timtout = setTimeout(function () {\n        updateWidth(width);\n      }, 100);\n    };\n\n    watch([horizonScroll, function () {\n      return props.data;\n    }, function () {\n      return props.columns;\n    }], function () {\n      if (horizonScroll.value) {\n        triggerOnScroll();\n      }\n    }, {\n      flush: 'post'\n    });\n\n    var _useState5 = useState(0),\n        _useState6 = _slicedToArray(_useState5, 2),\n        scrollbarSize = _useState6[0],\n        setScrollbarSize = _useState6[1];\n\n    useProvideSticky();\n    onMounted(function () {\n      nextTick(function () {\n        var _scrollBodyRef$value, _scrollBodyRef$value2;\n\n        triggerOnScroll();\n        setScrollbarSize(getTargetScrollBarSize(scrollBodyRef.value).width);\n        scrollBodySizeInfo.value = {\n          scrollWidth: ((_scrollBodyRef$value = scrollBodyRef.value) === null || _scrollBodyRef$value === void 0 ? void 0 : _scrollBodyRef$value.scrollWidth) || 0,\n          clientWidth: ((_scrollBodyRef$value2 = scrollBodyRef.value) === null || _scrollBodyRef$value2 === void 0 ? void 0 : _scrollBodyRef$value2.clientWidth) || 0\n        };\n      });\n    });\n    onUpdated(function () {\n      nextTick(function () {\n        var _scrollBodyRef$value3, _scrollBodyRef$value4;\n\n        var scrollWidth = ((_scrollBodyRef$value3 = scrollBodyRef.value) === null || _scrollBodyRef$value3 === void 0 ? void 0 : _scrollBodyRef$value3.scrollWidth) || 0;\n        var clientWidth = ((_scrollBodyRef$value4 = scrollBodyRef.value) === null || _scrollBodyRef$value4 === void 0 ? void 0 : _scrollBodyRef$value4.clientWidth) || 0;\n\n        if (scrollBodySizeInfo.value.scrollWidth !== scrollWidth || scrollBodySizeInfo.value.clientWidth !== clientWidth) {\n          scrollBodySizeInfo.value = {\n            scrollWidth: scrollWidth,\n            clientWidth: clientWidth\n          };\n        }\n      });\n    });\n    watchEffect(function () {\n      if (props.internalHooks === INTERNAL_HOOKS && props.internalRefs) {\n        props.onUpdateInternalRefs({\n          body: scrollBodyRef.value ? scrollBodyRef.value.$el || scrollBodyRef.value : null\n        });\n      }\n    }, {\n      flush: 'post'\n    }); // Table layout\n\n    var mergedTableLayout = computed(function () {\n      if (props.tableLayout) {\n        return props.tableLayout;\n      } // https://github.com/ant-design/ant-design/issues/25227\n      // When scroll.x is max-content, no need to fix table layout\n      // it's width should stretch out to fit content\n\n\n      if (fixColumn.value) {\n        return props.scroll.x === 'max-content' ? 'auto' : 'fixed';\n      }\n\n      if (fixHeader.value || stickyState.value.isSticky || flattenColumns.value.some(function (_ref5) {\n        var ellipsis = _ref5.ellipsis;\n        return ellipsis;\n      })) {\n        return 'fixed';\n      }\n\n      return 'auto';\n    });\n\n    var emptyNode = function emptyNode() {\n      var _slots$emptyText;\n\n      return hasData.value ? null : ((_slots$emptyText = slots.emptyText) === null || _slots$emptyText === void 0 ? void 0 : _slots$emptyText.call(slots)) || 'No Data';\n    };\n\n    useProvideTable(reactive(_objectSpread(_objectSpread({}, toRefs(reactivePick(props, 'prefixCls', 'direction', 'transformCellText'))), {}, {\n      getComponent: getComponent,\n      scrollbarSize: scrollbarSize,\n      fixedInfoList: computed(function () {\n        return flattenColumns.value.map(function (_, colIndex) {\n          return getCellFixedInfo(colIndex, colIndex, flattenColumns.value, stickyOffsets.value, props.direction);\n        });\n      }),\n      isSticky: computed(function () {\n        return stickyState.value.isSticky;\n      }),\n      summaryCollect: summaryCollect\n    })));\n    useProvideBody(reactive(_objectSpread(_objectSpread({}, toRefs(reactivePick(props, 'rowClassName', 'expandedRowClassName', 'expandRowByClick', 'expandedRowRender', 'expandIconColumnIndex', 'indentSize'))), {}, {\n      columns: columns,\n      flattenColumns: flattenColumns,\n      tableLayout: mergedTableLayout,\n      expandIcon: mergedExpandIcon,\n      expandableType: expandableType,\n      onTriggerExpand: onTriggerExpand\n    })));\n    useProvideResize({\n      onColumnResize: onColumnResize\n    });\n    useProvideExpandedRow({\n      componentWidth: componentWidth,\n      fixHeader: fixHeader,\n      fixColumn: fixColumn,\n      horizonScroll: horizonScroll\n    }); // Body\n\n    var bodyTable = function bodyTable() {\n      return _createVNode(Body, {\n        \"data\": mergedData.value,\n        \"measureColumnWidth\": fixHeader.value || horizonScroll.value || stickyState.value.isSticky,\n        \"expandedKeys\": mergedExpandedKeys.value,\n        \"rowExpandable\": props.rowExpandable,\n        \"getRowKey\": getRowKey.value,\n        \"customRow\": props.customRow,\n        \"childrenColumnName\": mergedChildrenColumnName.value\n      }, {\n        emptyNode: emptyNode\n      });\n    };\n\n    var bodyColGroup = function bodyColGroup() {\n      return _createVNode(ColGroup, {\n        \"colWidths\": flattenColumns.value.map(function (_ref6) {\n          var width = _ref6.width;\n          return width;\n        }),\n        \"columns\": flattenColumns.value\n      }, null);\n    };\n\n    return function () {\n      var _slots$summary;\n\n      var prefixCls = props.prefixCls,\n          scroll = props.scroll,\n          tableLayout = props.tableLayout,\n          direction = props.direction,\n          _props$title = props.title,\n          title = _props$title === void 0 ? slots.title : _props$title,\n          _props$footer = props.footer,\n          footer = _props$footer === void 0 ? slots.footer : _props$footer,\n          id = props.id,\n          showHeader = props.showHeader,\n          customHeaderRow = props.customHeaderRow;\n      var _stickyState$value = stickyState.value,\n          isSticky = _stickyState$value.isSticky,\n          offsetHeader = _stickyState$value.offsetHeader,\n          offsetSummary = _stickyState$value.offsetSummary,\n          offsetScroll = _stickyState$value.offsetScroll,\n          stickyClassName = _stickyState$value.stickyClassName,\n          container = _stickyState$value.container;\n      var TableComponent = getComponent(['table'], 'table');\n      var customizeScrollBody = getComponent(['body']);\n      var summaryNode = (_slots$summary = slots.summary) === null || _slots$summary === void 0 ? void 0 : _slots$summary.call(slots, {\n        pageData: mergedData.value\n      });\n\n      var groupTableNode = function groupTableNode() {\n        return null;\n      }; // Header props\n\n\n      var headerProps = {\n        colWidths: colWidths.value,\n        columCount: flattenColumns.value.length,\n        stickyOffsets: stickyOffsets.value,\n        customHeaderRow: customHeaderRow,\n        fixHeader: fixHeader.value,\n        scroll: scroll\n      };\n\n      if (process.env.NODE_ENV !== 'production' && typeof customizeScrollBody === 'function' && hasData.value && !fixHeader.value) {\n        warning(false, '`components.body` with render props is only work on `scroll.y`.');\n      }\n\n      if (fixHeader.value || isSticky) {\n        // >>>>>> Fixed Header\n        var bodyContent = function bodyContent() {\n          return null;\n        };\n\n        if (typeof customizeScrollBody === 'function') {\n          bodyContent = function bodyContent() {\n            return customizeScrollBody(mergedData.value, {\n              scrollbarSize: scrollbarSize.value,\n              ref: scrollBodyRef,\n              onScroll: onScroll\n            });\n          };\n\n          headerProps.colWidths = flattenColumns.value.map(function (_ref7, index) {\n            var width = _ref7.width;\n            var colWidth = index === columns.value.length - 1 ? width - scrollbarSize.value : width;\n\n            if (typeof colWidth === 'number' && !Number.isNaN(colWidth)) {\n              return colWidth;\n            }\n\n            warning(false, 'When use `components.body` with render props. Each column should have a fixed `width` value.');\n            return 0;\n          });\n        } else {\n          bodyContent = function bodyContent() {\n            return _createVNode(\"div\", {\n              \"style\": _objectSpread(_objectSpread({}, scrollXStyle.value), scrollYStyle.value),\n              \"onScroll\": onScroll,\n              \"ref\": scrollBodyRef,\n              \"class\": classNames(\"\".concat(prefixCls, \"-body\"))\n            }, [_createVNode(TableComponent, {\n              \"style\": _objectSpread(_objectSpread({}, scrollTableStyle.value), {}, {\n                tableLayout: mergedTableLayout.value\n              })\n            }, {\n              default: function _default() {\n                return [bodyColGroup(), bodyTable(), !fixFooter.value && summaryNode && _createVNode(Footer, {\n                  \"stickyOffsets\": stickyOffsets.value,\n                  \"flattenColumns\": flattenColumns.value\n                }, {\n                  default: function _default() {\n                    return [summaryNode];\n                  }\n                })];\n              }\n            })]);\n          };\n        } // Fixed holder share the props\n\n\n        var fixedHolderProps = _objectSpread(_objectSpread(_objectSpread({\n          noData: !mergedData.value.length,\n          maxContentScroll: horizonScroll.value && scroll.x === 'max-content'\n        }, headerProps), columnContext.value), {}, {\n          direction: direction,\n          stickyClassName: stickyClassName,\n          onScroll: onScroll\n        });\n\n        groupTableNode = function groupTableNode() {\n          return _createVNode(_Fragment, null, [showHeader !== false && _createVNode(FixedHolder, _objectSpread(_objectSpread({}, fixedHolderProps), {}, {\n            \"stickyTopOffset\": offsetHeader,\n            \"class\": \"\".concat(prefixCls, \"-header\"),\n            \"ref\": scrollHeaderRef\n          }), {\n            default: function _default(fixedHolderPassProps) {\n              return _createVNode(_Fragment, null, [_createVNode(Header, fixedHolderPassProps, null), fixFooter.value === 'top' && _createVNode(Footer, fixedHolderPassProps, {\n                default: function _default() {\n                  return [summaryNode];\n                }\n              })]);\n            }\n          }), bodyContent(), fixFooter.value && fixFooter.value !== 'top' && _createVNode(FixedHolder, _objectSpread(_objectSpread({}, fixedHolderProps), {}, {\n            \"stickyBottomOffset\": offsetSummary,\n            \"class\": \"\".concat(prefixCls, \"-summary\"),\n            \"ref\": scrollSummaryRef\n          }), {\n            default: function _default(fixedHolderPassProps) {\n              return _createVNode(Footer, fixedHolderPassProps, {\n                default: function _default() {\n                  return [summaryNode];\n                }\n              });\n            }\n          }), isSticky && scrollBodyRef.value && _createVNode(StickyScrollBar, {\n            \"ref\": stickyRef,\n            \"offsetScroll\": offsetScroll,\n            \"scrollBodyRef\": scrollBodyRef,\n            \"onScroll\": onScroll,\n            \"container\": container,\n            \"scrollBodySizeInfo\": scrollBodySizeInfo.value\n          }, null)]);\n        };\n      } else {\n        // >>>>>> Unique table\n        groupTableNode = function groupTableNode() {\n          return _createVNode(\"div\", {\n            \"style\": _objectSpread(_objectSpread({}, scrollXStyle.value), scrollYStyle.value),\n            \"class\": classNames(\"\".concat(prefixCls, \"-content\")),\n            \"onScroll\": onScroll,\n            \"ref\": scrollBodyRef\n          }, [_createVNode(TableComponent, {\n            \"style\": _objectSpread(_objectSpread({}, scrollTableStyle.value), {}, {\n              tableLayout: mergedTableLayout.value\n            })\n          }, {\n            default: function _default() {\n              return [bodyColGroup(), showHeader !== false && _createVNode(Header, _objectSpread(_objectSpread({}, headerProps), columnContext.value), null), bodyTable(), summaryNode && _createVNode(Footer, {\n                \"stickyOffsets\": stickyOffsets.value,\n                \"flattenColumns\": flattenColumns.value\n              }, {\n                default: function _default() {\n                  return [summaryNode];\n                }\n              })];\n            }\n          })]);\n        };\n      }\n\n      var ariaProps = pickAttrs(attrs, {\n        aria: true,\n        data: true\n      });\n\n      var fullTable = function fullTable() {\n        var _classNames;\n\n        return _createVNode(\"div\", _objectSpread(_objectSpread({}, ariaProps), {}, {\n          \"class\": classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-ping-left\"), pingedLeft.value), _defineProperty(_classNames, \"\".concat(prefixCls, \"-ping-right\"), pingedRight.value), _defineProperty(_classNames, \"\".concat(prefixCls, \"-layout-fixed\"), tableLayout === 'fixed'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-fixed-header\"), fixHeader.value), _defineProperty(_classNames, \"\".concat(prefixCls, \"-fixed-column\"), fixColumn.value), _defineProperty(_classNames, \"\".concat(prefixCls, \"-scroll-horizontal\"), horizonScroll.value), _defineProperty(_classNames, \"\".concat(prefixCls, \"-has-fix-left\"), flattenColumns.value[0] && flattenColumns.value[0].fixed), _defineProperty(_classNames, \"\".concat(prefixCls, \"-has-fix-right\"), flattenColumns.value[columnCount.value - 1] && flattenColumns.value[columnCount.value - 1].fixed === 'right'), _defineProperty(_classNames, attrs.class, attrs.class), _classNames)),\n          \"style\": attrs.style,\n          \"id\": id,\n          \"ref\": fullTableRef\n        }), [title && _createVNode(Panel, {\n          \"class\": \"\".concat(prefixCls, \"-title\")\n        }, {\n          default: function _default() {\n            return [title(mergedData.value)];\n          }\n        }), _createVNode(\"div\", {\n          \"class\": \"\".concat(prefixCls, \"-container\")\n        }, [groupTableNode()]), footer && _createVNode(Panel, {\n          \"class\": \"\".concat(prefixCls, \"-footer\")\n        }, {\n          default: function _default() {\n            return [footer(mergedData.value)];\n          }\n        })]);\n      };\n\n      if (horizonScroll.value) {\n        return _createVNode(VCResizeObserver, {\n          \"onResize\": onFullTableResize\n        }, {\n          default: fullTable\n        });\n      }\n\n      return fullTable();\n    };\n  }\n});","map":{"version":3,"names":["_defineProperty","_objectSpread","_slicedToArray","_toConsumableArray","_typeof","Fragment","_Fragment","createVNode","_createVNode","resolveDirective","_resolveDirective","Header","Body","useColumns","useLayoutState","useTimeoutLock","getPathValue","mergeObject","validateValue","getColumnsKey","useStickyOffsets","ColGroup","Panel","Footer","findAllChildrenKeys","renderExpandIcon","getCellFixedInfo","StickyScrollBar","useSticky","FixedHolder","onUpdated","computed","defineComponent","nextTick","onMounted","reactive","ref","shallowRef","toRef","toRefs","watch","watchEffect","warning","reactivePick","useState","toPx","isVisible","getTargetScrollBarSize","classNames","VCResizeObserver","useProvideTable","useProvideBody","useProvideResize","useProvideSticky","pickAttrs","useProvideExpandedRow","EMPTY_DATA","EMPTY_SCROLL_TARGET","INTERNAL_HOOKS","name","inheritAttrs","props","slots","emits","setup","_ref","attrs","emit","mergedData","data","hasData","value","length","mergedComponents","components","getComponent","path","defaultComponent","getRowKey","rowKey","record","key","process","env","NODE_ENV","undefined","mergedExpandIcon","expandIcon","mergedChildrenColumnName","childrenColumnName","expandableType","expandedRowRender","canExpandable","some","innerExpandedKeys","stop","defaultExpandedRowKeys","defaultExpandAllRows","mergedExpandedKeys","Set","expandedRowKeys","onTriggerExpand","indexOf","newExpandedKeys","hasKey","has","delete","concat","Array","isArray","componentWidth","_useColumns","expandable","expandedKeys","internalHooks","transformColumns","_useColumns2","columns","flattenColumns","columnContext","fullTableRef","scrollHeaderRef","scrollBodyRef","scrollBodySizeInfo","scrollWidth","clientWidth","scrollSummaryRef","_useState","_useState2","pingedLeft","setPingedLeft","_useState3","_useState4","pingedRight","setPingedRight","_useLayoutState","Map","_useLayoutState2","colsWidths","updateColsWidths","colsKeys","colWidths","map","columnKey","get","columnCount","stickyOffsets","fixHeader","scroll","y","horizonScroll","x","Boolean","expandFixed","fixColumn","_ref2","fixed","stickyRef","stickyState","summaryFixedInfos","fixFooter","info","Object","values","isSticky","summaryCollect","uniKey","scrollXStyle","scrollYStyle","scrollTableStyle","overflowY","maxHeight","overflowX","width","minWidth","onColumnResize","widths","newWidths","set","_useTimeoutLock","_useTimeoutLock2","setScrollTarget","getScrollTarget","forceScroll","scrollLeft","target","domTarget","$el","onScroll","_ref3","currentTarget","isRTL","direction","mergedScrollLeft","compareTarget","_stickyRef$value","setScrollLeft","triggerOnScroll","timtout","updateWidth","offsetWidth","onFullTableResize","_ref4","clearTimeout","setTimeout","flush","_useState5","_useState6","scrollbarSize","setScrollbarSize","_scrollBodyRef$value","_scrollBodyRef$value2","_scrollBodyRef$value3","_scrollBodyRef$value4","internalRefs","onUpdateInternalRefs","body","mergedTableLayout","tableLayout","_ref5","ellipsis","emptyNode","_slots$emptyText","emptyText","call","fixedInfoList","_","colIndex","bodyTable","rowExpandable","customRow","bodyColGroup","_ref6","_slots$summary","prefixCls","_props$title","title","_props$footer","footer","id","showHeader","customHeaderRow","_stickyState$value","offsetHeader","offsetSummary","offsetScroll","stickyClassName","container","TableComponent","customizeScrollBody","summaryNode","summary","pageData","groupTableNode","headerProps","columCount","bodyContent","_ref7","index","colWidth","Number","isNaN","default","_default","fixedHolderProps","noData","maxContentScroll","fixedHolderPassProps","ariaProps","aria","fullTable","_classNames","class","style"],"sources":["/Users/jasonti/Desktop/Tripper/vue/node_modules/ant-design-vue/es/vc-table/Table.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport { Fragment as _Fragment, createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport Header from './Header/Header';\nimport Body from './Body';\nimport useColumns from './hooks/useColumns';\nimport { useLayoutState, useTimeoutLock } from './hooks/useFrame';\nimport { getPathValue, mergeObject, validateValue, getColumnsKey } from './utils/valueUtil';\nimport useStickyOffsets from './hooks/useStickyOffsets';\nimport ColGroup from './ColGroup';\nimport Panel from './Panel';\nimport Footer from './Footer';\nimport { findAllChildrenKeys, renderExpandIcon } from './utils/expandUtil';\nimport { getCellFixedInfo } from './utils/fixUtil';\nimport StickyScrollBar from './stickyScrollBar';\nimport useSticky from './hooks/useSticky';\nimport FixedHolder from './FixedHolder';\nimport { onUpdated, computed, defineComponent, nextTick, onMounted, reactive, ref, shallowRef, toRef, toRefs, watch, watchEffect } from 'vue';\nimport { warning } from '../vc-util/warning';\nimport { reactivePick } from '../_util/reactivePick';\nimport useState from '../_util/hooks/useState';\nimport { toPx } from '../_util/util';\nimport isVisible from '../vc-util/Dom/isVisible';\nimport { getTargetScrollBarSize } from '../_util/getScrollBarSize';\nimport classNames from '../_util/classNames';\nimport VCResizeObserver from '../vc-resize-observer';\nimport { useProvideTable } from './context/TableContext';\nimport { useProvideBody } from './context/BodyContext';\nimport { useProvideResize } from './context/ResizeContext';\nimport { useProvideSticky } from './context/StickyContext';\nimport pickAttrs from '../_util/pickAttrs';\nimport { useProvideExpandedRow } from './context/ExpandedRowContext';\n// Used for conditions cache\nvar EMPTY_DATA = [];\n// Used for customize scroll\nvar EMPTY_SCROLL_TARGET = {};\nexport var INTERNAL_HOOKS = 'rc-table-internal-hook';\nexport default defineComponent({\n  name: 'Table',\n  inheritAttrs: false,\n  props: ['prefixCls', 'data', 'columns', 'rowKey', 'tableLayout', 'scroll', 'rowClassName', 'title', 'footer', 'id', 'showHeader', 'components', 'customRow', 'customHeaderRow', 'direction', 'expandFixed', 'expandColumnWidth', 'expandedRowKeys', 'defaultExpandedRowKeys', 'expandedRowRender', 'expandRowByClick', 'expandIcon', 'onExpand', 'onExpandedRowsChange', 'onUpdate:expandedRowKeys', 'defaultExpandAllRows', 'indentSize', 'expandIconColumnIndex', 'expandedRowClassName', 'childrenColumnName', 'rowExpandable', 'sticky', 'transformColumns', 'internalHooks', 'internalRefs', 'canExpandable', 'onUpdateInternalRefs', 'transformCellText'],\n  slots: ['title', 'footer', 'summary', 'emptyText'],\n  emits: ['expand', 'expandedRowsChange', 'updateInternalRefs', 'update:expandedRowKeys'],\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n      slots = _ref.slots,\n      emit = _ref.emit;\n    var mergedData = computed(function () {\n      return props.data || EMPTY_DATA;\n    });\n    var hasData = computed(function () {\n      return !!mergedData.value.length;\n    });\n    // ==================== Customize =====================\n    var mergedComponents = computed(function () {\n      return mergeObject(props.components, {});\n    });\n    var getComponent = function getComponent(path, defaultComponent) {\n      return getPathValue(mergedComponents.value, path) || defaultComponent;\n    };\n    var getRowKey = computed(function () {\n      var rowKey = props.rowKey;\n      if (typeof rowKey === 'function') {\n        return rowKey;\n      }\n      return function (record) {\n        var key = record && record[rowKey];\n        if (process.env.NODE_ENV !== 'production') {\n          warning(key !== undefined, 'Each record in table should have a unique `key` prop, or set `rowKey` to an unique primary key.');\n        }\n        return key;\n      };\n    });\n    // ====================== Expand ======================\n    var mergedExpandIcon = computed(function () {\n      return props.expandIcon || renderExpandIcon;\n    });\n    var mergedChildrenColumnName = computed(function () {\n      return props.childrenColumnName || 'children';\n    });\n    var expandableType = computed(function () {\n      if (props.expandedRowRender) {\n        return 'row';\n      }\n      /* eslint-disable no-underscore-dangle */\n      /**\n       * Fix https://github.com/ant-design/ant-design/issues/21154\n       * This is a workaround to not to break current behavior.\n       * We can remove follow code after final release.\n       *\n       * To other developer:\n       *  Do not use `__PARENT_RENDER_ICON__` in prod since we will remove this when refactor\n       */\n      if (props.canExpandable || mergedData.value.some(function (record) {\n        return record && _typeof(record) === 'object' && record[mergedChildrenColumnName.value];\n      })) {\n        return 'nest';\n      }\n      /* eslint-enable */\n      return false;\n    });\n    var innerExpandedKeys = shallowRef([]);\n    var stop = watchEffect(function () {\n      if (props.defaultExpandedRowKeys) {\n        innerExpandedKeys.value = props.defaultExpandedRowKeys;\n      }\n      if (props.defaultExpandAllRows) {\n        innerExpandedKeys.value = findAllChildrenKeys(mergedData.value, getRowKey.value, mergedChildrenColumnName.value);\n      }\n    });\n    // defalutXxxx 仅仅第一次生效\n    stop();\n    var mergedExpandedKeys = computed(function () {\n      return new Set(props.expandedRowKeys || innerExpandedKeys.value || []);\n    });\n    var onTriggerExpand = function onTriggerExpand(record) {\n      var key = getRowKey.value(record, mergedData.value.indexOf(record));\n      var newExpandedKeys;\n      var hasKey = mergedExpandedKeys.value.has(key);\n      if (hasKey) {\n        mergedExpandedKeys.value.delete(key);\n        newExpandedKeys = _toConsumableArray(mergedExpandedKeys.value);\n      } else {\n        newExpandedKeys = [].concat(_toConsumableArray(mergedExpandedKeys.value), [key]);\n      }\n      innerExpandedKeys.value = newExpandedKeys;\n      emit('expand', !hasKey, record);\n      emit('update:expandedRowKeys', newExpandedKeys);\n      emit('expandedRowsChange', newExpandedKeys);\n    };\n    // Warning if use `expandedRowRender` and nest children in the same time\n    if (process.env.NODE_ENV !== 'production' && props.expandedRowRender && mergedData.value.some(function (record) {\n      return Array.isArray(record === null || record === void 0 ? void 0 : record[mergedChildrenColumnName.value]);\n    })) {\n      warning(false, '`expandedRowRender` should not use with nested Table');\n    }\n    var componentWidth = ref(0);\n    var _useColumns = useColumns(_objectSpread(_objectSpread({}, toRefs(props)), {}, {\n        // children,\n        expandable: computed(function () {\n          return !!props.expandedRowRender;\n        }),\n        expandedKeys: mergedExpandedKeys,\n        getRowKey: getRowKey,\n        onTriggerExpand: onTriggerExpand,\n        expandIcon: mergedExpandIcon\n      }), computed(function () {\n        return props.internalHooks === INTERNAL_HOOKS ? props.transformColumns : null;\n      })),\n      _useColumns2 = _slicedToArray(_useColumns, 2),\n      columns = _useColumns2[0],\n      flattenColumns = _useColumns2[1];\n    var columnContext = computed(function () {\n      return {\n        columns: columns.value,\n        flattenColumns: flattenColumns.value\n      };\n    });\n    // ====================== Scroll ======================\n    var fullTableRef = ref();\n    var scrollHeaderRef = ref();\n    var scrollBodyRef = ref();\n    var scrollBodySizeInfo = ref({\n      scrollWidth: 0,\n      clientWidth: 0\n    });\n    var scrollSummaryRef = ref();\n    var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      pingedLeft = _useState2[0],\n      setPingedLeft = _useState2[1];\n    var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      pingedRight = _useState4[0],\n      setPingedRight = _useState4[1];\n    var _useLayoutState = useLayoutState(new Map()),\n      _useLayoutState2 = _slicedToArray(_useLayoutState, 2),\n      colsWidths = _useLayoutState2[0],\n      updateColsWidths = _useLayoutState2[1];\n    // Convert map to number width\n    var colsKeys = computed(function () {\n      return getColumnsKey(flattenColumns.value);\n    });\n    var colWidths = computed(function () {\n      return colsKeys.value.map(function (columnKey) {\n        return colsWidths.value.get(columnKey);\n      });\n    });\n    var columnCount = computed(function () {\n      return flattenColumns.value.length;\n    });\n    var stickyOffsets = useStickyOffsets(colWidths, columnCount, toRef(props, 'direction'));\n    var fixHeader = computed(function () {\n      return props.scroll && validateValue(props.scroll.y);\n    });\n    var horizonScroll = computed(function () {\n      return props.scroll && validateValue(props.scroll.x) || Boolean(props.expandFixed);\n    });\n    var fixColumn = computed(function () {\n      return horizonScroll.value && flattenColumns.value.some(function (_ref2) {\n        var fixed = _ref2.fixed;\n        return fixed;\n      });\n    });\n    // Sticky\n    var stickyRef = ref();\n    var stickyState = useSticky(toRef(props, 'sticky'), toRef(props, 'prefixCls'));\n    var summaryFixedInfos = reactive({});\n    var fixFooter = computed(function () {\n      var info = Object.values(summaryFixedInfos)[0];\n      return (fixHeader.value || stickyState.value.isSticky) && info;\n    });\n    var summaryCollect = function summaryCollect(uniKey, fixed) {\n      if (fixed) {\n        summaryFixedInfos[uniKey] = fixed;\n      } else {\n        delete summaryFixedInfos[uniKey];\n      }\n    };\n    // Scroll\n    var scrollXStyle = ref({});\n    var scrollYStyle = ref({});\n    var scrollTableStyle = ref({});\n    watchEffect(function () {\n      if (fixHeader.value) {\n        scrollYStyle.value = {\n          overflowY: 'scroll',\n          maxHeight: toPx(props.scroll.y)\n        };\n      }\n      if (horizonScroll.value) {\n        scrollXStyle.value = {\n          overflowX: 'auto'\n        };\n        // When no vertical scrollbar, should hide it\n        // https://github.com/ant-design/ant-design/pull/20705\n        // https://github.com/ant-design/ant-design/issues/21879\n        if (!fixHeader.value) {\n          scrollYStyle.value = {\n            overflowY: 'hidden'\n          };\n        }\n        scrollTableStyle.value = {\n          width: props.scroll.x === true ? 'auto' : toPx(props.scroll.x),\n          minWidth: '100%'\n        };\n      }\n    });\n    var onColumnResize = function onColumnResize(columnKey, width) {\n      if (isVisible(fullTableRef.value)) {\n        updateColsWidths(function (widths) {\n          if (widths.get(columnKey) !== width) {\n            var newWidths = new Map(widths);\n            newWidths.set(columnKey, width);\n            return newWidths;\n          }\n          return widths;\n        });\n      }\n    };\n    var _useTimeoutLock = useTimeoutLock(null),\n      _useTimeoutLock2 = _slicedToArray(_useTimeoutLock, 2),\n      setScrollTarget = _useTimeoutLock2[0],\n      getScrollTarget = _useTimeoutLock2[1];\n    function forceScroll(scrollLeft, target) {\n      if (!target) {\n        return;\n      }\n      if (typeof target === 'function') {\n        target(scrollLeft);\n        return;\n      }\n      var domTarget = target.$el || target;\n      if (domTarget.scrollLeft !== scrollLeft) {\n        // eslint-disable-next-line no-param-reassign\n        domTarget.scrollLeft = scrollLeft;\n      }\n    }\n    var onScroll = function onScroll(_ref3) {\n      var currentTarget = _ref3.currentTarget,\n        scrollLeft = _ref3.scrollLeft;\n      var isRTL = props.direction === 'rtl';\n      var mergedScrollLeft = typeof scrollLeft === 'number' ? scrollLeft : currentTarget.scrollLeft;\n      var compareTarget = currentTarget || EMPTY_SCROLL_TARGET;\n      if (!getScrollTarget() || getScrollTarget() === compareTarget) {\n        var _stickyRef$value;\n        setScrollTarget(compareTarget);\n        forceScroll(mergedScrollLeft, scrollHeaderRef.value);\n        forceScroll(mergedScrollLeft, scrollBodyRef.value);\n        forceScroll(mergedScrollLeft, scrollSummaryRef.value);\n        forceScroll(mergedScrollLeft, (_stickyRef$value = stickyRef.value) === null || _stickyRef$value === void 0 ? void 0 : _stickyRef$value.setScrollLeft);\n      }\n      if (currentTarget) {\n        var scrollWidth = currentTarget.scrollWidth,\n          clientWidth = currentTarget.clientWidth;\n        if (isRTL) {\n          setPingedLeft(-mergedScrollLeft < scrollWidth - clientWidth);\n          setPingedRight(-mergedScrollLeft > 0);\n        } else {\n          setPingedLeft(mergedScrollLeft > 0);\n          setPingedRight(mergedScrollLeft < scrollWidth - clientWidth);\n        }\n      }\n    };\n    var triggerOnScroll = function triggerOnScroll() {\n      if (horizonScroll.value && scrollBodyRef.value) {\n        onScroll({\n          currentTarget: scrollBodyRef.value\n        });\n      } else {\n        setPingedLeft(false);\n        setPingedRight(false);\n      }\n    };\n    var timtout;\n    var updateWidth = function updateWidth(width) {\n      if (width !== componentWidth.value) {\n        triggerOnScroll();\n        componentWidth.value = fullTableRef.value ? fullTableRef.value.offsetWidth : width;\n      }\n    };\n    var onFullTableResize = function onFullTableResize(_ref4) {\n      var width = _ref4.width;\n      clearTimeout(timtout);\n      if (componentWidth.value === 0) {\n        updateWidth(width);\n        return;\n      }\n      timtout = setTimeout(function () {\n        updateWidth(width);\n      }, 100);\n    };\n    watch([horizonScroll, function () {\n      return props.data;\n    }, function () {\n      return props.columns;\n    }], function () {\n      if (horizonScroll.value) {\n        triggerOnScroll();\n      }\n    }, {\n      flush: 'post'\n    });\n    var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      scrollbarSize = _useState6[0],\n      setScrollbarSize = _useState6[1];\n    useProvideSticky();\n    onMounted(function () {\n      nextTick(function () {\n        var _scrollBodyRef$value, _scrollBodyRef$value2;\n        triggerOnScroll();\n        setScrollbarSize(getTargetScrollBarSize(scrollBodyRef.value).width);\n        scrollBodySizeInfo.value = {\n          scrollWidth: ((_scrollBodyRef$value = scrollBodyRef.value) === null || _scrollBodyRef$value === void 0 ? void 0 : _scrollBodyRef$value.scrollWidth) || 0,\n          clientWidth: ((_scrollBodyRef$value2 = scrollBodyRef.value) === null || _scrollBodyRef$value2 === void 0 ? void 0 : _scrollBodyRef$value2.clientWidth) || 0\n        };\n      });\n    });\n    onUpdated(function () {\n      nextTick(function () {\n        var _scrollBodyRef$value3, _scrollBodyRef$value4;\n        var scrollWidth = ((_scrollBodyRef$value3 = scrollBodyRef.value) === null || _scrollBodyRef$value3 === void 0 ? void 0 : _scrollBodyRef$value3.scrollWidth) || 0;\n        var clientWidth = ((_scrollBodyRef$value4 = scrollBodyRef.value) === null || _scrollBodyRef$value4 === void 0 ? void 0 : _scrollBodyRef$value4.clientWidth) || 0;\n        if (scrollBodySizeInfo.value.scrollWidth !== scrollWidth || scrollBodySizeInfo.value.clientWidth !== clientWidth) {\n          scrollBodySizeInfo.value = {\n            scrollWidth: scrollWidth,\n            clientWidth: clientWidth\n          };\n        }\n      });\n    });\n    watchEffect(function () {\n      if (props.internalHooks === INTERNAL_HOOKS && props.internalRefs) {\n        props.onUpdateInternalRefs({\n          body: scrollBodyRef.value ? scrollBodyRef.value.$el || scrollBodyRef.value : null\n        });\n      }\n    }, {\n      flush: 'post'\n    });\n    // Table layout\n    var mergedTableLayout = computed(function () {\n      if (props.tableLayout) {\n        return props.tableLayout;\n      }\n      // https://github.com/ant-design/ant-design/issues/25227\n      // When scroll.x is max-content, no need to fix table layout\n      // it's width should stretch out to fit content\n      if (fixColumn.value) {\n        return props.scroll.x === 'max-content' ? 'auto' : 'fixed';\n      }\n      if (fixHeader.value || stickyState.value.isSticky || flattenColumns.value.some(function (_ref5) {\n        var ellipsis = _ref5.ellipsis;\n        return ellipsis;\n      })) {\n        return 'fixed';\n      }\n      return 'auto';\n    });\n    var emptyNode = function emptyNode() {\n      var _slots$emptyText;\n      return hasData.value ? null : ((_slots$emptyText = slots.emptyText) === null || _slots$emptyText === void 0 ? void 0 : _slots$emptyText.call(slots)) || 'No Data';\n    };\n    useProvideTable(reactive(_objectSpread(_objectSpread({}, toRefs(reactivePick(props, 'prefixCls', 'direction', 'transformCellText'))), {}, {\n      getComponent: getComponent,\n      scrollbarSize: scrollbarSize,\n      fixedInfoList: computed(function () {\n        return flattenColumns.value.map(function (_, colIndex) {\n          return getCellFixedInfo(colIndex, colIndex, flattenColumns.value, stickyOffsets.value, props.direction);\n        });\n      }),\n      isSticky: computed(function () {\n        return stickyState.value.isSticky;\n      }),\n      summaryCollect: summaryCollect\n    })));\n    useProvideBody(reactive(_objectSpread(_objectSpread({}, toRefs(reactivePick(props, 'rowClassName', 'expandedRowClassName', 'expandRowByClick', 'expandedRowRender', 'expandIconColumnIndex', 'indentSize'))), {}, {\n      columns: columns,\n      flattenColumns: flattenColumns,\n      tableLayout: mergedTableLayout,\n      expandIcon: mergedExpandIcon,\n      expandableType: expandableType,\n      onTriggerExpand: onTriggerExpand\n    })));\n    useProvideResize({\n      onColumnResize: onColumnResize\n    });\n    useProvideExpandedRow({\n      componentWidth: componentWidth,\n      fixHeader: fixHeader,\n      fixColumn: fixColumn,\n      horizonScroll: horizonScroll\n    });\n    // Body\n    var bodyTable = function bodyTable() {\n      return _createVNode(Body, {\n        \"data\": mergedData.value,\n        \"measureColumnWidth\": fixHeader.value || horizonScroll.value || stickyState.value.isSticky,\n        \"expandedKeys\": mergedExpandedKeys.value,\n        \"rowExpandable\": props.rowExpandable,\n        \"getRowKey\": getRowKey.value,\n        \"customRow\": props.customRow,\n        \"childrenColumnName\": mergedChildrenColumnName.value\n      }, {\n        emptyNode: emptyNode\n      });\n    };\n    var bodyColGroup = function bodyColGroup() {\n      return _createVNode(ColGroup, {\n        \"colWidths\": flattenColumns.value.map(function (_ref6) {\n          var width = _ref6.width;\n          return width;\n        }),\n        \"columns\": flattenColumns.value\n      }, null);\n    };\n    return function () {\n      var _slots$summary;\n      var prefixCls = props.prefixCls,\n        scroll = props.scroll,\n        tableLayout = props.tableLayout,\n        direction = props.direction,\n        _props$title = props.title,\n        title = _props$title === void 0 ? slots.title : _props$title,\n        _props$footer = props.footer,\n        footer = _props$footer === void 0 ? slots.footer : _props$footer,\n        id = props.id,\n        showHeader = props.showHeader,\n        customHeaderRow = props.customHeaderRow;\n      var _stickyState$value = stickyState.value,\n        isSticky = _stickyState$value.isSticky,\n        offsetHeader = _stickyState$value.offsetHeader,\n        offsetSummary = _stickyState$value.offsetSummary,\n        offsetScroll = _stickyState$value.offsetScroll,\n        stickyClassName = _stickyState$value.stickyClassName,\n        container = _stickyState$value.container;\n      var TableComponent = getComponent(['table'], 'table');\n      var customizeScrollBody = getComponent(['body']);\n      var summaryNode = (_slots$summary = slots.summary) === null || _slots$summary === void 0 ? void 0 : _slots$summary.call(slots, {\n        pageData: mergedData.value\n      });\n      var groupTableNode = function groupTableNode() {\n        return null;\n      };\n      // Header props\n      var headerProps = {\n        colWidths: colWidths.value,\n        columCount: flattenColumns.value.length,\n        stickyOffsets: stickyOffsets.value,\n        customHeaderRow: customHeaderRow,\n        fixHeader: fixHeader.value,\n        scroll: scroll\n      };\n      if (process.env.NODE_ENV !== 'production' && typeof customizeScrollBody === 'function' && hasData.value && !fixHeader.value) {\n        warning(false, '`components.body` with render props is only work on `scroll.y`.');\n      }\n      if (fixHeader.value || isSticky) {\n        // >>>>>> Fixed Header\n        var bodyContent = function bodyContent() {\n          return null;\n        };\n        if (typeof customizeScrollBody === 'function') {\n          bodyContent = function bodyContent() {\n            return customizeScrollBody(mergedData.value, {\n              scrollbarSize: scrollbarSize.value,\n              ref: scrollBodyRef,\n              onScroll: onScroll\n            });\n          };\n          headerProps.colWidths = flattenColumns.value.map(function (_ref7, index) {\n            var width = _ref7.width;\n            var colWidth = index === columns.value.length - 1 ? width - scrollbarSize.value : width;\n            if (typeof colWidth === 'number' && !Number.isNaN(colWidth)) {\n              return colWidth;\n            }\n            warning(false, 'When use `components.body` with render props. Each column should have a fixed `width` value.');\n            return 0;\n          });\n        } else {\n          bodyContent = function bodyContent() {\n            return _createVNode(\"div\", {\n              \"style\": _objectSpread(_objectSpread({}, scrollXStyle.value), scrollYStyle.value),\n              \"onScroll\": onScroll,\n              \"ref\": scrollBodyRef,\n              \"class\": classNames(\"\".concat(prefixCls, \"-body\"))\n            }, [_createVNode(TableComponent, {\n              \"style\": _objectSpread(_objectSpread({}, scrollTableStyle.value), {}, {\n                tableLayout: mergedTableLayout.value\n              })\n            }, {\n              default: function _default() {\n                return [bodyColGroup(), bodyTable(), !fixFooter.value && summaryNode && _createVNode(Footer, {\n                  \"stickyOffsets\": stickyOffsets.value,\n                  \"flattenColumns\": flattenColumns.value\n                }, {\n                  default: function _default() {\n                    return [summaryNode];\n                  }\n                })];\n              }\n            })]);\n          };\n        }\n        // Fixed holder share the props\n        var fixedHolderProps = _objectSpread(_objectSpread(_objectSpread({\n          noData: !mergedData.value.length,\n          maxContentScroll: horizonScroll.value && scroll.x === 'max-content'\n        }, headerProps), columnContext.value), {}, {\n          direction: direction,\n          stickyClassName: stickyClassName,\n          onScroll: onScroll\n        });\n        groupTableNode = function groupTableNode() {\n          return _createVNode(_Fragment, null, [showHeader !== false && _createVNode(FixedHolder, _objectSpread(_objectSpread({}, fixedHolderProps), {}, {\n            \"stickyTopOffset\": offsetHeader,\n            \"class\": \"\".concat(prefixCls, \"-header\"),\n            \"ref\": scrollHeaderRef\n          }), {\n            default: function _default(fixedHolderPassProps) {\n              return _createVNode(_Fragment, null, [_createVNode(Header, fixedHolderPassProps, null), fixFooter.value === 'top' && _createVNode(Footer, fixedHolderPassProps, {\n                default: function _default() {\n                  return [summaryNode];\n                }\n              })]);\n            }\n          }), bodyContent(), fixFooter.value && fixFooter.value !== 'top' && _createVNode(FixedHolder, _objectSpread(_objectSpread({}, fixedHolderProps), {}, {\n            \"stickyBottomOffset\": offsetSummary,\n            \"class\": \"\".concat(prefixCls, \"-summary\"),\n            \"ref\": scrollSummaryRef\n          }), {\n            default: function _default(fixedHolderPassProps) {\n              return _createVNode(Footer, fixedHolderPassProps, {\n                default: function _default() {\n                  return [summaryNode];\n                }\n              });\n            }\n          }), isSticky && scrollBodyRef.value && _createVNode(StickyScrollBar, {\n            \"ref\": stickyRef,\n            \"offsetScroll\": offsetScroll,\n            \"scrollBodyRef\": scrollBodyRef,\n            \"onScroll\": onScroll,\n            \"container\": container,\n            \"scrollBodySizeInfo\": scrollBodySizeInfo.value\n          }, null)]);\n        };\n      } else {\n        // >>>>>> Unique table\n        groupTableNode = function groupTableNode() {\n          return _createVNode(\"div\", {\n            \"style\": _objectSpread(_objectSpread({}, scrollXStyle.value), scrollYStyle.value),\n            \"class\": classNames(\"\".concat(prefixCls, \"-content\")),\n            \"onScroll\": onScroll,\n            \"ref\": scrollBodyRef\n          }, [_createVNode(TableComponent, {\n            \"style\": _objectSpread(_objectSpread({}, scrollTableStyle.value), {}, {\n              tableLayout: mergedTableLayout.value\n            })\n          }, {\n            default: function _default() {\n              return [bodyColGroup(), showHeader !== false && _createVNode(Header, _objectSpread(_objectSpread({}, headerProps), columnContext.value), null), bodyTable(), summaryNode && _createVNode(Footer, {\n                \"stickyOffsets\": stickyOffsets.value,\n                \"flattenColumns\": flattenColumns.value\n              }, {\n                default: function _default() {\n                  return [summaryNode];\n                }\n              })];\n            }\n          })]);\n        };\n      }\n      var ariaProps = pickAttrs(attrs, {\n        aria: true,\n        data: true\n      });\n      var fullTable = function fullTable() {\n        var _classNames;\n        return _createVNode(\"div\", _objectSpread(_objectSpread({}, ariaProps), {}, {\n          \"class\": classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-ping-left\"), pingedLeft.value), _defineProperty(_classNames, \"\".concat(prefixCls, \"-ping-right\"), pingedRight.value), _defineProperty(_classNames, \"\".concat(prefixCls, \"-layout-fixed\"), tableLayout === 'fixed'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-fixed-header\"), fixHeader.value), _defineProperty(_classNames, \"\".concat(prefixCls, \"-fixed-column\"), fixColumn.value), _defineProperty(_classNames, \"\".concat(prefixCls, \"-scroll-horizontal\"), horizonScroll.value), _defineProperty(_classNames, \"\".concat(prefixCls, \"-has-fix-left\"), flattenColumns.value[0] && flattenColumns.value[0].fixed), _defineProperty(_classNames, \"\".concat(prefixCls, \"-has-fix-right\"), flattenColumns.value[columnCount.value - 1] && flattenColumns.value[columnCount.value - 1].fixed === 'right'), _defineProperty(_classNames, attrs.class, attrs.class), _classNames)),\n          \"style\": attrs.style,\n          \"id\": id,\n          \"ref\": fullTableRef\n        }), [title && _createVNode(Panel, {\n          \"class\": \"\".concat(prefixCls, \"-title\")\n        }, {\n          default: function _default() {\n            return [title(mergedData.value)];\n          }\n        }), _createVNode(\"div\", {\n          \"class\": \"\".concat(prefixCls, \"-container\")\n        }, [groupTableNode()]), footer && _createVNode(Panel, {\n          \"class\": \"\".concat(prefixCls, \"-footer\")\n        }, {\n          default: function _default() {\n            return [footer(mergedData.value)];\n          }\n        })]);\n      };\n      if (horizonScroll.value) {\n        return _createVNode(VCResizeObserver, {\n          \"onResize\": onFullTableResize\n        }, {\n          default: fullTable\n        });\n      }\n      return fullTable();\n    };\n  }\n});"],"mappings":"AAAA,OAAOA,eAAP,MAA4B,2CAA5B;AACA,OAAOC,aAAP,MAA0B,0CAA1B;AACA,OAAOC,cAAP,MAA2B,0CAA3B;AACA,OAAOC,kBAAP,MAA+B,8CAA/B;AACA,OAAOC,OAAP,MAAoB,mCAApB;AACA,SAASC,QAAQ,IAAIC,SAArB,EAAgCC,WAAW,IAAIC,YAA/C,EAA6DC,gBAAgB,IAAIC,iBAAjF,QAA0G,KAA1G;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,UAAP,MAAuB,oBAAvB;AACA,SAASC,cAAT,EAAyBC,cAAzB,QAA+C,kBAA/C;AACA,SAASC,YAAT,EAAuBC,WAAvB,EAAoCC,aAApC,EAAmDC,aAAnD,QAAwE,mBAAxE;AACA,OAAOC,gBAAP,MAA6B,0BAA7B;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,mBAAT,EAA8BC,gBAA9B,QAAsD,oBAAtD;AACA,SAASC,gBAAT,QAAiC,iBAAjC;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,SAAP,MAAsB,mBAAtB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,SAAT,EAAoBC,QAApB,EAA8BC,eAA9B,EAA+CC,QAA/C,EAAyDC,SAAzD,EAAoEC,QAApE,EAA8EC,GAA9E,EAAmFC,UAAnF,EAA+FC,KAA/F,EAAsGC,MAAtG,EAA8GC,KAA9G,EAAqHC,WAArH,QAAwI,KAAxI;AACA,SAASC,OAAT,QAAwB,oBAAxB;AACA,SAASC,YAAT,QAA6B,uBAA7B;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,SAASC,IAAT,QAAqB,eAArB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,SAASC,sBAAT,QAAuC,2BAAvC;AACA,OAAOC,UAAP,MAAuB,qBAAvB;AACA,OAAOC,gBAAP,MAA6B,uBAA7B;AACA,SAASC,eAAT,QAAgC,wBAAhC;AACA,SAASC,cAAT,QAA+B,uBAA/B;AACA,SAASC,gBAAT,QAAiC,yBAAjC;AACA,SAASC,gBAAT,QAAiC,yBAAjC;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,SAASC,qBAAT,QAAsC,8BAAtC,C,CACA;;AACA,IAAIC,UAAU,GAAG,EAAjB,C,CACA;;AACA,IAAIC,mBAAmB,GAAG,EAA1B;AACA,OAAO,IAAIC,cAAc,GAAG,wBAArB;AACP,eAAe1B,eAAe,CAAC;EAC7B2B,IAAI,EAAE,OADuB;EAE7BC,YAAY,EAAE,KAFe;EAG7BC,KAAK,EAAE,CAAC,WAAD,EAAc,MAAd,EAAsB,SAAtB,EAAiC,QAAjC,EAA2C,aAA3C,EAA0D,QAA1D,EAAoE,cAApE,EAAoF,OAApF,EAA6F,QAA7F,EAAuG,IAAvG,EAA6G,YAA7G,EAA2H,YAA3H,EAAyI,WAAzI,EAAsJ,iBAAtJ,EAAyK,WAAzK,EAAsL,aAAtL,EAAqM,mBAArM,EAA0N,iBAA1N,EAA6O,wBAA7O,EAAuQ,mBAAvQ,EAA4R,kBAA5R,EAAgT,YAAhT,EAA8T,UAA9T,EAA0U,sBAA1U,EAAkW,0BAAlW,EAA8X,sBAA9X,EAAsZ,YAAtZ,EAAoa,uBAApa,EAA6b,sBAA7b,EAAqd,oBAArd,EAA2e,eAA3e,EAA4f,QAA5f,EAAsgB,kBAAtgB,EAA0hB,eAA1hB,EAA2iB,cAA3iB,EAA2jB,eAA3jB,EAA4kB,sBAA5kB,EAAomB,mBAApmB,CAHsB;EAI7BC,KAAK,EAAE,CAAC,OAAD,EAAU,QAAV,EAAoB,SAApB,EAA+B,WAA/B,CAJsB;EAK7BC,KAAK,EAAE,CAAC,QAAD,EAAW,oBAAX,EAAiC,oBAAjC,EAAuD,wBAAvD,CALsB;EAM7BC,KAAK,EAAE,SAASA,KAAT,CAAeH,KAAf,EAAsBI,IAAtB,EAA4B;IACjC,IAAIC,KAAK,GAAGD,IAAI,CAACC,KAAjB;IAAA,IACEJ,KAAK,GAAGG,IAAI,CAACH,KADf;IAAA,IAEEK,IAAI,GAAGF,IAAI,CAACE,IAFd;IAGA,IAAIC,UAAU,GAAGrC,QAAQ,CAAC,YAAY;MACpC,OAAO8B,KAAK,CAACQ,IAAN,IAAcb,UAArB;IACD,CAFwB,CAAzB;IAGA,IAAIc,OAAO,GAAGvC,QAAQ,CAAC,YAAY;MACjC,OAAO,CAAC,CAACqC,UAAU,CAACG,KAAX,CAAiBC,MAA1B;IACD,CAFqB,CAAtB,CAPiC,CAUjC;;IACA,IAAIC,gBAAgB,GAAG1C,QAAQ,CAAC,YAAY;MAC1C,OAAOd,WAAW,CAAC4C,KAAK,CAACa,UAAP,EAAmB,EAAnB,CAAlB;IACD,CAF8B,CAA/B;;IAGA,IAAIC,YAAY,GAAG,SAASA,YAAT,CAAsBC,IAAtB,EAA4BC,gBAA5B,EAA8C;MAC/D,OAAO7D,YAAY,CAACyD,gBAAgB,CAACF,KAAlB,EAAyBK,IAAzB,CAAZ,IAA8CC,gBAArD;IACD,CAFD;;IAGA,IAAIC,SAAS,GAAG/C,QAAQ,CAAC,YAAY;MACnC,IAAIgD,MAAM,GAAGlB,KAAK,CAACkB,MAAnB;;MACA,IAAI,OAAOA,MAAP,KAAkB,UAAtB,EAAkC;QAChC,OAAOA,MAAP;MACD;;MACD,OAAO,UAAUC,MAAV,EAAkB;QACvB,IAAIC,GAAG,GAAGD,MAAM,IAAIA,MAAM,CAACD,MAAD,CAA1B;;QACA,IAAIG,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;UACzC1C,OAAO,CAACuC,GAAG,KAAKI,SAAT,EAAoB,iGAApB,CAAP;QACD;;QACD,OAAOJ,GAAP;MACD,CAND;IAOD,CAZuB,CAAxB,CAjBiC,CA8BjC;;IACA,IAAIK,gBAAgB,GAAGvD,QAAQ,CAAC,YAAY;MAC1C,OAAO8B,KAAK,CAAC0B,UAAN,IAAoB9D,gBAA3B;IACD,CAF8B,CAA/B;IAGA,IAAI+D,wBAAwB,GAAGzD,QAAQ,CAAC,YAAY;MAClD,OAAO8B,KAAK,CAAC4B,kBAAN,IAA4B,UAAnC;IACD,CAFsC,CAAvC;IAGA,IAAIC,cAAc,GAAG3D,QAAQ,CAAC,YAAY;MACxC,IAAI8B,KAAK,CAAC8B,iBAAV,EAA6B;QAC3B,OAAO,KAAP;MACD;MACD;;MACA;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;;MACM,IAAI9B,KAAK,CAAC+B,aAAN,IAAuBxB,UAAU,CAACG,KAAX,CAAiBsB,IAAjB,CAAsB,UAAUb,MAAV,EAAkB;QACjE,OAAOA,MAAM,IAAI5E,OAAO,CAAC4E,MAAD,CAAP,KAAoB,QAA9B,IAA0CA,MAAM,CAACQ,wBAAwB,CAACjB,KAA1B,CAAvD;MACD,CAF0B,CAA3B,EAEI;QACF,OAAO,MAAP;MACD;MACD;;;MACA,OAAO,KAAP;IACD,CApB4B,CAA7B;IAqBA,IAAIuB,iBAAiB,GAAGzD,UAAU,CAAC,EAAD,CAAlC;IACA,IAAI0D,IAAI,GAAGtD,WAAW,CAAC,YAAY;MACjC,IAAIoB,KAAK,CAACmC,sBAAV,EAAkC;QAChCF,iBAAiB,CAACvB,KAAlB,GAA0BV,KAAK,CAACmC,sBAAhC;MACD;;MACD,IAAInC,KAAK,CAACoC,oBAAV,EAAgC;QAC9BH,iBAAiB,CAACvB,KAAlB,GAA0B/C,mBAAmB,CAAC4C,UAAU,CAACG,KAAZ,EAAmBO,SAAS,CAACP,KAA7B,EAAoCiB,wBAAwB,CAACjB,KAA7D,CAA7C;MACD;IACF,CAPqB,CAAtB,CA3DiC,CAmEjC;;IACAwB,IAAI;IACJ,IAAIG,kBAAkB,GAAGnE,QAAQ,CAAC,YAAY;MAC5C,OAAO,IAAIoE,GAAJ,CAAQtC,KAAK,CAACuC,eAAN,IAAyBN,iBAAiB,CAACvB,KAA3C,IAAoD,EAA5D,CAAP;IACD,CAFgC,CAAjC;;IAGA,IAAI8B,eAAe,GAAG,SAASA,eAAT,CAAyBrB,MAAzB,EAAiC;MACrD,IAAIC,GAAG,GAAGH,SAAS,CAACP,KAAV,CAAgBS,MAAhB,EAAwBZ,UAAU,CAACG,KAAX,CAAiB+B,OAAjB,CAAyBtB,MAAzB,CAAxB,CAAV;MACA,IAAIuB,eAAJ;MACA,IAAIC,MAAM,GAAGN,kBAAkB,CAAC3B,KAAnB,CAAyBkC,GAAzB,CAA6BxB,GAA7B,CAAb;;MACA,IAAIuB,MAAJ,EAAY;QACVN,kBAAkB,CAAC3B,KAAnB,CAAyBmC,MAAzB,CAAgCzB,GAAhC;QACAsB,eAAe,GAAGpG,kBAAkB,CAAC+F,kBAAkB,CAAC3B,KAApB,CAApC;MACD,CAHD,MAGO;QACLgC,eAAe,GAAG,GAAGI,MAAH,CAAUxG,kBAAkB,CAAC+F,kBAAkB,CAAC3B,KAApB,CAA5B,EAAwD,CAACU,GAAD,CAAxD,CAAlB;MACD;;MACDa,iBAAiB,CAACvB,KAAlB,GAA0BgC,eAA1B;MACApC,IAAI,CAAC,QAAD,EAAW,CAACqC,MAAZ,EAAoBxB,MAApB,CAAJ;MACAb,IAAI,CAAC,wBAAD,EAA2BoC,eAA3B,CAAJ;MACApC,IAAI,CAAC,oBAAD,EAAuBoC,eAAvB,CAAJ;IACD,CAdD,CAxEiC,CAuFjC;;;IACA,IAAIrB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyCvB,KAAK,CAAC8B,iBAA/C,IAAoEvB,UAAU,CAACG,KAAX,CAAiBsB,IAAjB,CAAsB,UAAUb,MAAV,EAAkB;MAC9G,OAAO4B,KAAK,CAACC,OAAN,CAAc7B,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAACQ,wBAAwB,CAACjB,KAA1B,CAApE,CAAP;IACD,CAFuE,CAAxE,EAEI;MACF7B,OAAO,CAAC,KAAD,EAAQ,sDAAR,CAAP;IACD;;IACD,IAAIoE,cAAc,GAAG1E,GAAG,CAAC,CAAD,CAAxB;;IACA,IAAI2E,WAAW,GAAGlG,UAAU,CAACZ,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKsC,MAAM,CAACsB,KAAD,CAAX,CAAd,EAAmC,EAAnC,EAAuC;MAC7E;MACAmD,UAAU,EAAEjF,QAAQ,CAAC,YAAY;QAC/B,OAAO,CAAC,CAAC8B,KAAK,CAAC8B,iBAAf;MACD,CAFmB,CAFyD;MAK7EsB,YAAY,EAAEf,kBAL+D;MAM7EpB,SAAS,EAAEA,SANkE;MAO7EuB,eAAe,EAAEA,eAP4D;MAQ7Ed,UAAU,EAAED;IARiE,CAAvC,CAAd,EAStBvD,QAAQ,CAAC,YAAY;MACvB,OAAO8B,KAAK,CAACqD,aAAN,KAAwBxD,cAAxB,GAAyCG,KAAK,CAACsD,gBAA/C,GAAkE,IAAzE;IACD,CAFW,CATc,CAA5B;IAAA,IAYEC,YAAY,GAAGlH,cAAc,CAAC6G,WAAD,EAAc,CAAd,CAZ/B;IAAA,IAaEM,OAAO,GAAGD,YAAY,CAAC,CAAD,CAbxB;IAAA,IAcEE,cAAc,GAAGF,YAAY,CAAC,CAAD,CAd/B;;IAeA,IAAIG,aAAa,GAAGxF,QAAQ,CAAC,YAAY;MACvC,OAAO;QACLsF,OAAO,EAAEA,OAAO,CAAC9C,KADZ;QAEL+C,cAAc,EAAEA,cAAc,CAAC/C;MAF1B,CAAP;IAID,CAL2B,CAA5B,CA7GiC,CAmHjC;;IACA,IAAIiD,YAAY,GAAGpF,GAAG,EAAtB;IACA,IAAIqF,eAAe,GAAGrF,GAAG,EAAzB;IACA,IAAIsF,aAAa,GAAGtF,GAAG,EAAvB;IACA,IAAIuF,kBAAkB,GAAGvF,GAAG,CAAC;MAC3BwF,WAAW,EAAE,CADc;MAE3BC,WAAW,EAAE;IAFc,CAAD,CAA5B;IAIA,IAAIC,gBAAgB,GAAG1F,GAAG,EAA1B;;IACA,IAAI2F,SAAS,GAAGnF,QAAQ,CAAC,KAAD,CAAxB;IAAA,IACEoF,UAAU,GAAG9H,cAAc,CAAC6H,SAAD,EAAY,CAAZ,CAD7B;IAAA,IAEEE,UAAU,GAAGD,UAAU,CAAC,CAAD,CAFzB;IAAA,IAGEE,aAAa,GAAGF,UAAU,CAAC,CAAD,CAH5B;;IAIA,IAAIG,UAAU,GAAGvF,QAAQ,CAAC,KAAD,CAAzB;IAAA,IACEwF,UAAU,GAAGlI,cAAc,CAACiI,UAAD,EAAa,CAAb,CAD7B;IAAA,IAEEE,WAAW,GAAGD,UAAU,CAAC,CAAD,CAF1B;IAAA,IAGEE,cAAc,GAAGF,UAAU,CAAC,CAAD,CAH7B;;IAIA,IAAIG,eAAe,GAAGzH,cAAc,CAAC,IAAI0H,GAAJ,EAAD,CAApC;IAAA,IACEC,gBAAgB,GAAGvI,cAAc,CAACqI,eAAD,EAAkB,CAAlB,CADnC;IAAA,IAEEG,UAAU,GAAGD,gBAAgB,CAAC,CAAD,CAF/B;IAAA,IAGEE,gBAAgB,GAAGF,gBAAgB,CAAC,CAAD,CAHrC,CApIiC,CAwIjC;;;IACA,IAAIG,QAAQ,GAAG7G,QAAQ,CAAC,YAAY;MAClC,OAAOZ,aAAa,CAACmG,cAAc,CAAC/C,KAAhB,CAApB;IACD,CAFsB,CAAvB;IAGA,IAAIsE,SAAS,GAAG9G,QAAQ,CAAC,YAAY;MACnC,OAAO6G,QAAQ,CAACrE,KAAT,CAAeuE,GAAf,CAAmB,UAAUC,SAAV,EAAqB;QAC7C,OAAOL,UAAU,CAACnE,KAAX,CAAiByE,GAAjB,CAAqBD,SAArB,CAAP;MACD,CAFM,CAAP;IAGD,CAJuB,CAAxB;IAKA,IAAIE,WAAW,GAAGlH,QAAQ,CAAC,YAAY;MACrC,OAAOuF,cAAc,CAAC/C,KAAf,CAAqBC,MAA5B;IACD,CAFyB,CAA1B;IAGA,IAAI0E,aAAa,GAAG9H,gBAAgB,CAACyH,SAAD,EAAYI,WAAZ,EAAyB3G,KAAK,CAACuB,KAAD,EAAQ,WAAR,CAA9B,CAApC;IACA,IAAIsF,SAAS,GAAGpH,QAAQ,CAAC,YAAY;MACnC,OAAO8B,KAAK,CAACuF,MAAN,IAAgBlI,aAAa,CAAC2C,KAAK,CAACuF,MAAN,CAAaC,CAAd,CAApC;IACD,CAFuB,CAAxB;IAGA,IAAIC,aAAa,GAAGvH,QAAQ,CAAC,YAAY;MACvC,OAAO8B,KAAK,CAACuF,MAAN,IAAgBlI,aAAa,CAAC2C,KAAK,CAACuF,MAAN,CAAaG,CAAd,CAA7B,IAAiDC,OAAO,CAAC3F,KAAK,CAAC4F,WAAP,CAA/D;IACD,CAF2B,CAA5B;IAGA,IAAIC,SAAS,GAAG3H,QAAQ,CAAC,YAAY;MACnC,OAAOuH,aAAa,CAAC/E,KAAd,IAAuB+C,cAAc,CAAC/C,KAAf,CAAqBsB,IAArB,CAA0B,UAAU8D,KAAV,EAAiB;QACvE,IAAIC,KAAK,GAAGD,KAAK,CAACC,KAAlB;QACA,OAAOA,KAAP;MACD,CAH6B,CAA9B;IAID,CALuB,CAAxB,CA3JiC,CAiKjC;;IACA,IAAIC,SAAS,GAAGzH,GAAG,EAAnB;IACA,IAAI0H,WAAW,GAAGlI,SAAS,CAACU,KAAK,CAACuB,KAAD,EAAQ,QAAR,CAAN,EAAyBvB,KAAK,CAACuB,KAAD,EAAQ,WAAR,CAA9B,CAA3B;IACA,IAAIkG,iBAAiB,GAAG5H,QAAQ,CAAC,EAAD,CAAhC;IACA,IAAI6H,SAAS,GAAGjI,QAAQ,CAAC,YAAY;MACnC,IAAIkI,IAAI,GAAGC,MAAM,CAACC,MAAP,CAAcJ,iBAAd,EAAiC,CAAjC,CAAX;MACA,OAAO,CAACZ,SAAS,CAAC5E,KAAV,IAAmBuF,WAAW,CAACvF,KAAZ,CAAkB6F,QAAtC,KAAmDH,IAA1D;IACD,CAHuB,CAAxB;;IAIA,IAAII,cAAc,GAAG,SAASA,cAAT,CAAwBC,MAAxB,EAAgCV,KAAhC,EAAuC;MAC1D,IAAIA,KAAJ,EAAW;QACTG,iBAAiB,CAACO,MAAD,CAAjB,GAA4BV,KAA5B;MACD,CAFD,MAEO;QACL,OAAOG,iBAAiB,CAACO,MAAD,CAAxB;MACD;IACF,CAND,CAzKiC,CAgLjC;;;IACA,IAAIC,YAAY,GAAGnI,GAAG,CAAC,EAAD,CAAtB;IACA,IAAIoI,YAAY,GAAGpI,GAAG,CAAC,EAAD,CAAtB;IACA,IAAIqI,gBAAgB,GAAGrI,GAAG,CAAC,EAAD,CAA1B;IACAK,WAAW,CAAC,YAAY;MACtB,IAAI0G,SAAS,CAAC5E,KAAd,EAAqB;QACnBiG,YAAY,CAACjG,KAAb,GAAqB;UACnBmG,SAAS,EAAE,QADQ;UAEnBC,SAAS,EAAE9H,IAAI,CAACgB,KAAK,CAACuF,MAAN,CAAaC,CAAd;QAFI,CAArB;MAID;;MACD,IAAIC,aAAa,CAAC/E,KAAlB,EAAyB;QACvBgG,YAAY,CAAChG,KAAb,GAAqB;UACnBqG,SAAS,EAAE;QADQ,CAArB,CADuB,CAIvB;QACA;QACA;;QACA,IAAI,CAACzB,SAAS,CAAC5E,KAAf,EAAsB;UACpBiG,YAAY,CAACjG,KAAb,GAAqB;YACnBmG,SAAS,EAAE;UADQ,CAArB;QAGD;;QACDD,gBAAgB,CAAClG,KAAjB,GAAyB;UACvBsG,KAAK,EAAEhH,KAAK,CAACuF,MAAN,CAAaG,CAAb,KAAmB,IAAnB,GAA0B,MAA1B,GAAmC1G,IAAI,CAACgB,KAAK,CAACuF,MAAN,CAAaG,CAAd,CADvB;UAEvBuB,QAAQ,EAAE;QAFa,CAAzB;MAID;IACF,CAxBU,CAAX;;IAyBA,IAAIC,cAAc,GAAG,SAASA,cAAT,CAAwBhC,SAAxB,EAAmC8B,KAAnC,EAA0C;MAC7D,IAAI/H,SAAS,CAAC0E,YAAY,CAACjD,KAAd,CAAb,EAAmC;QACjCoE,gBAAgB,CAAC,UAAUqC,MAAV,EAAkB;UACjC,IAAIA,MAAM,CAAChC,GAAP,CAAWD,SAAX,MAA0B8B,KAA9B,EAAqC;YACnC,IAAII,SAAS,GAAG,IAAIzC,GAAJ,CAAQwC,MAAR,CAAhB;YACAC,SAAS,CAACC,GAAV,CAAcnC,SAAd,EAAyB8B,KAAzB;YACA,OAAOI,SAAP;UACD;;UACD,OAAOD,MAAP;QACD,CAPe,CAAhB;MAQD;IACF,CAXD;;IAYA,IAAIG,eAAe,GAAGpK,cAAc,CAAC,IAAD,CAApC;IAAA,IACEqK,gBAAgB,GAAGlL,cAAc,CAACiL,eAAD,EAAkB,CAAlB,CADnC;IAAA,IAEEE,eAAe,GAAGD,gBAAgB,CAAC,CAAD,CAFpC;IAAA,IAGEE,eAAe,GAAGF,gBAAgB,CAAC,CAAD,CAHpC;;IAIA,SAASG,WAAT,CAAqBC,UAArB,EAAiCC,MAAjC,EAAyC;MACvC,IAAI,CAACA,MAAL,EAAa;QACX;MACD;;MACD,IAAI,OAAOA,MAAP,KAAkB,UAAtB,EAAkC;QAChCA,MAAM,CAACD,UAAD,CAAN;QACA;MACD;;MACD,IAAIE,SAAS,GAAGD,MAAM,CAACE,GAAP,IAAcF,MAA9B;;MACA,IAAIC,SAAS,CAACF,UAAV,KAAyBA,UAA7B,EAAyC;QACvC;QACAE,SAAS,CAACF,UAAV,GAAuBA,UAAvB;MACD;IACF;;IACD,IAAII,QAAQ,GAAG,SAASA,QAAT,CAAkBC,KAAlB,EAAyB;MACtC,IAAIC,aAAa,GAAGD,KAAK,CAACC,aAA1B;MAAA,IACEN,UAAU,GAAGK,KAAK,CAACL,UADrB;MAEA,IAAIO,KAAK,GAAGlI,KAAK,CAACmI,SAAN,KAAoB,KAAhC;MACA,IAAIC,gBAAgB,GAAG,OAAOT,UAAP,KAAsB,QAAtB,GAAiCA,UAAjC,GAA8CM,aAAa,CAACN,UAAnF;MACA,IAAIU,aAAa,GAAGJ,aAAa,IAAIrI,mBAArC;;MACA,IAAI,CAAC6H,eAAe,EAAhB,IAAsBA,eAAe,OAAOY,aAAhD,EAA+D;QAC7D,IAAIC,gBAAJ;;QACAd,eAAe,CAACa,aAAD,CAAf;QACAX,WAAW,CAACU,gBAAD,EAAmBxE,eAAe,CAAClD,KAAnC,CAAX;QACAgH,WAAW,CAACU,gBAAD,EAAmBvE,aAAa,CAACnD,KAAjC,CAAX;QACAgH,WAAW,CAACU,gBAAD,EAAmBnE,gBAAgB,CAACvD,KAApC,CAAX;QACAgH,WAAW,CAACU,gBAAD,EAAmB,CAACE,gBAAgB,GAAGtC,SAAS,CAACtF,KAA9B,MAAyC,IAAzC,IAAiD4H,gBAAgB,KAAK,KAAK,CAA3E,GAA+E,KAAK,CAApF,GAAwFA,gBAAgB,CAACC,aAA5H,CAAX;MACD;;MACD,IAAIN,aAAJ,EAAmB;QACjB,IAAIlE,WAAW,GAAGkE,aAAa,CAAClE,WAAhC;QAAA,IACEC,WAAW,GAAGiE,aAAa,CAACjE,WAD9B;;QAEA,IAAIkE,KAAJ,EAAW;UACT7D,aAAa,CAAC,CAAC+D,gBAAD,GAAoBrE,WAAW,GAAGC,WAAnC,CAAb;UACAS,cAAc,CAAC,CAAC2D,gBAAD,GAAoB,CAArB,CAAd;QACD,CAHD,MAGO;UACL/D,aAAa,CAAC+D,gBAAgB,GAAG,CAApB,CAAb;UACA3D,cAAc,CAAC2D,gBAAgB,GAAGrE,WAAW,GAAGC,WAAlC,CAAd;QACD;MACF;IACF,CAzBD;;IA0BA,IAAIwE,eAAe,GAAG,SAASA,eAAT,GAA2B;MAC/C,IAAI/C,aAAa,CAAC/E,KAAd,IAAuBmD,aAAa,CAACnD,KAAzC,EAAgD;QAC9CqH,QAAQ,CAAC;UACPE,aAAa,EAAEpE,aAAa,CAACnD;QADtB,CAAD,CAAR;MAGD,CAJD,MAIO;QACL2D,aAAa,CAAC,KAAD,CAAb;QACAI,cAAc,CAAC,KAAD,CAAd;MACD;IACF,CATD;;IAUA,IAAIgE,OAAJ;;IACA,IAAIC,WAAW,GAAG,SAASA,WAAT,CAAqB1B,KAArB,EAA4B;MAC5C,IAAIA,KAAK,KAAK/D,cAAc,CAACvC,KAA7B,EAAoC;QAClC8H,eAAe;QACfvF,cAAc,CAACvC,KAAf,GAAuBiD,YAAY,CAACjD,KAAb,GAAqBiD,YAAY,CAACjD,KAAb,CAAmBiI,WAAxC,GAAsD3B,KAA7E;MACD;IACF,CALD;;IAMA,IAAI4B,iBAAiB,GAAG,SAASA,iBAAT,CAA2BC,KAA3B,EAAkC;MACxD,IAAI7B,KAAK,GAAG6B,KAAK,CAAC7B,KAAlB;MACA8B,YAAY,CAACL,OAAD,CAAZ;;MACA,IAAIxF,cAAc,CAACvC,KAAf,KAAyB,CAA7B,EAAgC;QAC9BgI,WAAW,CAAC1B,KAAD,CAAX;QACA;MACD;;MACDyB,OAAO,GAAGM,UAAU,CAAC,YAAY;QAC/BL,WAAW,CAAC1B,KAAD,CAAX;MACD,CAFmB,EAEjB,GAFiB,CAApB;IAGD,CAVD;;IAWArI,KAAK,CAAC,CAAC8G,aAAD,EAAgB,YAAY;MAChC,OAAOzF,KAAK,CAACQ,IAAb;IACD,CAFK,EAEH,YAAY;MACb,OAAOR,KAAK,CAACwD,OAAb;IACD,CAJK,CAAD,EAID,YAAY;MACd,IAAIiC,aAAa,CAAC/E,KAAlB,EAAyB;QACvB8H,eAAe;MAChB;IACF,CARI,EAQF;MACDQ,KAAK,EAAE;IADN,CARE,CAAL;;IAWA,IAAIC,UAAU,GAAGlK,QAAQ,CAAC,CAAD,CAAzB;IAAA,IACEmK,UAAU,GAAG7M,cAAc,CAAC4M,UAAD,EAAa,CAAb,CAD7B;IAAA,IAEEE,aAAa,GAAGD,UAAU,CAAC,CAAD,CAF5B;IAAA,IAGEE,gBAAgB,GAAGF,UAAU,CAAC,CAAD,CAH/B;;IAIA1J,gBAAgB;IAChBnB,SAAS,CAAC,YAAY;MACpBD,QAAQ,CAAC,YAAY;QACnB,IAAIiL,oBAAJ,EAA0BC,qBAA1B;;QACAd,eAAe;QACfY,gBAAgB,CAAClK,sBAAsB,CAAC2E,aAAa,CAACnD,KAAf,CAAtB,CAA4CsG,KAA7C,CAAhB;QACAlD,kBAAkB,CAACpD,KAAnB,GAA2B;UACzBqD,WAAW,EAAE,CAAC,CAACsF,oBAAoB,GAAGxF,aAAa,CAACnD,KAAtC,MAAiD,IAAjD,IAAyD2I,oBAAoB,KAAK,KAAK,CAAvF,GAA2F,KAAK,CAAhG,GAAoGA,oBAAoB,CAACtF,WAA1H,KAA0I,CAD9H;UAEzBC,WAAW,EAAE,CAAC,CAACsF,qBAAqB,GAAGzF,aAAa,CAACnD,KAAvC,MAAkD,IAAlD,IAA0D4I,qBAAqB,KAAK,KAAK,CAAzF,GAA6F,KAAK,CAAlG,GAAsGA,qBAAqB,CAACtF,WAA7H,KAA6I;QAFjI,CAA3B;MAID,CARO,CAAR;IASD,CAVQ,CAAT;IAWA/F,SAAS,CAAC,YAAY;MACpBG,QAAQ,CAAC,YAAY;QACnB,IAAImL,qBAAJ,EAA2BC,qBAA3B;;QACA,IAAIzF,WAAW,GAAG,CAAC,CAACwF,qBAAqB,GAAG1F,aAAa,CAACnD,KAAvC,MAAkD,IAAlD,IAA0D6I,qBAAqB,KAAK,KAAK,CAAzF,GAA6F,KAAK,CAAlG,GAAsGA,qBAAqB,CAACxF,WAA7H,KAA6I,CAA/J;QACA,IAAIC,WAAW,GAAG,CAAC,CAACwF,qBAAqB,GAAG3F,aAAa,CAACnD,KAAvC,MAAkD,IAAlD,IAA0D8I,qBAAqB,KAAK,KAAK,CAAzF,GAA6F,KAAK,CAAlG,GAAsGA,qBAAqB,CAACxF,WAA7H,KAA6I,CAA/J;;QACA,IAAIF,kBAAkB,CAACpD,KAAnB,CAAyBqD,WAAzB,KAAyCA,WAAzC,IAAwDD,kBAAkB,CAACpD,KAAnB,CAAyBsD,WAAzB,KAAyCA,WAArG,EAAkH;UAChHF,kBAAkB,CAACpD,KAAnB,GAA2B;YACzBqD,WAAW,EAAEA,WADY;YAEzBC,WAAW,EAAEA;UAFY,CAA3B;QAID;MACF,CAVO,CAAR;IAWD,CAZQ,CAAT;IAaApF,WAAW,CAAC,YAAY;MACtB,IAAIoB,KAAK,CAACqD,aAAN,KAAwBxD,cAAxB,IAA0CG,KAAK,CAACyJ,YAApD,EAAkE;QAChEzJ,KAAK,CAAC0J,oBAAN,CAA2B;UACzBC,IAAI,EAAE9F,aAAa,CAACnD,KAAd,GAAsBmD,aAAa,CAACnD,KAAd,CAAoBoH,GAApB,IAA2BjE,aAAa,CAACnD,KAA/D,GAAuE;QADpD,CAA3B;MAGD;IACF,CANU,EAMR;MACDsI,KAAK,EAAE;IADN,CANQ,CAAX,CAzUiC,CAkVjC;;IACA,IAAIY,iBAAiB,GAAG1L,QAAQ,CAAC,YAAY;MAC3C,IAAI8B,KAAK,CAAC6J,WAAV,EAAuB;QACrB,OAAO7J,KAAK,CAAC6J,WAAb;MACD,CAH0C,CAI3C;MACA;MACA;;;MACA,IAAIhE,SAAS,CAACnF,KAAd,EAAqB;QACnB,OAAOV,KAAK,CAACuF,MAAN,CAAaG,CAAb,KAAmB,aAAnB,GAAmC,MAAnC,GAA4C,OAAnD;MACD;;MACD,IAAIJ,SAAS,CAAC5E,KAAV,IAAmBuF,WAAW,CAACvF,KAAZ,CAAkB6F,QAArC,IAAiD9C,cAAc,CAAC/C,KAAf,CAAqBsB,IAArB,CAA0B,UAAU8H,KAAV,EAAiB;QAC9F,IAAIC,QAAQ,GAAGD,KAAK,CAACC,QAArB;QACA,OAAOA,QAAP;MACD,CAHoD,CAArD,EAGI;QACF,OAAO,OAAP;MACD;;MACD,OAAO,MAAP;IACD,CAjB+B,CAAhC;;IAkBA,IAAIC,SAAS,GAAG,SAASA,SAAT,GAAqB;MACnC,IAAIC,gBAAJ;;MACA,OAAOxJ,OAAO,CAACC,KAAR,GAAgB,IAAhB,GAAuB,CAAC,CAACuJ,gBAAgB,GAAGhK,KAAK,CAACiK,SAA1B,MAAyC,IAAzC,IAAiDD,gBAAgB,KAAK,KAAK,CAA3E,GAA+E,KAAK,CAApF,GAAwFA,gBAAgB,CAACE,IAAjB,CAAsBlK,KAAtB,CAAzF,KAA0H,SAAxJ;IACD,CAHD;;IAIAZ,eAAe,CAACf,QAAQ,CAAClC,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKsC,MAAM,CAACI,YAAY,CAACkB,KAAD,EAAQ,WAAR,EAAqB,WAArB,EAAkC,mBAAlC,CAAb,CAAX,CAAd,EAAgG,EAAhG,EAAoG;MACxIc,YAAY,EAAEA,YAD0H;MAExIqI,aAAa,EAAEA,aAFyH;MAGxIiB,aAAa,EAAElM,QAAQ,CAAC,YAAY;QAClC,OAAOuF,cAAc,CAAC/C,KAAf,CAAqBuE,GAArB,CAAyB,UAAUoF,CAAV,EAAaC,QAAb,EAAuB;UACrD,OAAOzM,gBAAgB,CAACyM,QAAD,EAAWA,QAAX,EAAqB7G,cAAc,CAAC/C,KAApC,EAA2C2E,aAAa,CAAC3E,KAAzD,EAAgEV,KAAK,CAACmI,SAAtE,CAAvB;QACD,CAFM,CAAP;MAGD,CAJsB,CAHiH;MAQxI5B,QAAQ,EAAErI,QAAQ,CAAC,YAAY;QAC7B,OAAO+H,WAAW,CAACvF,KAAZ,CAAkB6F,QAAzB;MACD,CAFiB,CARsH;MAWxIC,cAAc,EAAEA;IAXwH,CAApG,CAAd,CAAT,CAAf;IAaAlH,cAAc,CAAChB,QAAQ,CAAClC,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKsC,MAAM,CAACI,YAAY,CAACkB,KAAD,EAAQ,cAAR,EAAwB,sBAAxB,EAAgD,kBAAhD,EAAoE,mBAApE,EAAyF,uBAAzF,EAAkH,YAAlH,CAAb,CAAX,CAAd,EAAyK,EAAzK,EAA6K;MAChNwD,OAAO,EAAEA,OADuM;MAEhNC,cAAc,EAAEA,cAFgM;MAGhNoG,WAAW,EAAED,iBAHmM;MAIhNlI,UAAU,EAAED,gBAJoM;MAKhNI,cAAc,EAAEA,cALgM;MAMhNW,eAAe,EAAEA;IAN+L,CAA7K,CAAd,CAAT,CAAd;IAQAjD,gBAAgB,CAAC;MACf2H,cAAc,EAAEA;IADD,CAAD,CAAhB;IAGAxH,qBAAqB,CAAC;MACpBuD,cAAc,EAAEA,cADI;MAEpBqC,SAAS,EAAEA,SAFS;MAGpBO,SAAS,EAAEA,SAHS;MAIpBJ,aAAa,EAAEA;IAJK,CAAD,CAArB,CAjYiC,CAuYjC;;IACA,IAAI8E,SAAS,GAAG,SAASA,SAAT,GAAqB;MACnC,OAAO5N,YAAY,CAACI,IAAD,EAAO;QACxB,QAAQwD,UAAU,CAACG,KADK;QAExB,sBAAsB4E,SAAS,CAAC5E,KAAV,IAAmB+E,aAAa,CAAC/E,KAAjC,IAA0CuF,WAAW,CAACvF,KAAZ,CAAkB6F,QAF1D;QAGxB,gBAAgBlE,kBAAkB,CAAC3B,KAHX;QAIxB,iBAAiBV,KAAK,CAACwK,aAJC;QAKxB,aAAavJ,SAAS,CAACP,KALC;QAMxB,aAAaV,KAAK,CAACyK,SANK;QAOxB,sBAAsB9I,wBAAwB,CAACjB;MAPvB,CAAP,EAQhB;QACDsJ,SAAS,EAAEA;MADV,CARgB,CAAnB;IAWD,CAZD;;IAaA,IAAIU,YAAY,GAAG,SAASA,YAAT,GAAwB;MACzC,OAAO/N,YAAY,CAACa,QAAD,EAAW;QAC5B,aAAaiG,cAAc,CAAC/C,KAAf,CAAqBuE,GAArB,CAAyB,UAAU0F,KAAV,EAAiB;UACrD,IAAI3D,KAAK,GAAG2D,KAAK,CAAC3D,KAAlB;UACA,OAAOA,KAAP;QACD,CAHY,CADe;QAK5B,WAAWvD,cAAc,CAAC/C;MALE,CAAX,EAMhB,IANgB,CAAnB;IAOD,CARD;;IASA,OAAO,YAAY;MACjB,IAAIkK,cAAJ;;MACA,IAAIC,SAAS,GAAG7K,KAAK,CAAC6K,SAAtB;MAAA,IACEtF,MAAM,GAAGvF,KAAK,CAACuF,MADjB;MAAA,IAEEsE,WAAW,GAAG7J,KAAK,CAAC6J,WAFtB;MAAA,IAGE1B,SAAS,GAAGnI,KAAK,CAACmI,SAHpB;MAAA,IAIE2C,YAAY,GAAG9K,KAAK,CAAC+K,KAJvB;MAAA,IAKEA,KAAK,GAAGD,YAAY,KAAK,KAAK,CAAtB,GAA0B7K,KAAK,CAAC8K,KAAhC,GAAwCD,YALlD;MAAA,IAMEE,aAAa,GAAGhL,KAAK,CAACiL,MANxB;MAAA,IAOEA,MAAM,GAAGD,aAAa,KAAK,KAAK,CAAvB,GAA2B/K,KAAK,CAACgL,MAAjC,GAA0CD,aAPrD;MAAA,IAQEE,EAAE,GAAGlL,KAAK,CAACkL,EARb;MAAA,IASEC,UAAU,GAAGnL,KAAK,CAACmL,UATrB;MAAA,IAUEC,eAAe,GAAGpL,KAAK,CAACoL,eAV1B;MAWA,IAAIC,kBAAkB,GAAGpF,WAAW,CAACvF,KAArC;MAAA,IACE6F,QAAQ,GAAG8E,kBAAkB,CAAC9E,QADhC;MAAA,IAEE+E,YAAY,GAAGD,kBAAkB,CAACC,YAFpC;MAAA,IAGEC,aAAa,GAAGF,kBAAkB,CAACE,aAHrC;MAAA,IAIEC,YAAY,GAAGH,kBAAkB,CAACG,YAJpC;MAAA,IAKEC,eAAe,GAAGJ,kBAAkB,CAACI,eALvC;MAAA,IAMEC,SAAS,GAAGL,kBAAkB,CAACK,SANjC;MAOA,IAAIC,cAAc,GAAG7K,YAAY,CAAC,CAAC,OAAD,CAAD,EAAY,OAAZ,CAAjC;MACA,IAAI8K,mBAAmB,GAAG9K,YAAY,CAAC,CAAC,MAAD,CAAD,CAAtC;MACA,IAAI+K,WAAW,GAAG,CAACjB,cAAc,GAAG3K,KAAK,CAAC6L,OAAxB,MAAqC,IAArC,IAA6ClB,cAAc,KAAK,KAAK,CAArE,GAAyE,KAAK,CAA9E,GAAkFA,cAAc,CAACT,IAAf,CAAoBlK,KAApB,EAA2B;QAC7H8L,QAAQ,EAAExL,UAAU,CAACG;MADwG,CAA3B,CAApG;;MAGA,IAAIsL,cAAc,GAAG,SAASA,cAAT,GAA0B;QAC7C,OAAO,IAAP;MACD,CAFD,CAzBiB,CA4BjB;;;MACA,IAAIC,WAAW,GAAG;QAChBjH,SAAS,EAAEA,SAAS,CAACtE,KADL;QAEhBwL,UAAU,EAAEzI,cAAc,CAAC/C,KAAf,CAAqBC,MAFjB;QAGhB0E,aAAa,EAAEA,aAAa,CAAC3E,KAHb;QAIhB0K,eAAe,EAAEA,eAJD;QAKhB9F,SAAS,EAAEA,SAAS,CAAC5E,KALL;QAMhB6E,MAAM,EAAEA;MANQ,CAAlB;;MAQA,IAAIlE,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyC,OAAOqK,mBAAP,KAA+B,UAAxE,IAAsFnL,OAAO,CAACC,KAA9F,IAAuG,CAAC4E,SAAS,CAAC5E,KAAtH,EAA6H;QAC3H7B,OAAO,CAAC,KAAD,EAAQ,iEAAR,CAAP;MACD;;MACD,IAAIyG,SAAS,CAAC5E,KAAV,IAAmB6F,QAAvB,EAAiC;QAC/B;QACA,IAAI4F,WAAW,GAAG,SAASA,WAAT,GAAuB;UACvC,OAAO,IAAP;QACD,CAFD;;QAGA,IAAI,OAAOP,mBAAP,KAA+B,UAAnC,EAA+C;UAC7CO,WAAW,GAAG,SAASA,WAAT,GAAuB;YACnC,OAAOP,mBAAmB,CAACrL,UAAU,CAACG,KAAZ,EAAmB;cAC3CyI,aAAa,EAAEA,aAAa,CAACzI,KADc;cAE3CnC,GAAG,EAAEsF,aAFsC;cAG3CkE,QAAQ,EAAEA;YAHiC,CAAnB,CAA1B;UAKD,CAND;;UAOAkE,WAAW,CAACjH,SAAZ,GAAwBvB,cAAc,CAAC/C,KAAf,CAAqBuE,GAArB,CAAyB,UAAUmH,KAAV,EAAiBC,KAAjB,EAAwB;YACvE,IAAIrF,KAAK,GAAGoF,KAAK,CAACpF,KAAlB;YACA,IAAIsF,QAAQ,GAAGD,KAAK,KAAK7I,OAAO,CAAC9C,KAAR,CAAcC,MAAd,GAAuB,CAAjC,GAAqCqG,KAAK,GAAGmC,aAAa,CAACzI,KAA3D,GAAmEsG,KAAlF;;YACA,IAAI,OAAOsF,QAAP,KAAoB,QAApB,IAAgC,CAACC,MAAM,CAACC,KAAP,CAAaF,QAAb,CAArC,EAA6D;cAC3D,OAAOA,QAAP;YACD;;YACDzN,OAAO,CAAC,KAAD,EAAQ,8FAAR,CAAP;YACA,OAAO,CAAP;UACD,CARuB,CAAxB;QASD,CAjBD,MAiBO;UACLsN,WAAW,GAAG,SAASA,WAAT,GAAuB;YACnC,OAAOxP,YAAY,CAAC,KAAD,EAAQ;cACzB,SAASP,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKsK,YAAY,CAAChG,KAAlB,CAAd,EAAwCiG,YAAY,CAACjG,KAArD,CADG;cAEzB,YAAYqH,QAFa;cAGzB,OAAOlE,aAHkB;cAIzB,SAAS1E,UAAU,CAAC,GAAG2D,MAAH,CAAU+H,SAAV,EAAqB,OAArB,CAAD;YAJM,CAAR,EAKhB,CAAClO,YAAY,CAACgP,cAAD,EAAiB;cAC/B,SAASvP,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKwK,gBAAgB,CAAClG,KAAtB,CAAd,EAA4C,EAA5C,EAAgD;gBACpEmJ,WAAW,EAAED,iBAAiB,CAAClJ;cADqC,CAAhD;YADS,CAAjB,EAIb;cACD+L,OAAO,EAAE,SAASC,QAAT,GAAoB;gBAC3B,OAAO,CAAChC,YAAY,EAAb,EAAiBH,SAAS,EAA1B,EAA8B,CAACpE,SAAS,CAACzF,KAAX,IAAoBmL,WAApB,IAAmClP,YAAY,CAACe,MAAD,EAAS;kBAC3F,iBAAiB2H,aAAa,CAAC3E,KAD4D;kBAE3F,kBAAkB+C,cAAc,CAAC/C;gBAF0D,CAAT,EAGjF;kBACD+L,OAAO,EAAE,SAASC,QAAT,GAAoB;oBAC3B,OAAO,CAACb,WAAD,CAAP;kBACD;gBAHA,CAHiF,CAA7E,CAAP;cAQD;YAVA,CAJa,CAAb,CALgB,CAAnB;UAqBD,CAtBD;QAuBD,CA9C8B,CA+C/B;;;QACA,IAAIc,gBAAgB,GAAGvQ,aAAa,CAACA,aAAa,CAACA,aAAa,CAAC;UAC/DwQ,MAAM,EAAE,CAACrM,UAAU,CAACG,KAAX,CAAiBC,MADqC;UAE/DkM,gBAAgB,EAAEpH,aAAa,CAAC/E,KAAd,IAAuB6E,MAAM,CAACG,CAAP,KAAa;QAFS,CAAD,EAG7DuG,WAH6D,CAAd,EAGjCvI,aAAa,CAAChD,KAHmB,CAAd,EAGG,EAHH,EAGO;UACzCyH,SAAS,EAAEA,SAD8B;UAEzCsD,eAAe,EAAEA,eAFwB;UAGzC1D,QAAQ,EAAEA;QAH+B,CAHP,CAApC;;QAQAiE,cAAc,GAAG,SAASA,cAAT,GAA0B;UACzC,OAAOrP,YAAY,CAACF,SAAD,EAAY,IAAZ,EAAkB,CAAC0O,UAAU,KAAK,KAAf,IAAwBxO,YAAY,CAACqB,WAAD,EAAc5B,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKuQ,gBAAL,CAAd,EAAsC,EAAtC,EAA0C;YAC7I,mBAAmBrB,YAD0H;YAE7I,SAAS,GAAGxI,MAAH,CAAU+H,SAAV,EAAqB,SAArB,CAFoI;YAG7I,OAAOjH;UAHsI,CAA1C,CAA3B,EAItE;YACF6I,OAAO,EAAE,SAASC,QAAT,CAAkBI,oBAAlB,EAAwC;cAC/C,OAAOnQ,YAAY,CAACF,SAAD,EAAY,IAAZ,EAAkB,CAACE,YAAY,CAACG,MAAD,EAASgQ,oBAAT,EAA+B,IAA/B,CAAb,EAAmD3G,SAAS,CAACzF,KAAV,KAAoB,KAApB,IAA6B/D,YAAY,CAACe,MAAD,EAASoP,oBAAT,EAA+B;gBAC9JL,OAAO,EAAE,SAASC,QAAT,GAAoB;kBAC3B,OAAO,CAACb,WAAD,CAAP;gBACD;cAH6J,CAA/B,CAA5F,CAAlB,CAAnB;YAKD;UAPC,CAJsE,CAArC,EAYjCM,WAAW,EAZsB,EAYlBhG,SAAS,CAACzF,KAAV,IAAmByF,SAAS,CAACzF,KAAV,KAAoB,KAAvC,IAAgD/D,YAAY,CAACqB,WAAD,EAAc5B,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKuQ,gBAAL,CAAd,EAAsC,EAAtC,EAA0C;YAClJ,sBAAsBpB,aAD4H;YAElJ,SAAS,GAAGzI,MAAH,CAAU+H,SAAV,EAAqB,UAArB,CAFyI;YAGlJ,OAAO5G;UAH2I,CAA1C,CAA3B,EAI3E;YACFwI,OAAO,EAAE,SAASC,QAAT,CAAkBI,oBAAlB,EAAwC;cAC/C,OAAOnQ,YAAY,CAACe,MAAD,EAASoP,oBAAT,EAA+B;gBAChDL,OAAO,EAAE,SAASC,QAAT,GAAoB;kBAC3B,OAAO,CAACb,WAAD,CAAP;gBACD;cAH+C,CAA/B,CAAnB;YAKD;UAPC,CAJ2E,CAZ1C,EAwBjCtF,QAAQ,IAAI1C,aAAa,CAACnD,KAA1B,IAAmC/D,YAAY,CAACmB,eAAD,EAAkB;YACnE,OAAOkI,SAD4D;YAEnE,gBAAgBwF,YAFmD;YAGnE,iBAAiB3H,aAHkD;YAInE,YAAYkE,QAJuD;YAKnE,aAAa2D,SALsD;YAMnE,sBAAsB5H,kBAAkB,CAACpD;UAN0B,CAAlB,EAOhD,IAPgD,CAxBd,CAAlB,CAAnB;QAgCD,CAjCD;MAkCD,CA1FD,MA0FO;QACL;QACAsL,cAAc,GAAG,SAASA,cAAT,GAA0B;UACzC,OAAOrP,YAAY,CAAC,KAAD,EAAQ;YACzB,SAASP,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKsK,YAAY,CAAChG,KAAlB,CAAd,EAAwCiG,YAAY,CAACjG,KAArD,CADG;YAEzB,SAASvB,UAAU,CAAC,GAAG2D,MAAH,CAAU+H,SAAV,EAAqB,UAArB,CAAD,CAFM;YAGzB,YAAY9C,QAHa;YAIzB,OAAOlE;UAJkB,CAAR,EAKhB,CAAClH,YAAY,CAACgP,cAAD,EAAiB;YAC/B,SAASvP,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKwK,gBAAgB,CAAClG,KAAtB,CAAd,EAA4C,EAA5C,EAAgD;cACpEmJ,WAAW,EAAED,iBAAiB,CAAClJ;YADqC,CAAhD;UADS,CAAjB,EAIb;YACD+L,OAAO,EAAE,SAASC,QAAT,GAAoB;cAC3B,OAAO,CAAChC,YAAY,EAAb,EAAiBS,UAAU,KAAK,KAAf,IAAwBxO,YAAY,CAACG,MAAD,EAASV,aAAa,CAACA,aAAa,CAAC,EAAD,EAAK6P,WAAL,CAAd,EAAiCvI,aAAa,CAAChD,KAA/C,CAAtB,EAA6E,IAA7E,CAArD,EAAyI6J,SAAS,EAAlJ,EAAsJsB,WAAW,IAAIlP,YAAY,CAACe,MAAD,EAAS;gBAC/L,iBAAiB2H,aAAa,CAAC3E,KADgK;gBAE/L,kBAAkB+C,cAAc,CAAC/C;cAF8J,CAAT,EAGrL;gBACD+L,OAAO,EAAE,SAASC,QAAT,GAAoB;kBAC3B,OAAO,CAACb,WAAD,CAAP;gBACD;cAHA,CAHqL,CAAjL,CAAP;YAQD;UAVA,CAJa,CAAb,CALgB,CAAnB;QAqBD,CAtBD;MAuBD;;MACD,IAAIkB,SAAS,GAAGtN,SAAS,CAACY,KAAD,EAAQ;QAC/B2M,IAAI,EAAE,IADyB;QAE/BxM,IAAI,EAAE;MAFyB,CAAR,CAAzB;;MAIA,IAAIyM,SAAS,GAAG,SAASA,SAAT,GAAqB;QACnC,IAAIC,WAAJ;;QACA,OAAOvQ,YAAY,CAAC,KAAD,EAAQP,aAAa,CAACA,aAAa,CAAC,EAAD,EAAK2Q,SAAL,CAAd,EAA+B,EAA/B,EAAmC;UACzE,SAAS5N,UAAU,CAAC0L,SAAD,GAAaqC,WAAW,GAAG,EAAd,EAAkB/Q,eAAe,CAAC+Q,WAAD,EAAc,GAAGpK,MAAH,CAAU+H,SAAV,EAAqB,MAArB,CAAd,EAA4C1C,SAAS,KAAK,KAA1D,CAAjC,EAAmGhM,eAAe,CAAC+Q,WAAD,EAAc,GAAGpK,MAAH,CAAU+H,SAAV,EAAqB,YAArB,CAAd,EAAkDzG,UAAU,CAAC1D,KAA7D,CAAlH,EAAuLvE,eAAe,CAAC+Q,WAAD,EAAc,GAAGpK,MAAH,CAAU+H,SAAV,EAAqB,aAArB,CAAd,EAAmDrG,WAAW,CAAC9D,KAA/D,CAAtM,EAA6QvE,eAAe,CAAC+Q,WAAD,EAAc,GAAGpK,MAAH,CAAU+H,SAAV,EAAqB,eAArB,CAAd,EAAqDhB,WAAW,KAAK,OAArE,CAA5R,EAA2W1N,eAAe,CAAC+Q,WAAD,EAAc,GAAGpK,MAAH,CAAU+H,SAAV,EAAqB,eAArB,CAAd,EAAqDvF,SAAS,CAAC5E,KAA/D,CAA1X,EAAicvE,eAAe,CAAC+Q,WAAD,EAAc,GAAGpK,MAAH,CAAU+H,SAAV,EAAqB,eAArB,CAAd,EAAqDhF,SAAS,CAACnF,KAA/D,CAAhd,EAAuhBvE,eAAe,CAAC+Q,WAAD,EAAc,GAAGpK,MAAH,CAAU+H,SAAV,EAAqB,oBAArB,CAAd,EAA0DpF,aAAa,CAAC/E,KAAxE,CAAtiB,EAAsnBvE,eAAe,CAAC+Q,WAAD,EAAc,GAAGpK,MAAH,CAAU+H,SAAV,EAAqB,eAArB,CAAd,EAAqDpH,cAAc,CAAC/C,KAAf,CAAqB,CAArB,KAA2B+C,cAAc,CAAC/C,KAAf,CAAqB,CAArB,EAAwBqF,KAAxG,CAAroB,EAAqvB5J,eAAe,CAAC+Q,WAAD,EAAc,GAAGpK,MAAH,CAAU+H,SAAV,EAAqB,gBAArB,CAAd,EAAsDpH,cAAc,CAAC/C,KAAf,CAAqB0E,WAAW,CAAC1E,KAAZ,GAAoB,CAAzC,KAA+C+C,cAAc,CAAC/C,KAAf,CAAqB0E,WAAW,CAAC1E,KAAZ,GAAoB,CAAzC,EAA4CqF,KAA5C,KAAsD,OAA3J,CAApwB,EAAy6B5J,eAAe,CAAC+Q,WAAD,EAAc7M,KAAK,CAAC8M,KAApB,EAA2B9M,KAAK,CAAC8M,KAAjC,CAAx7B,EAAi+BD,WAA9+B,EADsD;UAEzE,SAAS7M,KAAK,CAAC+M,KAF0D;UAGzE,MAAMlC,EAHmE;UAIzE,OAAOvH;QAJkE,CAAnC,CAArB,EAKf,CAACoH,KAAK,IAAIpO,YAAY,CAACc,KAAD,EAAQ;UAChC,SAAS,GAAGqF,MAAH,CAAU+H,SAAV,EAAqB,QAArB;QADuB,CAAR,EAEvB;UACD4B,OAAO,EAAE,SAASC,QAAT,GAAoB;YAC3B,OAAO,CAAC3B,KAAK,CAACxK,UAAU,CAACG,KAAZ,CAAN,CAAP;UACD;QAHA,CAFuB,CAAtB,EAMA/D,YAAY,CAAC,KAAD,EAAQ;UACtB,SAAS,GAAGmG,MAAH,CAAU+H,SAAV,EAAqB,YAArB;QADa,CAAR,EAEb,CAACmB,cAAc,EAAf,CAFa,CANZ,EAQoBf,MAAM,IAAItO,YAAY,CAACc,KAAD,EAAQ;UACpD,SAAS,GAAGqF,MAAH,CAAU+H,SAAV,EAAqB,SAArB;QAD2C,CAAR,EAE3C;UACD4B,OAAO,EAAE,SAASC,QAAT,GAAoB;YAC3B,OAAO,CAACzB,MAAM,CAAC1K,UAAU,CAACG,KAAZ,CAAP,CAAP;UACD;QAHA,CAF2C,CAR1C,CALe,CAAnB;MAoBD,CAtBD;;MAuBA,IAAI+E,aAAa,CAAC/E,KAAlB,EAAyB;QACvB,OAAO/D,YAAY,CAACyC,gBAAD,EAAmB;UACpC,YAAYwJ;QADwB,CAAnB,EAEhB;UACD6D,OAAO,EAAEQ;QADR,CAFgB,CAAnB;MAKD;;MACD,OAAOA,SAAS,EAAhB;IACD,CA/LD;EAgMD;AApmB4B,CAAD,CAA9B"},"metadata":{},"sourceType":"module"}