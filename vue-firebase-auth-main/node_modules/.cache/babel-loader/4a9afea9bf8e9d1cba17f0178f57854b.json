{"ast":null,"code":"import { createVNode as _createVNode } from \"vue\";\nimport Menu, { Item as MenuItem } from '../../menu';\nimport { onBeforeUnmount, defineComponent, inject, ref } from 'vue';\nimport MentionsContextKey from './MentionsContext';\nimport Spin from '../../spin';\n\nfunction noop() {}\n\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'DropdownMenu',\n  props: {\n    prefixCls: String,\n    options: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  slots: ['notFoundContent', 'option'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n\n    var _inject = inject(MentionsContextKey, {\n      activeIndex: ref(),\n      loading: ref(false)\n    }),\n        activeIndex = _inject.activeIndex,\n        setActiveIndex = _inject.setActiveIndex,\n        selectOption = _inject.selectOption,\n        _inject$onFocus = _inject.onFocus,\n        onFocus = _inject$onFocus === void 0 ? noop : _inject$onFocus,\n        loading = _inject.loading;\n\n    var timeoutId;\n\n    var onMousedown = function onMousedown(e) {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(function () {\n        onFocus(e);\n      });\n    };\n\n    onBeforeUnmount(function () {\n      clearTimeout(timeoutId);\n    });\n    return function () {\n      var _slots$notFoundConten;\n\n      var prefixCls = props.prefixCls,\n          options = props.options;\n      var activeOption = options[activeIndex.value] || {};\n      return _createVNode(Menu, {\n        \"prefixCls\": \"\".concat(prefixCls, \"-menu\"),\n        \"activeKey\": activeOption.value,\n        \"onSelect\": function onSelect(_ref2) {\n          var key = _ref2.key;\n          var option = options.find(function (_ref3) {\n            var value = _ref3.value;\n            return value === key;\n          });\n          selectOption(option);\n        },\n        \"onMousedown\": onMousedown\n      }, {\n        default: function _default() {\n          return [!loading.value && options.map(function (option, index) {\n            var _slots$option, _slots$option2;\n\n            var value = option.value,\n                disabled = option.disabled,\n                _option$label = option.label,\n                label = _option$label === void 0 ? option.value : _option$label;\n            return _createVNode(MenuItem, {\n              \"key\": value,\n              \"disabled\": disabled,\n              \"onMouseenter\": function onMouseenter() {\n                setActiveIndex(index);\n              }\n            }, {\n              default: function _default() {\n                return [(_slots$option = (_slots$option2 = slots.option) === null || _slots$option2 === void 0 ? void 0 : _slots$option2.call(slots, option)) !== null && _slots$option !== void 0 ? _slots$option : typeof label === 'function' ? label({\n                  value: value,\n                  disabled: disabled\n                }) : label];\n              }\n            });\n          }), !loading.value && options.length === 0 ? _createVNode(MenuItem, {\n            \"key\": \"notFoundContent\",\n            \"disabled\": true\n          }, {\n            default: function _default() {\n              return [(_slots$notFoundConten = slots.notFoundContent) === null || _slots$notFoundConten === void 0 ? void 0 : _slots$notFoundConten.call(slots)];\n            }\n          }) : null, loading.value && _createVNode(MenuItem, {\n            \"key\": \"loading\",\n            \"disabled\": true\n          }, {\n            default: function _default() {\n              return [_createVNode(Spin, {\n                \"size\": \"small\"\n              }, null)];\n            }\n          })];\n        }\n      });\n    };\n  }\n});","map":{"version":3,"names":["createVNode","_createVNode","Menu","Item","MenuItem","onBeforeUnmount","defineComponent","inject","ref","MentionsContextKey","Spin","noop","compatConfig","MODE","name","props","prefixCls","String","options","type","Array","default","_default","slots","setup","_ref","_inject","activeIndex","loading","setActiveIndex","selectOption","_inject$onFocus","onFocus","timeoutId","onMousedown","e","clearTimeout","setTimeout","_slots$notFoundConten","activeOption","value","concat","onSelect","_ref2","key","option","find","_ref3","map","index","_slots$option","_slots$option2","disabled","_option$label","label","onMouseenter","call","length","notFoundContent"],"sources":["/Users/jasonti/Desktop/Tripper/vue/node_modules/ant-design-vue/es/vc-mentions/src/DropdownMenu.js"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport Menu, { Item as MenuItem } from '../../menu';\nimport { onBeforeUnmount, defineComponent, inject, ref } from 'vue';\nimport MentionsContextKey from './MentionsContext';\nimport Spin from '../../spin';\nfunction noop() {}\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'DropdownMenu',\n  props: {\n    prefixCls: String,\n    options: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  slots: ['notFoundContent', 'option'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var _inject = inject(MentionsContextKey, {\n        activeIndex: ref(),\n        loading: ref(false)\n      }),\n      activeIndex = _inject.activeIndex,\n      setActiveIndex = _inject.setActiveIndex,\n      selectOption = _inject.selectOption,\n      _inject$onFocus = _inject.onFocus,\n      onFocus = _inject$onFocus === void 0 ? noop : _inject$onFocus,\n      loading = _inject.loading;\n    var timeoutId;\n    var onMousedown = function onMousedown(e) {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(function () {\n        onFocus(e);\n      });\n    };\n    onBeforeUnmount(function () {\n      clearTimeout(timeoutId);\n    });\n    return function () {\n      var _slots$notFoundConten;\n      var prefixCls = props.prefixCls,\n        options = props.options;\n      var activeOption = options[activeIndex.value] || {};\n      return _createVNode(Menu, {\n        \"prefixCls\": \"\".concat(prefixCls, \"-menu\"),\n        \"activeKey\": activeOption.value,\n        \"onSelect\": function onSelect(_ref2) {\n          var key = _ref2.key;\n          var option = options.find(function (_ref3) {\n            var value = _ref3.value;\n            return value === key;\n          });\n          selectOption(option);\n        },\n        \"onMousedown\": onMousedown\n      }, {\n        default: function _default() {\n          return [!loading.value && options.map(function (option, index) {\n            var _slots$option, _slots$option2;\n            var value = option.value,\n              disabled = option.disabled,\n              _option$label = option.label,\n              label = _option$label === void 0 ? option.value : _option$label;\n            return _createVNode(MenuItem, {\n              \"key\": value,\n              \"disabled\": disabled,\n              \"onMouseenter\": function onMouseenter() {\n                setActiveIndex(index);\n              }\n            }, {\n              default: function _default() {\n                return [(_slots$option = (_slots$option2 = slots.option) === null || _slots$option2 === void 0 ? void 0 : _slots$option2.call(slots, option)) !== null && _slots$option !== void 0 ? _slots$option : typeof label === 'function' ? label({\n                  value: value,\n                  disabled: disabled\n                }) : label];\n              }\n            });\n          }), !loading.value && options.length === 0 ? _createVNode(MenuItem, {\n            \"key\": \"notFoundContent\",\n            \"disabled\": true\n          }, {\n            default: function _default() {\n              return [(_slots$notFoundConten = slots.notFoundContent) === null || _slots$notFoundConten === void 0 ? void 0 : _slots$notFoundConten.call(slots)];\n            }\n          }) : null, loading.value && _createVNode(MenuItem, {\n            \"key\": \"loading\",\n            \"disabled\": true\n          }, {\n            default: function _default() {\n              return [_createVNode(Spin, {\n                \"size\": \"small\"\n              }, null)];\n            }\n          })];\n        }\n      });\n    };\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}