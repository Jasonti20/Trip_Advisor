{"ast":null,"code":"import { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport PropTypes from './vue-types';\nimport { defineComponent, nextTick, onBeforeMount, onBeforeUnmount, onUpdated, Teleport, watch } from 'vue';\nimport { useInjectPortal } from '../vc-trigger/context';\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'Portal',\n  inheritAttrs: false,\n  props: {\n    getContainer: PropTypes.func.isRequired,\n    didUpdate: Function\n  },\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var isSSR = true; // getContainer 不会改变，不用响应式\n\n    var container;\n\n    var _useInjectPortal = useInjectPortal(),\n        shouldRender = _useInjectPortal.shouldRender;\n\n    onBeforeMount(function () {\n      isSSR = false;\n\n      if (shouldRender.value) {\n        container = props.getContainer();\n      }\n    });\n    var stopWatch = watch(shouldRender, function () {\n      if (shouldRender.value && !container) {\n        container = props.getContainer();\n      }\n\n      if (container) {\n        stopWatch();\n      }\n    });\n    onUpdated(function () {\n      nextTick(function () {\n        if (shouldRender.value) {\n          var _props$didUpdate;\n\n          (_props$didUpdate = props.didUpdate) === null || _props$didUpdate === void 0 ? void 0 : _props$didUpdate.call(props, props);\n        }\n      });\n    });\n    onBeforeUnmount(function () {\n      if (container && container.parentNode) {\n        container.parentNode.removeChild(container);\n      }\n    });\n    return function () {\n      if (!shouldRender.value) return null;\n\n      if (isSSR) {\n        var _slots$default;\n\n        return (_slots$default = slots.default) === null || _slots$default === void 0 ? void 0 : _slots$default.call(slots);\n      }\n\n      return container ? _createVNode(Teleport, {\n        \"to\": container\n      }, slots) : null;\n    };\n  }\n});","map":{"version":3,"names":["createVNode","_createVNode","resolveDirective","_resolveDirective","PropTypes","defineComponent","nextTick","onBeforeMount","onBeforeUnmount","onUpdated","Teleport","watch","useInjectPortal","compatConfig","MODE","name","inheritAttrs","props","getContainer","func","isRequired","didUpdate","Function","setup","_ref","slots","isSSR","container","_useInjectPortal","shouldRender","value","stopWatch","_props$didUpdate","call","parentNode","removeChild","_slots$default","default"],"sources":["/Users/jasonti/Desktop/Tripper/vue/node_modules/ant-design-vue/es/_util/Portal.js"],"sourcesContent":["import { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport PropTypes from './vue-types';\nimport { defineComponent, nextTick, onBeforeMount, onBeforeUnmount, onUpdated, Teleport, watch } from 'vue';\nimport { useInjectPortal } from '../vc-trigger/context';\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'Portal',\n  inheritAttrs: false,\n  props: {\n    getContainer: PropTypes.func.isRequired,\n    didUpdate: Function\n  },\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var isSSR = true;\n    // getContainer 不会改变，不用响应式\n    var container;\n    var _useInjectPortal = useInjectPortal(),\n      shouldRender = _useInjectPortal.shouldRender;\n    onBeforeMount(function () {\n      isSSR = false;\n      if (shouldRender.value) {\n        container = props.getContainer();\n      }\n    });\n    var stopWatch = watch(shouldRender, function () {\n      if (shouldRender.value && !container) {\n        container = props.getContainer();\n      }\n      if (container) {\n        stopWatch();\n      }\n    });\n    onUpdated(function () {\n      nextTick(function () {\n        if (shouldRender.value) {\n          var _props$didUpdate;\n          (_props$didUpdate = props.didUpdate) === null || _props$didUpdate === void 0 ? void 0 : _props$didUpdate.call(props, props);\n        }\n      });\n    });\n    onBeforeUnmount(function () {\n      if (container && container.parentNode) {\n        container.parentNode.removeChild(container);\n      }\n    });\n    return function () {\n      if (!shouldRender.value) return null;\n      if (isSSR) {\n        var _slots$default;\n        return (_slots$default = slots.default) === null || _slots$default === void 0 ? void 0 : _slots$default.call(slots);\n      }\n      return container ? _createVNode(Teleport, {\n        \"to\": container\n      }, slots) : null;\n    };\n  }\n});"],"mappings":"AAAA,SAASA,WAAW,IAAIC,YAAxB,EAAsCC,gBAAgB,IAAIC,iBAA1D,QAAmF,KAAnF;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAASC,eAAT,EAA0BC,QAA1B,EAAoCC,aAApC,EAAmDC,eAAnD,EAAoEC,SAApE,EAA+EC,QAA/E,EAAyFC,KAAzF,QAAsG,KAAtG;AACA,SAASC,eAAT,QAAgC,uBAAhC;AACA,eAAeP,eAAe,CAAC;EAC7BQ,YAAY,EAAE;IACZC,IAAI,EAAE;EADM,CADe;EAI7BC,IAAI,EAAE,QAJuB;EAK7BC,YAAY,EAAE,KALe;EAM7BC,KAAK,EAAE;IACLC,YAAY,EAAEd,SAAS,CAACe,IAAV,CAAeC,UADxB;IAELC,SAAS,EAAEC;EAFN,CANsB;EAU7BC,KAAK,EAAE,SAASA,KAAT,CAAeN,KAAf,EAAsBO,IAAtB,EAA4B;IACjC,IAAIC,KAAK,GAAGD,IAAI,CAACC,KAAjB;IACA,IAAIC,KAAK,GAAG,IAAZ,CAFiC,CAGjC;;IACA,IAAIC,SAAJ;;IACA,IAAIC,gBAAgB,GAAGhB,eAAe,EAAtC;IAAA,IACEiB,YAAY,GAAGD,gBAAgB,CAACC,YADlC;;IAEAtB,aAAa,CAAC,YAAY;MACxBmB,KAAK,GAAG,KAAR;;MACA,IAAIG,YAAY,CAACC,KAAjB,EAAwB;QACtBH,SAAS,GAAGV,KAAK,CAACC,YAAN,EAAZ;MACD;IACF,CALY,CAAb;IAMA,IAAIa,SAAS,GAAGpB,KAAK,CAACkB,YAAD,EAAe,YAAY;MAC9C,IAAIA,YAAY,CAACC,KAAb,IAAsB,CAACH,SAA3B,EAAsC;QACpCA,SAAS,GAAGV,KAAK,CAACC,YAAN,EAAZ;MACD;;MACD,IAAIS,SAAJ,EAAe;QACbI,SAAS;MACV;IACF,CAPoB,CAArB;IAQAtB,SAAS,CAAC,YAAY;MACpBH,QAAQ,CAAC,YAAY;QACnB,IAAIuB,YAAY,CAACC,KAAjB,EAAwB;UACtB,IAAIE,gBAAJ;;UACA,CAACA,gBAAgB,GAAGf,KAAK,CAACI,SAA1B,MAAyC,IAAzC,IAAiDW,gBAAgB,KAAK,KAAK,CAA3E,GAA+E,KAAK,CAApF,GAAwFA,gBAAgB,CAACC,IAAjB,CAAsBhB,KAAtB,EAA6BA,KAA7B,CAAxF;QACD;MACF,CALO,CAAR;IAMD,CAPQ,CAAT;IAQAT,eAAe,CAAC,YAAY;MAC1B,IAAImB,SAAS,IAAIA,SAAS,CAACO,UAA3B,EAAuC;QACrCP,SAAS,CAACO,UAAV,CAAqBC,WAArB,CAAiCR,SAAjC;MACD;IACF,CAJc,CAAf;IAKA,OAAO,YAAY;MACjB,IAAI,CAACE,YAAY,CAACC,KAAlB,EAAyB,OAAO,IAAP;;MACzB,IAAIJ,KAAJ,EAAW;QACT,IAAIU,cAAJ;;QACA,OAAO,CAACA,cAAc,GAAGX,KAAK,CAACY,OAAxB,MAAqC,IAArC,IAA6CD,cAAc,KAAK,KAAK,CAArE,GAAyE,KAAK,CAA9E,GAAkFA,cAAc,CAACH,IAAf,CAAoBR,KAApB,CAAzF;MACD;;MACD,OAAOE,SAAS,GAAG1B,YAAY,CAACS,QAAD,EAAW;QACxC,MAAMiB;MADkC,CAAX,EAE5BF,KAF4B,CAAf,GAEJ,IAFZ;IAGD,CATD;EAUD;AAtD4B,CAAD,CAA9B"},"metadata":{},"sourceType":"module"}